"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@uniswap";
exports.ids = ["vendor-chunks/@uniswap"];
exports.modules = {

/***/ "(ssr)/./node_modules/@uniswap/sdk-core/dist/sdk-core.esm.js":
/*!*************************************************************!*\
  !*** ./node_modules/@uniswap/sdk-core/dist/sdk-core.esm.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ARGENT_WALLET_DETECTOR_ADDRESS: () => (/* binding */ ARGENT_WALLET_DETECTOR_ADDRESS),\n/* harmony export */   CHAIN_TO_ADDRESSES_MAP: () => (/* binding */ CHAIN_TO_ADDRESSES_MAP),\n/* harmony export */   ChainId: () => (/* binding */ ChainId),\n/* harmony export */   CurrencyAmount: () => (/* binding */ CurrencyAmount),\n/* harmony export */   ENS_REGISTRAR_ADDRESSES: () => (/* binding */ ENS_REGISTRAR_ADDRESSES),\n/* harmony export */   Ether: () => (/* binding */ Ether),\n/* harmony export */   Fraction: () => (/* binding */ Fraction),\n/* harmony export */   GOVERNANCE_ALPHA_V0_ADDRESSES: () => (/* binding */ GOVERNANCE_ALPHA_V0_ADDRESSES),\n/* harmony export */   GOVERNANCE_ALPHA_V1_ADDRESSES: () => (/* binding */ GOVERNANCE_ALPHA_V1_ADDRESSES),\n/* harmony export */   GOVERNANCE_BRAVO_ADDRESSES: () => (/* binding */ GOVERNANCE_BRAVO_ADDRESSES),\n/* harmony export */   MERKLE_DISTRIBUTOR_ADDRESS: () => (/* binding */ MERKLE_DISTRIBUTOR_ADDRESS),\n/* harmony export */   MIXED_ROUTE_QUOTER_V1_ADDRESSES: () => (/* binding */ MIXED_ROUTE_QUOTER_V1_ADDRESSES),\n/* harmony export */   MULTICALL_ADDRESSES: () => (/* binding */ MULTICALL_ADDRESSES),\n/* harmony export */   MaxUint256: () => (/* binding */ MaxUint256),\n/* harmony export */   NONFUNGIBLE_POSITION_MANAGER_ADDRESSES: () => (/* binding */ NONFUNGIBLE_POSITION_MANAGER_ADDRESSES),\n/* harmony export */   NativeCurrency: () => (/* binding */ NativeCurrency),\n/* harmony export */   NativeCurrencyName: () => (/* binding */ NativeCurrencyName),\n/* harmony export */   Percent: () => (/* binding */ Percent),\n/* harmony export */   Price: () => (/* binding */ Price),\n/* harmony export */   QUOTER_ADDRESSES: () => (/* binding */ QUOTER_ADDRESSES),\n/* harmony export */   Rounding: () => (/* binding */ Rounding),\n/* harmony export */   SOCKS_CONTROLLER_ADDRESSES: () => (/* binding */ SOCKS_CONTROLLER_ADDRESSES),\n/* harmony export */   SUPPORTED_CHAINS: () => (/* binding */ SUPPORTED_CHAINS),\n/* harmony export */   SWAP_ROUTER_02_ADDRESSES: () => (/* binding */ SWAP_ROUTER_02_ADDRESSES),\n/* harmony export */   TICK_LENS_ADDRESSES: () => (/* binding */ TICK_LENS_ADDRESSES),\n/* harmony export */   TIMELOCK_ADDRESSES: () => (/* binding */ TIMELOCK_ADDRESSES),\n/* harmony export */   Token: () => (/* binding */ Token),\n/* harmony export */   TradeType: () => (/* binding */ TradeType),\n/* harmony export */   UNISWAP_NFT_AIRDROP_CLAIM_ADDRESS: () => (/* binding */ UNISWAP_NFT_AIRDROP_CLAIM_ADDRESS),\n/* harmony export */   UNI_ADDRESSES: () => (/* binding */ UNI_ADDRESSES),\n/* harmony export */   V2_FACTORY_ADDRESS: () => (/* binding */ V2_FACTORY_ADDRESS),\n/* harmony export */   V2_FACTORY_ADDRESSES: () => (/* binding */ V2_FACTORY_ADDRESSES),\n/* harmony export */   V2_ROUTER_ADDRESS: () => (/* binding */ V2_ROUTER_ADDRESS),\n/* harmony export */   V2_ROUTER_ADDRESSES: () => (/* binding */ V2_ROUTER_ADDRESSES),\n/* harmony export */   V3_CORE_FACTORY_ADDRESSES: () => (/* binding */ V3_CORE_FACTORY_ADDRESSES),\n/* harmony export */   V3_MIGRATOR_ADDRESSES: () => (/* binding */ V3_MIGRATOR_ADDRESSES),\n/* harmony export */   WETH9: () => (/* binding */ WETH9),\n/* harmony export */   computePriceImpact: () => (/* binding */ computePriceImpact),\n/* harmony export */   computeZksyncCreate2Address: () => (/* binding */ computeZksyncCreate2Address),\n/* harmony export */   sortedInsert: () => (/* binding */ sortedInsert),\n/* harmony export */   sqrt: () => (/* binding */ sqrt),\n/* harmony export */   validateAndParseAddress: () => (/* binding */ validateAndParseAddress)\n/* harmony export */ });\n/* harmony import */ var jsbi__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jsbi */ \"(ssr)/./node_modules/jsbi/dist/jsbi.mjs\");\n/* harmony import */ var tiny_invariant__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tiny-invariant */ \"(ssr)/./node_modules/tiny-invariant/dist/esm/tiny-invariant.js\");\n/* harmony import */ var decimal_js_light__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! decimal.js-light */ \"(ssr)/./node_modules/decimal.js-light/decimal.mjs\");\n/* harmony import */ var big_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! big.js */ \"(ssr)/./node_modules/big.js/big.mjs\");\n/* harmony import */ var toformat__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! toformat */ \"(ssr)/./node_modules/toformat/toFormat.js\");\n/* harmony import */ var toformat__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(toformat__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _ethersproject_bignumber__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ethersproject/bignumber */ \"(ssr)/./node_modules/@ethersproject/bignumber/lib.esm/bignumber.js\");\n/* harmony import */ var _ethersproject_address__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ethersproject/address */ \"(ssr)/./node_modules/@ethersproject/address/lib.esm/index.js\");\n/* harmony import */ var _ethersproject_bytes__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @ethersproject/bytes */ \"(ssr)/./node_modules/@ethersproject/bytes/lib.esm/index.js\");\n/* harmony import */ var _ethersproject_keccak256__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @ethersproject/keccak256 */ \"(ssr)/./node_modules/@ethersproject/keccak256/lib.esm/index.js\");\n/* harmony import */ var _ethersproject_strings__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @ethersproject/strings */ \"(ssr)/./node_modules/@ethersproject/strings/lib.esm/utf8.js\");\n\n\n\n\n\n\n\n\n\n\n\nfunction _toPrimitive(t, r) {\n  if (\"object\" != typeof t || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != typeof i) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n  return \"symbol\" == typeof i ? i : String(i);\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  _setPrototypeOf(subClass, superClass);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\n\nvar ChainId;\n(function (ChainId) {\n  ChainId[ChainId[\"MAINNET\"] = 1] = \"MAINNET\";\n  ChainId[ChainId[\"GOERLI\"] = 5] = \"GOERLI\";\n  ChainId[ChainId[\"SEPOLIA\"] = 11155111] = \"SEPOLIA\";\n  ChainId[ChainId[\"OPTIMISM\"] = 10] = \"OPTIMISM\";\n  ChainId[ChainId[\"OPTIMISM_GOERLI\"] = 420] = \"OPTIMISM_GOERLI\";\n  ChainId[ChainId[\"OPTIMISM_SEPOLIA\"] = 11155420] = \"OPTIMISM_SEPOLIA\";\n  ChainId[ChainId[\"ARBITRUM_ONE\"] = 42161] = \"ARBITRUM_ONE\";\n  ChainId[ChainId[\"ARBITRUM_GOERLI\"] = 421613] = \"ARBITRUM_GOERLI\";\n  ChainId[ChainId[\"ARBITRUM_SEPOLIA\"] = 421614] = \"ARBITRUM_SEPOLIA\";\n  ChainId[ChainId[\"POLYGON\"] = 137] = \"POLYGON\";\n  ChainId[ChainId[\"POLYGON_MUMBAI\"] = 80001] = \"POLYGON_MUMBAI\";\n  ChainId[ChainId[\"CELO\"] = 42220] = \"CELO\";\n  ChainId[ChainId[\"CELO_ALFAJORES\"] = 44787] = \"CELO_ALFAJORES\";\n  ChainId[ChainId[\"GNOSIS\"] = 100] = \"GNOSIS\";\n  ChainId[ChainId[\"MOONBEAM\"] = 1284] = \"MOONBEAM\";\n  ChainId[ChainId[\"BNB\"] = 56] = \"BNB\";\n  ChainId[ChainId[\"AVALANCHE\"] = 43114] = \"AVALANCHE\";\n  ChainId[ChainId[\"BASE_GOERLI\"] = 84531] = \"BASE_GOERLI\";\n  ChainId[ChainId[\"BASE\"] = 8453] = \"BASE\";\n  ChainId[ChainId[\"ZORA\"] = 7777777] = \"ZORA\";\n  ChainId[ChainId[\"ZORA_SEPOLIA\"] = 999999999] = \"ZORA_SEPOLIA\";\n  ChainId[ChainId[\"ROOTSTOCK\"] = 30] = \"ROOTSTOCK\";\n  ChainId[ChainId[\"BLAST\"] = 81457] = \"BLAST\";\n  ChainId[ChainId[\"ZKSYNC\"] = 324] = \"ZKSYNC\";\n  ChainId[ChainId[\"WORLDCHAIN\"] = 480] = \"WORLDCHAIN\";\n  ChainId[ChainId[\"ASTROCHAIN_SEPOLIA\"] = 1301] = \"ASTROCHAIN_SEPOLIA\";\n})(ChainId || (ChainId = {}));\nvar SUPPORTED_CHAINS = [ChainId.MAINNET, ChainId.OPTIMISM, ChainId.OPTIMISM_GOERLI, ChainId.OPTIMISM_SEPOLIA, ChainId.ARBITRUM_ONE, ChainId.ARBITRUM_GOERLI, ChainId.ARBITRUM_SEPOLIA, ChainId.POLYGON, ChainId.POLYGON_MUMBAI, ChainId.GOERLI, ChainId.SEPOLIA, ChainId.CELO_ALFAJORES, ChainId.CELO, ChainId.BNB, ChainId.AVALANCHE, ChainId.BASE, ChainId.BASE_GOERLI, ChainId.ZORA, ChainId.ZORA_SEPOLIA, ChainId.ROOTSTOCK, ChainId.BLAST, ChainId.ZKSYNC, ChainId.WORLDCHAIN, ChainId.ASTROCHAIN_SEPOLIA];\nvar NativeCurrencyName;\n(function (NativeCurrencyName) {\n  // Strings match input for CLI\n  NativeCurrencyName[\"ETHER\"] = \"ETH\";\n  NativeCurrencyName[\"MATIC\"] = \"MATIC\";\n  NativeCurrencyName[\"CELO\"] = \"CELO\";\n  NativeCurrencyName[\"GNOSIS\"] = \"XDAI\";\n  NativeCurrencyName[\"MOONBEAM\"] = \"GLMR\";\n  NativeCurrencyName[\"BNB\"] = \"BNB\";\n  NativeCurrencyName[\"AVAX\"] = \"AVAX\";\n  NativeCurrencyName[\"ROOTSTOCK\"] = \"RBTC\";\n})(NativeCurrencyName || (NativeCurrencyName = {}));\n\nvar _V2_FACTORY_ADDRESSES, _V2_ROUTER_ADDRESSES, _CHAIN_TO_ADDRESSES_M, _GOVERNANCE_ALPHA_V1_, _GOVERNANCE_BRAVO_ADD, _MERKLE_DISTRIBUTOR_A, _ARGENT_WALLET_DETECT, _SOCKS_CONTROLLER_ADD;\nvar DEFAULT_NETWORKS = [ChainId.MAINNET, ChainId.GOERLI, ChainId.SEPOLIA];\nfunction constructSameAddressMap(address, additionalNetworks) {\n  if (additionalNetworks === void 0) {\n    additionalNetworks = [];\n  }\n  return DEFAULT_NETWORKS.concat(additionalNetworks).reduce(function (memo, chainId) {\n    memo[chainId] = address;\n    return memo;\n  }, {});\n}\nvar UNI_ADDRESSES = /*#__PURE__*/constructSameAddressMap('0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984', [ChainId.OPTIMISM, ChainId.ARBITRUM_ONE, ChainId.POLYGON, ChainId.POLYGON_MUMBAI, ChainId.SEPOLIA]);\nvar UNISWAP_NFT_AIRDROP_CLAIM_ADDRESS = '0x8B799381ac40b838BBA4131ffB26197C432AFe78';\n/**\r\n * @deprecated use V2_FACTORY_ADDRESSES instead\r\n */\nvar V2_FACTORY_ADDRESS = '0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f';\nvar V2_FACTORY_ADDRESSES = (_V2_FACTORY_ADDRESSES = {}, _V2_FACTORY_ADDRESSES[ChainId.MAINNET] = '0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f', _V2_FACTORY_ADDRESSES[ChainId.GOERLI] = '0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f', _V2_FACTORY_ADDRESSES[ChainId.SEPOLIA] = '0xB7f907f7A9eBC822a80BD25E224be42Ce0A698A0', _V2_FACTORY_ADDRESSES[ChainId.OPTIMISM] = '0x0c3c1c532F1e39EdF36BE9Fe0bE1410313E074Bf', _V2_FACTORY_ADDRESSES[ChainId.ARBITRUM_ONE] = '0xf1D7CC64Fb4452F05c498126312eBE29f30Fbcf9', _V2_FACTORY_ADDRESSES[ChainId.AVALANCHE] = '0x9e5A52f57b3038F1B8EeE45F28b3C1967e22799C', _V2_FACTORY_ADDRESSES[ChainId.BASE] = '0x8909dc15e40173ff4699343b6eb8132c65e18ec6', _V2_FACTORY_ADDRESSES[ChainId.BNB] = '0x8909Dc15e40173Ff4699343b6eB8132c65e18eC6', _V2_FACTORY_ADDRESSES[ChainId.POLYGON] = '0x9e5A52f57b3038F1B8EeE45F28b3C1967e22799C', _V2_FACTORY_ADDRESSES[ChainId.CELO] = '0x79a530c8e2fA8748B7B40dd3629C0520c2cCf03f', _V2_FACTORY_ADDRESSES[ChainId.BLAST] = '0x5C346464d33F90bABaf70dB6388507CC889C1070', _V2_FACTORY_ADDRESSES[ChainId.WORLDCHAIN] = '0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f', _V2_FACTORY_ADDRESSES[ChainId.ASTROCHAIN_SEPOLIA] = '0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f', _V2_FACTORY_ADDRESSES);\n/**\r\n * @deprecated use V2_ROUTER_ADDRESSES instead\r\n */\nvar V2_ROUTER_ADDRESS = '0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D';\nvar V2_ROUTER_ADDRESSES = (_V2_ROUTER_ADDRESSES = {}, _V2_ROUTER_ADDRESSES[ChainId.MAINNET] = '0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D', _V2_ROUTER_ADDRESSES[ChainId.GOERLI] = '0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D', _V2_ROUTER_ADDRESSES[ChainId.ARBITRUM_ONE] = '0x4752ba5dbc23f44d87826276bf6fd6b1c372ad24', _V2_ROUTER_ADDRESSES[ChainId.OPTIMISM] = '0x4a7b5da61326a6379179b40d00f57e5bbdc962c2', _V2_ROUTER_ADDRESSES[ChainId.BASE] = '0x4752ba5dbc23f44d87826276bf6fd6b1c372ad24', _V2_ROUTER_ADDRESSES[ChainId.AVALANCHE] = '0x4752ba5dbc23f44d87826276bf6fd6b1c372ad24', _V2_ROUTER_ADDRESSES[ChainId.BNB] = '0x4752ba5dbc23f44d87826276bf6fd6b1c372ad24', _V2_ROUTER_ADDRESSES[ChainId.POLYGON] = '0xedf6066a2b290c185783862c7f4776a2c8077ad1', _V2_ROUTER_ADDRESSES[ChainId.BLAST] = '0xBB66Eb1c5e875933D44DAe661dbD80e5D9B03035', _V2_ROUTER_ADDRESSES[ChainId.WORLDCHAIN] = '0xf164fC0Ec4E93095b804a4795bBe1e041497b92a', _V2_ROUTER_ADDRESSES[ChainId.ASTROCHAIN_SEPOLIA] = '0x9e5A52f57b3038F1B8EeE45F28b3C1967e22799C', _V2_ROUTER_ADDRESSES);\n// Networks that share most of the same addresses i.e. Mainnet, Goerli, Optimism, Arbitrum, Polygon\nvar DEFAULT_ADDRESSES = {\n  v3CoreFactoryAddress: '0x1F98431c8aD98523631AE4a59f267346ea31F984',\n  multicallAddress: '0x1F98415757620B543A52E61c46B32eB19261F984',\n  quoterAddress: '0xb27308f9F90D607463bb33eA1BeBb41C27CE5AB6',\n  v3MigratorAddress: '0xA5644E29708357803b5A882D272c41cC0dF92B34',\n  nonfungiblePositionManagerAddress: '0xC36442b4a4522E871399CD717aBDD847Ab11FE88'\n};\nvar MAINNET_ADDRESSES = /*#__PURE__*/_extends({}, DEFAULT_ADDRESSES, {\n  mixedRouteQuoterV1Address: '0x84E44095eeBfEC7793Cd7d5b57B7e401D7f1cA2E'\n});\nvar GOERLI_ADDRESSES = /*#__PURE__*/_extends({}, DEFAULT_ADDRESSES, {\n  mixedRouteQuoterV1Address: '0xBa60b6e6fF25488308789E6e0A65D838be34194e'\n});\nvar OPTIMISM_ADDRESSES = DEFAULT_ADDRESSES;\nvar ARBITRUM_ONE_ADDRESSES = /*#__PURE__*/_extends({}, DEFAULT_ADDRESSES, {\n  multicallAddress: '0xadF885960B47eA2CD9B55E6DAc6B42b7Cb2806dB',\n  tickLensAddress: '0xbfd8137f7d1516D3ea5cA83523914859ec47F573'\n});\nvar POLYGON_ADDRESSES = DEFAULT_ADDRESSES;\n// celo v3 addresses\nvar CELO_ADDRESSES = {\n  v3CoreFactoryAddress: '0xAfE208a311B21f13EF87E33A90049fC17A7acDEc',\n  multicallAddress: '0x633987602DE5C4F337e3DbF265303A1080324204',\n  quoterAddress: '0x82825d0554fA07f7FC52Ab63c961F330fdEFa8E8',\n  v3MigratorAddress: '0x3cFd4d48EDfDCC53D3f173F596f621064614C582',\n  nonfungiblePositionManagerAddress: '0x3d79EdAaBC0EaB6F08ED885C05Fc0B014290D95A',\n  tickLensAddress: '0x5f115D9113F88e0a0Db1b5033D90D4a9690AcD3D'\n};\n// BNB v3 addresses\nvar BNB_ADDRESSES = {\n  v3CoreFactoryAddress: '0xdB1d10011AD0Ff90774D0C6Bb92e5C5c8b4461F7',\n  multicallAddress: '0x963Df249eD09c358A4819E39d9Cd5736c3087184',\n  quoterAddress: '0x78D78E420Da98ad378D7799bE8f4AF69033EB077',\n  v3MigratorAddress: '0x32681814957e0C13117ddc0c2aba232b5c9e760f',\n  nonfungiblePositionManagerAddress: '0x7b8A01B39D58278b5DE7e48c8449c9f4F5170613',\n  tickLensAddress: '0xD9270014D396281579760619CCf4c3af0501A47C',\n  swapRouter02Address: '0xB971eF87ede563556b2ED4b1C0b0019111Dd85d2'\n};\n// optimism goerli addresses\nvar OPTIMISM_GOERLI_ADDRESSES = {\n  v3CoreFactoryAddress: '0xB656dA17129e7EB733A557f4EBc57B76CFbB5d10',\n  multicallAddress: '0x07F2D8a2a02251B62af965f22fC4744A5f96BCCd',\n  quoterAddress: '0x9569CbA925c8ca2248772A9A4976A516743A246F',\n  v3MigratorAddress: '0xf6c55fBe84B1C8c3283533c53F51bC32F5C7Aba8',\n  nonfungiblePositionManagerAddress: '0x39Ca85Af2F383190cBf7d7c41ED9202D27426EF6',\n  tickLensAddress: '0xe6140Bd164b63E8BfCfc40D5dF952f83e171758e'\n};\n// optimism sepolia addresses\nvar OPTIMISM_SEPOLIA_ADDRESSES = {\n  v3CoreFactoryAddress: '0x8CE191193D15ea94e11d327b4c7ad8bbE520f6aF',\n  multicallAddress: '0x80e4e06841bb76AA9735E0448cB8d003C0EF009a',\n  quoterAddress: '0x0FBEa6cf957d95ee9313490050F6A0DA68039404',\n  v3MigratorAddress: '0xE7EcbAAaA54D007A00dbb6c1d2f150066D69dA07',\n  nonfungiblePositionManagerAddress: '0xdA75cEf1C93078e8b736FCA5D5a30adb97C8957d',\n  tickLensAddress: '0xCb7f54747F58F8944973cea5b8f4ac2209BadDC5',\n  swapRouter02Address: '0x94cC0AaC535CCDB3C01d6787D6413C739ae12bc4'\n};\n// arbitrum goerli v3 addresses\nvar ARBITRUM_GOERLI_ADDRESSES = {\n  v3CoreFactoryAddress: '0x4893376342d5D7b3e31d4184c08b265e5aB2A3f6',\n  multicallAddress: '0x8260CB40247290317a4c062F3542622367F206Ee',\n  quoterAddress: '0x1dd92b83591781D0C6d98d07391eea4b9a6008FA',\n  v3MigratorAddress: '0xA815919D2584Ac3F76ea9CB62E6Fd40a43BCe0C3',\n  nonfungiblePositionManagerAddress: '0x622e4726a167799826d1E1D150b076A7725f5D81',\n  tickLensAddress: '0xb52429333da969a0C79a60930a4Bf0020E5D1DE8'\n};\n// arbitrum sepolia v3 addresses\nvar ARBITRUM_SEPOLIA_ADDRESSES = {\n  v3CoreFactoryAddress: '0x248AB79Bbb9bC29bB72f7Cd42F17e054Fc40188e',\n  multicallAddress: '0x2B718b475e385eD29F56775a66aAB1F5cC6B2A0A',\n  quoterAddress: '0x2779a0CC1c3e0E44D2542EC3e79e3864Ae93Ef0B',\n  v3MigratorAddress: '0x398f43ef2c67B941147157DA1c5a868E906E043D',\n  nonfungiblePositionManagerAddress: '0x6b2937Bde17889EDCf8fbD8dE31C3C2a70Bc4d65',\n  tickLensAddress: '0x0fd18587734e5C2dcE2dccDcC7DD1EC89ba557d9',\n  swapRouter02Address: '0x101F443B4d1b059569D643917553c771E1b9663E'\n};\n// sepolia v3 addresses\nvar SEPOLIA_ADDRESSES = {\n  v3CoreFactoryAddress: '0x0227628f3F023bb0B980b67D528571c95c6DaC1c',\n  multicallAddress: '0xD7F33bCdb21b359c8ee6F0251d30E94832baAd07',\n  quoterAddress: '0xEd1f6473345F45b75F8179591dd5bA1888cf2FB3',\n  v3MigratorAddress: '0x729004182cF005CEC8Bd85df140094b6aCbe8b15',\n  nonfungiblePositionManagerAddress: '0x1238536071E1c677A632429e3655c799b22cDA52',\n  tickLensAddress: '0xd7f33bcdb21b359c8ee6f0251d30e94832baad07',\n  swapRouter02Address: '0x3bFA4769FB09eefC5a80d6E87c3B9C650f7Ae48E',\n  mixedRouteQuoterV2Address: '0x4745f77b56a0e2294426e3936dc4fab68d9543cd',\n  v4PoolManagerAddress: '0xE8E23e97Fa135823143d6b9Cba9c699040D51F70',\n  v4PositionManagerAddress: '0x0048d1C09771Bb87b6A44e1294769E1DFd698584',\n  v4StateView: '0x6Bb7157fb50e3Ae4983Ccdc62Fb8173c03c6b0a7',\n  v4QuoterAddress: '0x9336CF25dDad216FD480A5422CBEa7b3BC5bDda8'\n};\n// Avalanche v3 addresses\nvar AVALANCHE_ADDRESSES = {\n  v3CoreFactoryAddress: '0x740b1c1de25031C31FF4fC9A62f554A55cdC1baD',\n  multicallAddress: '0x0139141Cd4Ee88dF3Cdb65881D411bAE271Ef0C2',\n  quoterAddress: '0xbe0F5544EC67e9B3b2D979aaA43f18Fd87E6257F',\n  v3MigratorAddress: '0x44f5f1f5E452ea8d29C890E8F6e893fC0f1f0f97',\n  nonfungiblePositionManagerAddress: '0x655C406EBFa14EE2006250925e54ec43AD184f8B',\n  tickLensAddress: '0xEB9fFC8bf81b4fFd11fb6A63a6B0f098c6e21950',\n  swapRouter02Address: '0xbb00FF08d01D300023C629E8fFfFcb65A5a578cE'\n};\nvar BASE_ADDRESSES = {\n  v3CoreFactoryAddress: '0x33128a8fC17869897dcE68Ed026d694621f6FDfD',\n  multicallAddress: '0x091e99cb1C49331a94dD62755D168E941AbD0693',\n  quoterAddress: '0x3d4e44Eb1374240CE5F1B871ab261CD16335B76a',\n  v3MigratorAddress: '0x23cF10b1ee3AdfCA73B0eF17C07F7577e7ACd2d7',\n  nonfungiblePositionManagerAddress: '0x03a520b32C04BF3bEEf7BEb72E919cf822Ed34f1',\n  tickLensAddress: '0x0CdeE061c75D43c82520eD998C23ac2991c9ac6d',\n  swapRouter02Address: '0x2626664c2603336E57B271c5C0b26F421741e481',\n  mixedRouteQuoterV1Address: '0xe544efae946f0008ae9a8d64493efa7886b73776'\n};\n// Base Goerli v3 addresses\nvar BASE_GOERLI_ADDRESSES = {\n  v3CoreFactoryAddress: '0x9323c1d6D800ed51Bd7C6B216cfBec678B7d0BC2',\n  multicallAddress: '0xB206027a9E0E13F05eBEFa5D2402Bab3eA716439',\n  quoterAddress: '0xedf539058e28E5937dAef3f69cEd0b25fbE66Ae9',\n  v3MigratorAddress: '0x3efe5d02a04b7351D671Db7008ec6eBA9AD9e3aE',\n  nonfungiblePositionManagerAddress: '0x3c61369ef0D1D2AFa70d8feC2F31C5D6Ce134F30',\n  tickLensAddress: '0x1acB873Ee909D0c98adB18e4474943249F931b92',\n  swapRouter02Address: '0x8357227D4eDc78991Db6FDB9bD6ADE250536dE1d'\n};\nvar ZORA_ADDRESSES = {\n  v3CoreFactoryAddress: '0x7145F8aeef1f6510E92164038E1B6F8cB2c42Cbb',\n  multicallAddress: '0xA51c76bEE6746cB487a7e9312E43e2b8f4A37C15',\n  quoterAddress: '0x11867e1b3348F3ce4FcC170BC5af3d23E07E64Df',\n  v3MigratorAddress: '0x048352d8dCF13686982C799da63fA6426a9D0b60',\n  nonfungiblePositionManagerAddress: '0xbC91e8DfA3fF18De43853372A3d7dfe585137D78',\n  tickLensAddress: '0x209AAda09D74Ad3B8D0E92910Eaf85D2357e3044',\n  swapRouter02Address: '0x7De04c96BE5159c3b5CeffC82aa176dc81281557'\n};\nvar ZORA_SEPOLIA_ADDRESSES = {\n  v3CoreFactoryAddress: '0x4324A677D74764f46f33ED447964252441aA8Db6',\n  multicallAddress: '0xA1E7e3A69671C4494EC59Dbd442de930a93F911A',\n  quoterAddress: '0xC195976fEF0985886E37036E2DF62bF371E12Df0',\n  v3MigratorAddress: '0x65ef259b31bf1d977c37e9434658694267674897',\n  nonfungiblePositionManagerAddress: '0xB8458EaAe43292e3c1F7994EFd016bd653d23c20',\n  tickLensAddress: '0x23C0F71877a1Fc4e20A78018f9831365c85f3064'\n};\nvar ROOTSTOCK_ADDRESSES = {\n  v3CoreFactoryAddress: '0xaF37EC98A00FD63689CF3060BF3B6784E00caD82',\n  multicallAddress: '0x996a9858cDfa45Ad68E47c9A30a7201E29c6a386',\n  quoterAddress: '0xb51727c996C68E60F598A923a5006853cd2fEB31',\n  v3MigratorAddress: '0x16678977CA4ec3DAD5efc7b15780295FE5f56162',\n  nonfungiblePositionManagerAddress: '0x9d9386c042F194B460Ec424a1e57ACDE25f5C4b1',\n  tickLensAddress: '0x55B9dF5bF68ADe972191a91980459f48ecA16afC',\n  swapRouter02Address: '0x0B14ff67f0014046b4b99057Aec4509640b3947A'\n};\nvar BLAST_ADDRESSES = {\n  v3CoreFactoryAddress: '0x792edAdE80af5fC680d96a2eD80A44247D2Cf6Fd',\n  multicallAddress: '0xdC7f370de7631cE9e2c2e1DCDA6B3B5744Cf4705',\n  quoterAddress: '0x6Cdcd65e03c1CEc3730AeeCd45bc140D57A25C77',\n  v3MigratorAddress: '0x15CA7043CD84C5D21Ae76Ba0A1A967d42c40ecE0',\n  nonfungiblePositionManagerAddress: '0xB218e4f7cF0533d4696fDfC419A0023D33345F28',\n  tickLensAddress: '0x2E95185bCdD928a3e984B7e2D6560Ab1b17d7274',\n  swapRouter02Address: '0x549FEB8c9bd4c12Ad2AB27022dA12492aC452B66'\n};\nvar ZKSYNC_ADDRESSES = {\n  v3CoreFactoryAddress: '0x8FdA5a7a8dCA67BBcDd10F02Fa0649A937215422',\n  multicallAddress: '0x0c68a7C72f074d1c45C16d41fa74eEbC6D16a65C',\n  quoterAddress: '0x8Cb537fc92E26d8EBBb760E632c95484b6Ea3e28',\n  v3MigratorAddress: '0x611841b24E43C4ACfd290B427a3D6cf1A59dac8E',\n  nonfungiblePositionManagerAddress: '0x0616e5762c1E7Dc3723c50663dF10a162D690a86',\n  tickLensAddress: '0xe10FF11b809f8EE07b056B452c3B2caa7FE24f89',\n  swapRouter02Address: '0x99c56385daBCE3E81d8499d0b8d0257aBC07E8A3'\n};\nvar WORLDCHAIN_ADDRESSES = {\n  v3CoreFactoryAddress: '0x7a5028BDa40e7B173C278C5342087826455ea25a',\n  multicallAddress: '0x0a22c04215c97E3F532F4eF30e0aD9458792dAB9',\n  quoterAddress: '0x10158D43e6cc414deE1Bd1eB0EfC6a5cBCfF244c',\n  v3MigratorAddress: '0x9EBDdCBa71C9027E1eB45135672a30bcFEec9de3',\n  nonfungiblePositionManagerAddress: '0xec12a9F9a09f50550686363766Cc153D03c27b5e',\n  tickLensAddress: '0xE61df0CaC9d85876aCE5E3037005D80943570623',\n  swapRouter02Address: '0x091AD9e2e6e5eD44c1c66dB50e49A601F9f36cF6'\n};\nvar ASTROCHAIN_SEPOLIA_ADDRESSES = {\n  v3CoreFactoryAddress: '0x1F98431c8aD98523631AE4a59f267346ea31F984',\n  multicallAddress: '0x9D0F15f2cf58655fDDcD1EE6129C547fDaeD01b1',\n  quoterAddress: '0x6Dd37329A1A225a6Fca658265D460423DCafBF89',\n  v3MigratorAddress: '0xb5FA244C9d6D04B2FBac84418b3c4910ED1Ae5f2',\n  nonfungiblePositionManagerAddress: '0xB7F724d6dDDFd008eFf5cc2834edDE5F9eF0d075',\n  tickLensAddress: '0x5f739c790a48E97eec0efb81bab5D152c0A0ecA0',\n  swapRouter02Address: '0xd1AAE39293221B77B0C71fBD6dCb7Ea29Bb5B166',\n  v4PoolManagerAddress: '0x38EB8B22Df3Ae7fb21e92881151B365Df14ba967',\n  v4PositionManagerAddress: '0x05deD3F8a8e84700d68A4D81cd6780c982dB13F9',\n  v4StateView: '0xad328439DCa7ce857662afA4584A3d571bbDDC75',\n  v4QuoterAddress: '0x2cfa87651D3AB05Bc59E325E5eaC8495CF34cE55'\n};\nvar CHAIN_TO_ADDRESSES_MAP = (_CHAIN_TO_ADDRESSES_M = {}, _CHAIN_TO_ADDRESSES_M[ChainId.MAINNET] = MAINNET_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.OPTIMISM] = OPTIMISM_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.ARBITRUM_ONE] = ARBITRUM_ONE_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.POLYGON] = POLYGON_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.POLYGON_MUMBAI] = POLYGON_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.GOERLI] = GOERLI_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.CELO] = CELO_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.CELO_ALFAJORES] = CELO_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.BNB] = BNB_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.OPTIMISM_GOERLI] = OPTIMISM_GOERLI_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.OPTIMISM_SEPOLIA] = OPTIMISM_SEPOLIA_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.ARBITRUM_GOERLI] = ARBITRUM_GOERLI_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.ARBITRUM_SEPOLIA] = ARBITRUM_SEPOLIA_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.SEPOLIA] = SEPOLIA_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.AVALANCHE] = AVALANCHE_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.BASE] = BASE_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.BASE_GOERLI] = BASE_GOERLI_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.ZORA] = ZORA_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.ZORA_SEPOLIA] = ZORA_SEPOLIA_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.ROOTSTOCK] = ROOTSTOCK_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.BLAST] = BLAST_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.ZKSYNC] = ZKSYNC_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.WORLDCHAIN] = WORLDCHAIN_ADDRESSES, _CHAIN_TO_ADDRESSES_M[ChainId.ASTROCHAIN_SEPOLIA] = ASTROCHAIN_SEPOLIA_ADDRESSES, _CHAIN_TO_ADDRESSES_M);\n/* V3 Contract Addresses */\nvar V3_CORE_FACTORY_ADDRESSES = /*#__PURE__*/_extends({}, /*#__PURE__*/SUPPORTED_CHAINS.reduce(function (memo, chainId) {\n  memo[chainId] = CHAIN_TO_ADDRESSES_MAP[chainId].v3CoreFactoryAddress;\n  return memo;\n}, {}));\nvar V3_MIGRATOR_ADDRESSES = /*#__PURE__*/_extends({}, /*#__PURE__*/SUPPORTED_CHAINS.reduce(function (memo, chainId) {\n  var v3MigratorAddress = CHAIN_TO_ADDRESSES_MAP[chainId].v3MigratorAddress;\n  if (v3MigratorAddress) {\n    memo[chainId] = v3MigratorAddress;\n  }\n  return memo;\n}, {}));\nvar MULTICALL_ADDRESSES = /*#__PURE__*/_extends({}, /*#__PURE__*/SUPPORTED_CHAINS.reduce(function (memo, chainId) {\n  memo[chainId] = CHAIN_TO_ADDRESSES_MAP[chainId].multicallAddress;\n  return memo;\n}, {}));\n/**\r\n * The oldest V0 governance address\r\n */\nvar GOVERNANCE_ALPHA_V0_ADDRESSES = /*#__PURE__*/constructSameAddressMap('0x5e4be8Bc9637f0EAA1A755019e06A68ce081D58F');\n/**\r\n * The older V1 governance address\r\n */\nvar GOVERNANCE_ALPHA_V1_ADDRESSES = (_GOVERNANCE_ALPHA_V1_ = {}, _GOVERNANCE_ALPHA_V1_[ChainId.MAINNET] = '0xC4e172459f1E7939D522503B81AFAaC1014CE6F6', _GOVERNANCE_ALPHA_V1_);\n/**\r\n * The latest governor bravo that is currently admin of timelock\r\n */\nvar GOVERNANCE_BRAVO_ADDRESSES = (_GOVERNANCE_BRAVO_ADD = {}, _GOVERNANCE_BRAVO_ADD[ChainId.MAINNET] = '0x408ED6354d4973f66138C91495F2f2FCbd8724C3', _GOVERNANCE_BRAVO_ADD);\nvar TIMELOCK_ADDRESSES = /*#__PURE__*/constructSameAddressMap('0x1a9C8182C09F50C8318d769245beA52c32BE35BC');\nvar MERKLE_DISTRIBUTOR_ADDRESS = (_MERKLE_DISTRIBUTOR_A = {}, _MERKLE_DISTRIBUTOR_A[ChainId.MAINNET] = '0x090D4613473dEE047c3f2706764f49E0821D256e', _MERKLE_DISTRIBUTOR_A);\nvar ARGENT_WALLET_DETECTOR_ADDRESS = (_ARGENT_WALLET_DETECT = {}, _ARGENT_WALLET_DETECT[ChainId.MAINNET] = '0xeca4B0bDBf7c55E9b7925919d03CbF8Dc82537E8', _ARGENT_WALLET_DETECT);\nvar QUOTER_ADDRESSES = /*#__PURE__*/_extends({}, /*#__PURE__*/SUPPORTED_CHAINS.reduce(function (memo, chainId) {\n  memo[chainId] = CHAIN_TO_ADDRESSES_MAP[chainId].quoterAddress;\n  return memo;\n}, {}));\nvar NONFUNGIBLE_POSITION_MANAGER_ADDRESSES = /*#__PURE__*/_extends({}, /*#__PURE__*/SUPPORTED_CHAINS.reduce(function (memo, chainId) {\n  var nonfungiblePositionManagerAddress = CHAIN_TO_ADDRESSES_MAP[chainId].nonfungiblePositionManagerAddress;\n  if (nonfungiblePositionManagerAddress) {\n    memo[chainId] = nonfungiblePositionManagerAddress;\n  }\n  return memo;\n}, {}));\nvar ENS_REGISTRAR_ADDRESSES = /*#__PURE__*/_extends({}, /*#__PURE__*/constructSameAddressMap('0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e'));\nvar SOCKS_CONTROLLER_ADDRESSES = (_SOCKS_CONTROLLER_ADD = {}, _SOCKS_CONTROLLER_ADD[ChainId.MAINNET] = '0x65770b5283117639760beA3F867b69b3697a91dd', _SOCKS_CONTROLLER_ADD);\nvar TICK_LENS_ADDRESSES = /*#__PURE__*/_extends({}, /*#__PURE__*/SUPPORTED_CHAINS.reduce(function (memo, chainId) {\n  var tickLensAddress = CHAIN_TO_ADDRESSES_MAP[chainId].tickLensAddress;\n  if (tickLensAddress) {\n    memo[chainId] = tickLensAddress;\n  }\n  return memo;\n}, {}));\nvar MIXED_ROUTE_QUOTER_V1_ADDRESSES = /*#__PURE__*/SUPPORTED_CHAINS.reduce(function (memo, chainId) {\n  var mixedRouteQuoterV1Address = CHAIN_TO_ADDRESSES_MAP[chainId].mixedRouteQuoterV1Address;\n  if (mixedRouteQuoterV1Address) {\n    memo[chainId] = mixedRouteQuoterV1Address;\n  }\n  return memo;\n}, {});\nvar SWAP_ROUTER_02_ADDRESSES = function SWAP_ROUTER_02_ADDRESSES(chainId) {\n  if (SUPPORTED_CHAINS.includes(chainId)) {\n    var _CHAIN_TO_ADDRESSES_M2;\n    var id = chainId;\n    return (_CHAIN_TO_ADDRESSES_M2 = CHAIN_TO_ADDRESSES_MAP[id].swapRouter02Address) != null ? _CHAIN_TO_ADDRESSES_M2 : '0x68b3465833fb72A70ecDF485E0e4C7bD8665Fc45';\n  }\n  return '';\n};\n\nvar TradeType;\n(function (TradeType) {\n  TradeType[TradeType[\"EXACT_INPUT\"] = 0] = \"EXACT_INPUT\";\n  TradeType[TradeType[\"EXACT_OUTPUT\"] = 1] = \"EXACT_OUTPUT\";\n})(TradeType || (TradeType = {}));\nvar Rounding;\n(function (Rounding) {\n  Rounding[Rounding[\"ROUND_DOWN\"] = 0] = \"ROUND_DOWN\";\n  Rounding[Rounding[\"ROUND_HALF_UP\"] = 1] = \"ROUND_HALF_UP\";\n  Rounding[Rounding[\"ROUND_UP\"] = 2] = \"ROUND_UP\";\n})(Rounding || (Rounding = {}));\nvar MaxUint256 = /*#__PURE__*/jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt('0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff');\n\nvar _toSignificantRoundin, _toFixedRounding;\nvar Decimal = /*#__PURE__*/toformat__WEBPACK_IMPORTED_MODULE_4___default()(decimal_js_light__WEBPACK_IMPORTED_MODULE_2__[\"default\"]);\nvar Big = /*#__PURE__*/toformat__WEBPACK_IMPORTED_MODULE_4___default()(big_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]);\nvar toSignificantRounding = (_toSignificantRoundin = {}, _toSignificantRoundin[Rounding.ROUND_DOWN] = Decimal.ROUND_DOWN, _toSignificantRoundin[Rounding.ROUND_HALF_UP] = Decimal.ROUND_HALF_UP, _toSignificantRoundin[Rounding.ROUND_UP] = Decimal.ROUND_UP, _toSignificantRoundin);\nvar toFixedRounding = (_toFixedRounding = {}, _toFixedRounding[Rounding.ROUND_DOWN] = 0, _toFixedRounding[Rounding.ROUND_HALF_UP] = 1, _toFixedRounding[Rounding.ROUND_UP] = 3, _toFixedRounding);\nvar Fraction = /*#__PURE__*/function () {\n  function Fraction(numerator, denominator) {\n    if (denominator === void 0) {\n      denominator = jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(1);\n    }\n    this.numerator = jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(numerator);\n    this.denominator = jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(denominator);\n  }\n  Fraction.tryParseFraction = function tryParseFraction(fractionish) {\n    if (fractionish instanceof jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"] || typeof fractionish === 'number' || typeof fractionish === 'string') return new Fraction(fractionish);\n    if ('numerator' in fractionish && 'denominator' in fractionish) return fractionish;\n    throw new Error('Could not parse fraction');\n  }\n  // performs floor division\n  ;\n  var _proto = Fraction.prototype;\n  _proto.invert = function invert() {\n    return new Fraction(this.denominator, this.numerator);\n  };\n  _proto.add = function add(other) {\n    var otherParsed = Fraction.tryParseFraction(other);\n    if (jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].equal(this.denominator, otherParsed.denominator)) {\n      return new Fraction(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].add(this.numerator, otherParsed.numerator), this.denominator);\n    }\n    return new Fraction(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].add(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(this.numerator, otherParsed.denominator), jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(otherParsed.numerator, this.denominator)), jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(this.denominator, otherParsed.denominator));\n  };\n  _proto.subtract = function subtract(other) {\n    var otherParsed = Fraction.tryParseFraction(other);\n    if (jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].equal(this.denominator, otherParsed.denominator)) {\n      return new Fraction(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].subtract(this.numerator, otherParsed.numerator), this.denominator);\n    }\n    return new Fraction(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].subtract(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(this.numerator, otherParsed.denominator), jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(otherParsed.numerator, this.denominator)), jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(this.denominator, otherParsed.denominator));\n  };\n  _proto.lessThan = function lessThan(other) {\n    var otherParsed = Fraction.tryParseFraction(other);\n    return jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].lessThan(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(this.numerator, otherParsed.denominator), jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(otherParsed.numerator, this.denominator));\n  };\n  _proto.equalTo = function equalTo(other) {\n    var otherParsed = Fraction.tryParseFraction(other);\n    return jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].equal(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(this.numerator, otherParsed.denominator), jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(otherParsed.numerator, this.denominator));\n  };\n  _proto.greaterThan = function greaterThan(other) {\n    var otherParsed = Fraction.tryParseFraction(other);\n    return jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].greaterThan(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(this.numerator, otherParsed.denominator), jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(otherParsed.numerator, this.denominator));\n  };\n  _proto.multiply = function multiply(other) {\n    var otherParsed = Fraction.tryParseFraction(other);\n    return new Fraction(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(this.numerator, otherParsed.numerator), jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(this.denominator, otherParsed.denominator));\n  };\n  _proto.divide = function divide(other) {\n    var otherParsed = Fraction.tryParseFraction(other);\n    return new Fraction(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(this.numerator, otherParsed.denominator), jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].multiply(this.denominator, otherParsed.numerator));\n  };\n  _proto.toSignificant = function toSignificant(significantDigits, format, rounding) {\n    if (format === void 0) {\n      format = {\n        groupSeparator: ''\n      };\n    }\n    if (rounding === void 0) {\n      rounding = Rounding.ROUND_HALF_UP;\n    }\n    !Number.isInteger(significantDigits) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, significantDigits + \" is not an integer.\") : 0 : void 0;\n    !(significantDigits > 0) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, significantDigits + \" is not positive.\") : 0 : void 0;\n    Decimal.set({\n      precision: significantDigits + 1,\n      rounding: toSignificantRounding[rounding]\n    });\n    var quotient = new Decimal(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(significantDigits);\n    return quotient.toFormat(quotient.decimalPlaces(), format);\n  };\n  _proto.toFixed = function toFixed(decimalPlaces, format, rounding) {\n    if (format === void 0) {\n      format = {\n        groupSeparator: ''\n      };\n    }\n    if (rounding === void 0) {\n      rounding = Rounding.ROUND_HALF_UP;\n    }\n    !Number.isInteger(decimalPlaces) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, decimalPlaces + \" is not an integer.\") : 0 : void 0;\n    !(decimalPlaces >= 0) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, decimalPlaces + \" is negative.\") : 0 : void 0;\n    Big.DP = decimalPlaces;\n    Big.RM = toFixedRounding[rounding];\n    return new Big(this.numerator.toString()).div(this.denominator.toString()).toFormat(decimalPlaces, format);\n  }\n  /**\r\n   * Helper method for converting any super class back to a fraction\r\n   */;\n  _createClass(Fraction, [{\n    key: \"quotient\",\n    get: function get() {\n      return jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].divide(this.numerator, this.denominator);\n    }\n    // remainder after floor division\n  }, {\n    key: \"remainder\",\n    get: function get() {\n      return new Fraction(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].remainder(this.numerator, this.denominator), this.denominator);\n    }\n  }, {\n    key: \"asFraction\",\n    get: function get() {\n      return new Fraction(this.numerator, this.denominator);\n    }\n  }]);\n  return Fraction;\n}();\n\nvar Big$1 = /*#__PURE__*/toformat__WEBPACK_IMPORTED_MODULE_4___default()(big_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]);\nvar CurrencyAmount = /*#__PURE__*/function (_Fraction) {\n  _inheritsLoose(CurrencyAmount, _Fraction);\n  function CurrencyAmount(currency, numerator, denominator) {\n    var _this;\n    _this = _Fraction.call(this, numerator, denominator) || this;\n    !jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].lessThanOrEqual(_this.quotient, MaxUint256) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'AMOUNT') : 0 : void 0;\n    _this.currency = currency;\n    _this.decimalScale = jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].exponentiate(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(10), jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(currency.decimals));\n    return _this;\n  }\n  /**\r\n   * Returns a new currency amount instance from the unitless amount of token, i.e. the raw amount\r\n   * @param currency the currency in the amount\r\n   * @param rawAmount the raw token or ether amount\r\n   */\n  CurrencyAmount.fromRawAmount = function fromRawAmount(currency, rawAmount) {\n    return new CurrencyAmount(currency, rawAmount);\n  }\n  /**\r\n   * Construct a currency amount with a denominator that is not equal to 1\r\n   * @param currency the currency\r\n   * @param numerator the numerator of the fractional token amount\r\n   * @param denominator the denominator of the fractional token amount\r\n   */;\n  CurrencyAmount.fromFractionalAmount = function fromFractionalAmount(currency, numerator, denominator) {\n    return new CurrencyAmount(currency, numerator, denominator);\n  };\n  var _proto = CurrencyAmount.prototype;\n  _proto.add = function add(other) {\n    !this.currency.equals(other.currency) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'CURRENCY') : 0 : void 0;\n    var added = _Fraction.prototype.add.call(this, other);\n    return CurrencyAmount.fromFractionalAmount(this.currency, added.numerator, added.denominator);\n  };\n  _proto.subtract = function subtract(other) {\n    !this.currency.equals(other.currency) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'CURRENCY') : 0 : void 0;\n    var subtracted = _Fraction.prototype.subtract.call(this, other);\n    return CurrencyAmount.fromFractionalAmount(this.currency, subtracted.numerator, subtracted.denominator);\n  };\n  _proto.multiply = function multiply(other) {\n    var multiplied = _Fraction.prototype.multiply.call(this, other);\n    return CurrencyAmount.fromFractionalAmount(this.currency, multiplied.numerator, multiplied.denominator);\n  };\n  _proto.divide = function divide(other) {\n    var divided = _Fraction.prototype.divide.call(this, other);\n    return CurrencyAmount.fromFractionalAmount(this.currency, divided.numerator, divided.denominator);\n  };\n  _proto.toSignificant = function toSignificant(significantDigits, format, rounding) {\n    if (significantDigits === void 0) {\n      significantDigits = 6;\n    }\n    if (rounding === void 0) {\n      rounding = Rounding.ROUND_DOWN;\n    }\n    return _Fraction.prototype.divide.call(this, this.decimalScale).toSignificant(significantDigits, format, rounding);\n  };\n  _proto.toFixed = function toFixed(decimalPlaces, format, rounding) {\n    if (decimalPlaces === void 0) {\n      decimalPlaces = this.currency.decimals;\n    }\n    if (rounding === void 0) {\n      rounding = Rounding.ROUND_DOWN;\n    }\n    !(decimalPlaces <= this.currency.decimals) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'DECIMALS') : 0 : void 0;\n    return _Fraction.prototype.divide.call(this, this.decimalScale).toFixed(decimalPlaces, format, rounding);\n  };\n  _proto.toExact = function toExact(format) {\n    if (format === void 0) {\n      format = {\n        groupSeparator: ''\n      };\n    }\n    Big$1.DP = this.currency.decimals;\n    return new Big$1(this.quotient.toString()).div(this.decimalScale.toString()).toFormat(format);\n  };\n  _createClass(CurrencyAmount, [{\n    key: \"wrapped\",\n    get: function get() {\n      if (this.currency.isToken) return this;\n      return CurrencyAmount.fromFractionalAmount(this.currency.wrapped, this.numerator, this.denominator);\n    }\n  }]);\n  return CurrencyAmount;\n}(Fraction);\n\nvar ONE_HUNDRED = /*#__PURE__*/new Fraction( /*#__PURE__*/jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(100));\n/**\r\n * Converts a fraction to a percent\r\n * @param fraction the fraction to convert\r\n */\nfunction toPercent(fraction) {\n  return new Percent(fraction.numerator, fraction.denominator);\n}\nvar Percent = /*#__PURE__*/function (_Fraction) {\n  _inheritsLoose(Percent, _Fraction);\n  function Percent() {\n    var _this;\n    _this = _Fraction.apply(this, arguments) || this;\n    /**\r\n     * This boolean prevents a fraction from being interpreted as a Percent\r\n     */\n    _this.isPercent = true;\n    return _this;\n  }\n  var _proto = Percent.prototype;\n  _proto.add = function add(other) {\n    return toPercent(_Fraction.prototype.add.call(this, other));\n  };\n  _proto.subtract = function subtract(other) {\n    return toPercent(_Fraction.prototype.subtract.call(this, other));\n  };\n  _proto.multiply = function multiply(other) {\n    return toPercent(_Fraction.prototype.multiply.call(this, other));\n  };\n  _proto.divide = function divide(other) {\n    return toPercent(_Fraction.prototype.divide.call(this, other));\n  };\n  _proto.toSignificant = function toSignificant(significantDigits, format, rounding) {\n    if (significantDigits === void 0) {\n      significantDigits = 5;\n    }\n    return _Fraction.prototype.multiply.call(this, ONE_HUNDRED).toSignificant(significantDigits, format, rounding);\n  };\n  _proto.toFixed = function toFixed(decimalPlaces, format, rounding) {\n    if (decimalPlaces === void 0) {\n      decimalPlaces = 2;\n    }\n    return _Fraction.prototype.multiply.call(this, ONE_HUNDRED).toFixed(decimalPlaces, format, rounding);\n  };\n  return Percent;\n}(Fraction);\n\nvar Price = /*#__PURE__*/function (_Fraction) {\n  _inheritsLoose(Price, _Fraction);\n  /**\r\n   * Construct a price, either with the base and quote currency amount, or the\r\n   * @param args\r\n   */\n  function Price() {\n    var _this;\n    var baseCurrency, quoteCurrency, denominator, numerator;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    if (args.length === 4) {\n      baseCurrency = args[0];\n      quoteCurrency = args[1];\n      denominator = args[2];\n      numerator = args[3];\n    } else {\n      var result = args[0].quoteAmount.divide(args[0].baseAmount);\n      var _ref = [args[0].baseAmount.currency, args[0].quoteAmount.currency, result.denominator, result.numerator];\n      baseCurrency = _ref[0];\n      quoteCurrency = _ref[1];\n      denominator = _ref[2];\n      numerator = _ref[3];\n    }\n    _this = _Fraction.call(this, numerator, denominator) || this;\n    _this.baseCurrency = baseCurrency;\n    _this.quoteCurrency = quoteCurrency;\n    _this.scalar = new Fraction(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].exponentiate(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(10), jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(baseCurrency.decimals)), jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].exponentiate(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(10), jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(quoteCurrency.decimals)));\n    return _this;\n  }\n  /**\r\n   * Flip the price, switching the base and quote currency\r\n   */\n  var _proto = Price.prototype;\n  _proto.invert = function invert() {\n    return new Price(this.quoteCurrency, this.baseCurrency, this.numerator, this.denominator);\n  }\n  /**\r\n   * Multiply the price by another price, returning a new price. The other price must have the same base currency as this price's quote currency\r\n   * @param other the other price\r\n   */;\n  _proto.multiply = function multiply(other) {\n    !this.quoteCurrency.equals(other.baseCurrency) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'TOKEN') : 0 : void 0;\n    var fraction = _Fraction.prototype.multiply.call(this, other);\n    return new Price(this.baseCurrency, other.quoteCurrency, fraction.denominator, fraction.numerator);\n  }\n  /**\r\n   * Return the amount of quote currency corresponding to a given amount of the base currency\r\n   * @param currencyAmount the amount of base currency to quote against the price\r\n   */;\n  _proto.quote = function quote(currencyAmount) {\n    !currencyAmount.currency.equals(this.baseCurrency) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'TOKEN') : 0 : void 0;\n    var result = _Fraction.prototype.multiply.call(this, currencyAmount);\n    return CurrencyAmount.fromFractionalAmount(this.quoteCurrency, result.numerator, result.denominator);\n  }\n  /**\r\n   * Get the value scaled by decimals for formatting\r\n   * @private\r\n   */;\n  _proto.toSignificant = function toSignificant(significantDigits, format, rounding) {\n    if (significantDigits === void 0) {\n      significantDigits = 6;\n    }\n    return this.adjustedForDecimals.toSignificant(significantDigits, format, rounding);\n  };\n  _proto.toFixed = function toFixed(decimalPlaces, format, rounding) {\n    if (decimalPlaces === void 0) {\n      decimalPlaces = 4;\n    }\n    return this.adjustedForDecimals.toFixed(decimalPlaces, format, rounding);\n  };\n  _createClass(Price, [{\n    key: \"adjustedForDecimals\",\n    get: function get() {\n      return _Fraction.prototype.multiply.call(this, this.scalar);\n    }\n  }]);\n  return Price;\n}(Fraction);\n\n/**\r\n * A currency is any fungible financial instrument, including Ether, all ERC20 tokens, and other chain-native currencies\r\n */\nvar BaseCurrency =\n/**\r\n * Constructs an instance of the base class `BaseCurrency`.\r\n * @param chainId the chain ID on which this currency resides\r\n * @param decimals decimals of the currency\r\n * @param symbol symbol of the currency\r\n * @param name of the currency\r\n */\nfunction BaseCurrency(chainId, decimals, symbol, name) {\n  !Number.isSafeInteger(chainId) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'CHAIN_ID') : 0 : void 0;\n  !(decimals >= 0 && decimals < 255 && Number.isInteger(decimals)) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'DECIMALS') : 0 : void 0;\n  this.chainId = chainId;\n  this.decimals = decimals;\n  this.symbol = symbol;\n  this.name = name;\n};\n\n/**\r\n * Represents the native currency of the chain on which it resides, e.g.\r\n */\nvar NativeCurrency = /*#__PURE__*/function (_BaseCurrency) {\n  _inheritsLoose(NativeCurrency, _BaseCurrency);\n  function NativeCurrency() {\n    var _this;\n    _this = _BaseCurrency.apply(this, arguments) || this;\n    _this.isNative = true;\n    _this.isToken = false;\n    return _this;\n  }\n  return NativeCurrency;\n}(BaseCurrency);\n\n/**\r\n * Validates an address and returns the parsed (checksummed) version of that address\r\n * @param address the unchecksummed hex address\r\n */\nfunction validateAndParseAddress(address) {\n  try {\n    return (0,_ethersproject_address__WEBPACK_IMPORTED_MODULE_5__.getAddress)(address);\n  } catch (error) {\n    throw new Error(address + \" is not a valid address.\");\n  }\n}\n// Checks a string starts with 0x, is 42 characters long and contains only hex characters after 0x\nvar startsWith0xLen42HexRegex = /^0x[0-9a-fA-F]{40}$/;\n/**\r\n * Checks if an address is valid by checking 0x prefix, length === 42 and hex encoding.\r\n * @param address the unchecksummed hex address\r\n */\nfunction checkValidAddress(address) {\n  if (startsWith0xLen42HexRegex.test(address)) {\n    return address;\n  }\n  throw new Error(address + \" is not a valid address.\");\n}\n\n/**\r\n * Represents an ERC20 token with a unique address and some metadata.\r\n */\nvar Token = /*#__PURE__*/function (_BaseCurrency) {\n  _inheritsLoose(Token, _BaseCurrency);\n  /**\r\n   *\r\n   * @param chainId {@link BaseCurrency#chainId}\r\n   * @param address The contract address on the chain on which this token lives\r\n   * @param decimals {@link BaseCurrency#decimals}\r\n   * @param symbol {@link BaseCurrency#symbol}\r\n   * @param name {@link BaseCurrency#name}\r\n   * @param bypassChecksum If true it only checks for length === 42, startsWith 0x and contains only hex characters\r\n   * @param buyFeeBps Buy fee tax for FOT tokens, in basis points\r\n   * @param sellFeeBps Sell fee tax for FOT tokens, in basis points\r\n   */\n  function Token(chainId, address, decimals, symbol, name, bypassChecksum, buyFeeBps, sellFeeBps) {\n    var _this;\n    _this = _BaseCurrency.call(this, chainId, decimals, symbol, name) || this;\n    _this.isNative = false;\n    _this.isToken = true;\n    if (bypassChecksum) {\n      _this.address = checkValidAddress(address);\n    } else {\n      _this.address = validateAndParseAddress(address);\n    }\n    if (buyFeeBps) {\n      !buyFeeBps.gte(_ethersproject_bignumber__WEBPACK_IMPORTED_MODULE_6__.BigNumber.from(0)) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'NON-NEGATIVE FOT FEES') : 0 : void 0;\n    }\n    if (sellFeeBps) {\n      !sellFeeBps.gte(_ethersproject_bignumber__WEBPACK_IMPORTED_MODULE_6__.BigNumber.from(0)) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'NON-NEGATIVE FOT FEES') : 0 : void 0;\n    }\n    _this.buyFeeBps = buyFeeBps;\n    _this.sellFeeBps = sellFeeBps;\n    return _this;\n  }\n  /**\r\n   * Returns true if the two tokens are equivalent, i.e. have the same chainId and address.\r\n   * @param other other token to compare\r\n   */\n  var _proto = Token.prototype;\n  _proto.equals = function equals(other) {\n    return other.isToken && this.chainId === other.chainId && this.address.toLowerCase() === other.address.toLowerCase();\n  }\n  /**\r\n   * Returns true if the address of this token sorts before the address of the other token\r\n   * @param other other token to compare\r\n   * @throws if the tokens have the same address\r\n   * @throws if the tokens are on different chains\r\n   */;\n  _proto.sortsBefore = function sortsBefore(other) {\n    !(this.chainId === other.chainId) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'CHAIN_IDS') : 0 : void 0;\n    !(this.address.toLowerCase() !== other.address.toLowerCase()) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'ADDRESSES') : 0 : void 0;\n    return this.address.toLowerCase() < other.address.toLowerCase();\n  }\n  /**\r\n   * Return this token, which does not need to be wrapped\r\n   */;\n  _createClass(Token, [{\n    key: \"wrapped\",\n    get: function get() {\n      return this;\n    }\n  }]);\n  return Token;\n}(BaseCurrency);\n\n/**\r\n * Known WETH9 implementation addresses, used in our implementation of Ether#wrapped\r\n */\nvar WETH9 = {\n  1: /*#__PURE__*/new Token(1, '0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2', 18, 'WETH', 'Wrapped Ether'),\n  11155111: /*#__PURE__*/new Token(11155111, '0xfFf9976782d46CC05630D1f6eBAb18b2324d6B14', 18, 'WETH', 'Wrapped Ether'),\n  3: /*#__PURE__*/new Token(3, '0xc778417E063141139Fce010982780140Aa0cD5Ab', 18, 'WETH', 'Wrapped Ether'),\n  4: /*#__PURE__*/new Token(4, '0xc778417E063141139Fce010982780140Aa0cD5Ab', 18, 'WETH', 'Wrapped Ether'),\n  5: /*#__PURE__*/new Token(5, '0xB4FBF271143F4FBf7B91A5ded31805e42b2208d6', 18, 'WETH', 'Wrapped Ether'),\n  42: /*#__PURE__*/new Token(42, '0xd0A1E359811322d97991E03f863a0C30C2cF029C', 18, 'WETH', 'Wrapped Ether'),\n  10: /*#__PURE__*/new Token(10, '0x4200000000000000000000000000000000000006', 18, 'WETH', 'Wrapped Ether'),\n  69: /*#__PURE__*/new Token(69, '0x4200000000000000000000000000000000000006', 18, 'WETH', 'Wrapped Ether'),\n  11155420: /*#__PURE__*/new Token(11155420, '0x4200000000000000000000000000000000000006', 18, 'WETH', 'Wrapped Ether'),\n  42161: /*#__PURE__*/new Token(42161, '0x82aF49447D8a07e3bd95BD0d56f35241523fBab1', 18, 'WETH', 'Wrapped Ether'),\n  421611: /*#__PURE__*/new Token(421611, '0xB47e6A5f8b33b3F17603C83a0535A9dcD7E32681', 18, 'WETH', 'Wrapped Ether'),\n  421614: /*#__PURE__*/new Token(421614, '0x980B62Da83eFf3D4576C647993b0c1D7faf17c73', 18, 'WETH', 'Wrapped Ether'),\n  8453: /*#__PURE__*/new Token(8453, '0x4200000000000000000000000000000000000006', 18, 'WETH', 'Wrapped Ether'),\n  56: /*#__PURE__*/new Token(56, '0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c', 18, 'WBNB', 'Wrapped BNB'),\n  137: /*#__PURE__*/new Token(137, '0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270', 18, 'WMATIC', 'Wrapped MATIC'),\n  43114: /*#__PURE__*/new Token(43114, '0xB31f66AA3C1e785363F0875A1B74E27b85FD66c7', 18, 'WAVAX', 'Wrapped AVAX'),\n  7777777: /*#__PURE__*/new Token(7777777, '0x4200000000000000000000000000000000000006', 18, 'WETH', 'Wrapped Ether'),\n  81457: /*#__PURE__*/new Token(81457, '0x4300000000000000000000000000000000000004', 18, 'WETH', 'Wrapped Ether'),\n  324: /*#__PURE__*/new Token(324, '0x5AEa5775959fBC2557Cc8789bC1bf90A239D9a91', 18, 'WETH', 'Wrapped Ether'),\n  480: /*#__PURE__*/new Token(480, '0x4200000000000000000000000000000000000006', 18, 'WETH', 'Wrapped Ether'),\n  1301: /*#__PURE__*/new Token(1301, '0x4200000000000000000000000000000000000006', 18, 'WETH', 'Wrapped Ether')\n};\n\n/**\r\n * Ether is the main usage of a 'native' currency, i.e. for Ethereum mainnet and all testnets\r\n */\nvar Ether = /*#__PURE__*/function (_NativeCurrency) {\n  _inheritsLoose(Ether, _NativeCurrency);\n  function Ether(chainId) {\n    return _NativeCurrency.call(this, chainId, 18, 'ETH', 'Ether') || this;\n  }\n  Ether.onChain = function onChain(chainId) {\n    var _this$_etherCache$cha;\n    return (_this$_etherCache$cha = this._etherCache[chainId]) != null ? _this$_etherCache$cha : this._etherCache[chainId] = new Ether(chainId);\n  };\n  var _proto = Ether.prototype;\n  _proto.equals = function equals(other) {\n    return other.isNative && other.chainId === this.chainId;\n  };\n  _createClass(Ether, [{\n    key: \"wrapped\",\n    get: function get() {\n      var weth9 = WETH9[this.chainId];\n      !!!weth9 ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'WRAPPED') : 0 : void 0;\n      return weth9;\n    }\n  }]);\n  return Ether;\n}(NativeCurrency);\nEther._etherCache = {};\n\n/**\r\n * Returns the percent difference between the mid price and the execution price, i.e. price impact.\r\n * @param midPrice mid price before the trade\r\n * @param inputAmount the input amount of the trade\r\n * @param outputAmount the output amount of the trade\r\n */\nfunction computePriceImpact(midPrice, inputAmount, outputAmount) {\n  var quotedOutputAmount = midPrice.quote(inputAmount);\n  // calculate price impact := (exactQuote - outputAmount) / exactQuote\n  var priceImpact = quotedOutputAmount.subtract(outputAmount).divide(quotedOutputAmount);\n  return new Percent(priceImpact.numerator, priceImpact.denominator);\n}\n\nfunction computeZksyncCreate2Address(sender, bytecodeHash, salt, input) {\n  if (input === void 0) {\n    input = '0x';\n  }\n  var prefix = (0,_ethersproject_keccak256__WEBPACK_IMPORTED_MODULE_7__.keccak256)((0,_ethersproject_strings__WEBPACK_IMPORTED_MODULE_8__.toUtf8Bytes)('zksyncCreate2'));\n  var inputHash = (0,_ethersproject_keccak256__WEBPACK_IMPORTED_MODULE_7__.keccak256)(input);\n  var addressBytes = (0,_ethersproject_keccak256__WEBPACK_IMPORTED_MODULE_7__.keccak256)((0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_9__.concat)([prefix, (0,_ethersproject_bytes__WEBPACK_IMPORTED_MODULE_9__.hexZeroPad)(sender, 32), salt, bytecodeHash, inputHash])).slice(26);\n  return (0,_ethersproject_address__WEBPACK_IMPORTED_MODULE_5__.getAddress)(addressBytes);\n}\n\n// given an array of items sorted by `comparator`, insert an item into its sort index and constrain the size to\n// `maxSize` by removing the last item\nfunction sortedInsert(items, add, maxSize, comparator) {\n  !(maxSize > 0) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'MAX_SIZE_ZERO') : 0 : void 0;\n  // this is an invariant because the interface cannot return multiple removed items if items.length exceeds maxSize\n  !(items.length <= maxSize) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'ITEMS_SIZE') : 0 : void 0;\n  // short circuit first item add\n  if (items.length === 0) {\n    items.push(add);\n    return null;\n  } else {\n    var isFull = items.length === maxSize;\n    // short circuit if full and the additional item does not come before the last item\n    if (isFull && comparator(items[items.length - 1], add) <= 0) {\n      return add;\n    }\n    var lo = 0,\n      hi = items.length;\n    while (lo < hi) {\n      var mid = lo + hi >>> 1;\n      if (comparator(items[mid], add) <= 0) {\n        lo = mid + 1;\n      } else {\n        hi = mid;\n      }\n    }\n    items.splice(lo, 0, add);\n    return isFull ? items.pop() : null;\n  }\n}\n\nvar MAX_SAFE_INTEGER = /*#__PURE__*/jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(Number.MAX_SAFE_INTEGER);\nvar ZERO = /*#__PURE__*/jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(0);\nvar ONE = /*#__PURE__*/jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(1);\nvar TWO = /*#__PURE__*/jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(2);\n/**\r\n * Computes floor(sqrt(value))\r\n * @param value the value for which to compute the square root, rounded down\r\n */\nfunction sqrt(value) {\n  !jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].greaterThanOrEqual(value, ZERO) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(false, 'NEGATIVE') : 0 : void 0;\n  // rely on built in sqrt if possible\n  if (jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].lessThan(value, MAX_SAFE_INTEGER)) {\n    return jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BigInt(Math.floor(Math.sqrt(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].toNumber(value))));\n  }\n  var z;\n  var x;\n  z = value;\n  x = jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].add(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].divide(value, TWO), ONE);\n  while (jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].lessThan(x, z)) {\n    z = x;\n    x = jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].divide(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].add(jsbi__WEBPACK_IMPORTED_MODULE_0__[\"default\"].divide(value, x), x), TWO);\n  }\n  return z;\n}\n\n\n//# sourceMappingURL=sdk-core.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHVuaXN3YXAvc2RrLWNvcmUvZGlzdC9zZGstY29yZS5lc20uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBd0I7QUFDZTtBQUNDO0FBQ2Q7QUFDTTtBQUNxQjtBQUNEO0FBQ007QUFDTDtBQUNBOztBQUVyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isa0JBQWtCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixzQkFBc0I7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsMEJBQTBCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsZ0RBQWdEOztBQUVqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLElBQUk7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRDtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRDtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdEO0FBQ2hEO0FBQ0EsQ0FBQztBQUNELCtDQUErQztBQUMvQztBQUNBLENBQUM7QUFDRDtBQUNBLHFEQUFxRDtBQUNyRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QUVtMUI7QUFDbjFCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHNlLTIvbmV4dGpzLy4vbm9kZV9tb2R1bGVzL0B1bmlzd2FwL3Nkay1jb3JlL2Rpc3Qvc2RrLWNvcmUuZXNtLmpzP2FjZDQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEpTQkkgZnJvbSAnanNiaSc7XG5pbXBvcnQgaW52YXJpYW50IGZyb20gJ3RpbnktaW52YXJpYW50JztcbmltcG9ydCBfRGVjaW1hbCBmcm9tICdkZWNpbWFsLmpzLWxpZ2h0JztcbmltcG9ydCBfQmlnIGZyb20gJ2JpZy5qcyc7XG5pbXBvcnQgdG9Gb3JtYXQgZnJvbSAndG9mb3JtYXQnO1xuaW1wb3J0IHsgQmlnTnVtYmVyIH0gZnJvbSAnQGV0aGVyc3Byb2plY3QvYmlnbnVtYmVyJztcbmltcG9ydCB7IGdldEFkZHJlc3MgfSBmcm9tICdAZXRoZXJzcHJvamVjdC9hZGRyZXNzJztcbmltcG9ydCB7IGNvbmNhdCwgaGV4WmVyb1BhZCB9IGZyb20gJ0BldGhlcnNwcm9qZWN0L2J5dGVzJztcbmltcG9ydCB7IGtlY2NhazI1NiB9IGZyb20gJ0BldGhlcnNwcm9qZWN0L2tlY2NhazI1Nic7XG5pbXBvcnQgeyB0b1V0ZjhCeXRlcyB9IGZyb20gJ0BldGhlcnNwcm9qZWN0L3N0cmluZ3MnO1xuXG5mdW5jdGlvbiBfdG9QcmltaXRpdmUodCwgcikge1xuICBpZiAoXCJvYmplY3RcIiAhPSB0eXBlb2YgdCB8fCAhdCkgcmV0dXJuIHQ7XG4gIHZhciBlID0gdFtTeW1ib2wudG9QcmltaXRpdmVdO1xuICBpZiAodm9pZCAwICE9PSBlKSB7XG4gICAgdmFyIGkgPSBlLmNhbGwodCwgciB8fCBcImRlZmF1bHRcIik7XG4gICAgaWYgKFwib2JqZWN0XCIgIT0gdHlwZW9mIGkpIHJldHVybiBpO1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTtcbiAgfVxuICByZXR1cm4gKFwic3RyaW5nXCIgPT09IHIgPyBTdHJpbmcgOiBOdW1iZXIpKHQpO1xufVxuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkodCkge1xuICB2YXIgaSA9IF90b1ByaW1pdGl2ZSh0LCBcInN0cmluZ1wiKTtcbiAgcmV0dXJuIFwic3ltYm9sXCIgPT0gdHlwZW9mIGkgPyBpIDogU3RyaW5nKGkpO1xufVxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgX3RvUHJvcGVydHlLZXkoZGVzY3JpcHRvci5rZXkpLCBkZXNjcmlwdG9yKTtcbiAgfVxufVxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29uc3RydWN0b3IsIFwicHJvdG90eXBlXCIsIHtcbiAgICB3cml0YWJsZTogZmFsc2VcbiAgfSk7XG4gIHJldHVybiBDb25zdHJ1Y3Rvcjtcbn1cbmZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gPyBPYmplY3QuYXNzaWduLmJpbmQoKSA6IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG4gIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7XG4gIHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzO1xuICBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpO1xufVxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHtcbiAgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKSA6IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7XG4gICAgby5fX3Byb3RvX18gPSBwO1xuICAgIHJldHVybiBvO1xuICB9O1xuICByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApO1xufVxuXG52YXIgQ2hhaW5JZDtcbihmdW5jdGlvbiAoQ2hhaW5JZCkge1xuICBDaGFpbklkW0NoYWluSWRbXCJNQUlOTkVUXCJdID0gMV0gPSBcIk1BSU5ORVRcIjtcbiAgQ2hhaW5JZFtDaGFpbklkW1wiR09FUkxJXCJdID0gNV0gPSBcIkdPRVJMSVwiO1xuICBDaGFpbklkW0NoYWluSWRbXCJTRVBPTElBXCJdID0gMTExNTUxMTFdID0gXCJTRVBPTElBXCI7XG4gIENoYWluSWRbQ2hhaW5JZFtcIk9QVElNSVNNXCJdID0gMTBdID0gXCJPUFRJTUlTTVwiO1xuICBDaGFpbklkW0NoYWluSWRbXCJPUFRJTUlTTV9HT0VSTElcIl0gPSA0MjBdID0gXCJPUFRJTUlTTV9HT0VSTElcIjtcbiAgQ2hhaW5JZFtDaGFpbklkW1wiT1BUSU1JU01fU0VQT0xJQVwiXSA9IDExMTU1NDIwXSA9IFwiT1BUSU1JU01fU0VQT0xJQVwiO1xuICBDaGFpbklkW0NoYWluSWRbXCJBUkJJVFJVTV9PTkVcIl0gPSA0MjE2MV0gPSBcIkFSQklUUlVNX09ORVwiO1xuICBDaGFpbklkW0NoYWluSWRbXCJBUkJJVFJVTV9HT0VSTElcIl0gPSA0MjE2MTNdID0gXCJBUkJJVFJVTV9HT0VSTElcIjtcbiAgQ2hhaW5JZFtDaGFpbklkW1wiQVJCSVRSVU1fU0VQT0xJQVwiXSA9IDQyMTYxNF0gPSBcIkFSQklUUlVNX1NFUE9MSUFcIjtcbiAgQ2hhaW5JZFtDaGFpbklkW1wiUE9MWUdPTlwiXSA9IDEzN10gPSBcIlBPTFlHT05cIjtcbiAgQ2hhaW5JZFtDaGFpbklkW1wiUE9MWUdPTl9NVU1CQUlcIl0gPSA4MDAwMV0gPSBcIlBPTFlHT05fTVVNQkFJXCI7XG4gIENoYWluSWRbQ2hhaW5JZFtcIkNFTE9cIl0gPSA0MjIyMF0gPSBcIkNFTE9cIjtcbiAgQ2hhaW5JZFtDaGFpbklkW1wiQ0VMT19BTEZBSk9SRVNcIl0gPSA0NDc4N10gPSBcIkNFTE9fQUxGQUpPUkVTXCI7XG4gIENoYWluSWRbQ2hhaW5JZFtcIkdOT1NJU1wiXSA9IDEwMF0gPSBcIkdOT1NJU1wiO1xuICBDaGFpbklkW0NoYWluSWRbXCJNT09OQkVBTVwiXSA9IDEyODRdID0gXCJNT09OQkVBTVwiO1xuICBDaGFpbklkW0NoYWluSWRbXCJCTkJcIl0gPSA1Nl0gPSBcIkJOQlwiO1xuICBDaGFpbklkW0NoYWluSWRbXCJBVkFMQU5DSEVcIl0gPSA0MzExNF0gPSBcIkFWQUxBTkNIRVwiO1xuICBDaGFpbklkW0NoYWluSWRbXCJCQVNFX0dPRVJMSVwiXSA9IDg0NTMxXSA9IFwiQkFTRV9HT0VSTElcIjtcbiAgQ2hhaW5JZFtDaGFpbklkW1wiQkFTRVwiXSA9IDg0NTNdID0gXCJCQVNFXCI7XG4gIENoYWluSWRbQ2hhaW5JZFtcIlpPUkFcIl0gPSA3Nzc3Nzc3XSA9IFwiWk9SQVwiO1xuICBDaGFpbklkW0NoYWluSWRbXCJaT1JBX1NFUE9MSUFcIl0gPSA5OTk5OTk5OTldID0gXCJaT1JBX1NFUE9MSUFcIjtcbiAgQ2hhaW5JZFtDaGFpbklkW1wiUk9PVFNUT0NLXCJdID0gMzBdID0gXCJST09UU1RPQ0tcIjtcbiAgQ2hhaW5JZFtDaGFpbklkW1wiQkxBU1RcIl0gPSA4MTQ1N10gPSBcIkJMQVNUXCI7XG4gIENoYWluSWRbQ2hhaW5JZFtcIlpLU1lOQ1wiXSA9IDMyNF0gPSBcIlpLU1lOQ1wiO1xuICBDaGFpbklkW0NoYWluSWRbXCJXT1JMRENIQUlOXCJdID0gNDgwXSA9IFwiV09STERDSEFJTlwiO1xuICBDaGFpbklkW0NoYWluSWRbXCJBU1RST0NIQUlOX1NFUE9MSUFcIl0gPSAxMzAxXSA9IFwiQVNUUk9DSEFJTl9TRVBPTElBXCI7XG59KShDaGFpbklkIHx8IChDaGFpbklkID0ge30pKTtcbnZhciBTVVBQT1JURURfQ0hBSU5TID0gW0NoYWluSWQuTUFJTk5FVCwgQ2hhaW5JZC5PUFRJTUlTTSwgQ2hhaW5JZC5PUFRJTUlTTV9HT0VSTEksIENoYWluSWQuT1BUSU1JU01fU0VQT0xJQSwgQ2hhaW5JZC5BUkJJVFJVTV9PTkUsIENoYWluSWQuQVJCSVRSVU1fR09FUkxJLCBDaGFpbklkLkFSQklUUlVNX1NFUE9MSUEsIENoYWluSWQuUE9MWUdPTiwgQ2hhaW5JZC5QT0xZR09OX01VTUJBSSwgQ2hhaW5JZC5HT0VSTEksIENoYWluSWQuU0VQT0xJQSwgQ2hhaW5JZC5DRUxPX0FMRkFKT1JFUywgQ2hhaW5JZC5DRUxPLCBDaGFpbklkLkJOQiwgQ2hhaW5JZC5BVkFMQU5DSEUsIENoYWluSWQuQkFTRSwgQ2hhaW5JZC5CQVNFX0dPRVJMSSwgQ2hhaW5JZC5aT1JBLCBDaGFpbklkLlpPUkFfU0VQT0xJQSwgQ2hhaW5JZC5ST09UU1RPQ0ssIENoYWluSWQuQkxBU1QsIENoYWluSWQuWktTWU5DLCBDaGFpbklkLldPUkxEQ0hBSU4sIENoYWluSWQuQVNUUk9DSEFJTl9TRVBPTElBXTtcbnZhciBOYXRpdmVDdXJyZW5jeU5hbWU7XG4oZnVuY3Rpb24gKE5hdGl2ZUN1cnJlbmN5TmFtZSkge1xuICAvLyBTdHJpbmdzIG1hdGNoIGlucHV0IGZvciBDTElcbiAgTmF0aXZlQ3VycmVuY3lOYW1lW1wiRVRIRVJcIl0gPSBcIkVUSFwiO1xuICBOYXRpdmVDdXJyZW5jeU5hbWVbXCJNQVRJQ1wiXSA9IFwiTUFUSUNcIjtcbiAgTmF0aXZlQ3VycmVuY3lOYW1lW1wiQ0VMT1wiXSA9IFwiQ0VMT1wiO1xuICBOYXRpdmVDdXJyZW5jeU5hbWVbXCJHTk9TSVNcIl0gPSBcIlhEQUlcIjtcbiAgTmF0aXZlQ3VycmVuY3lOYW1lW1wiTU9PTkJFQU1cIl0gPSBcIkdMTVJcIjtcbiAgTmF0aXZlQ3VycmVuY3lOYW1lW1wiQk5CXCJdID0gXCJCTkJcIjtcbiAgTmF0aXZlQ3VycmVuY3lOYW1lW1wiQVZBWFwiXSA9IFwiQVZBWFwiO1xuICBOYXRpdmVDdXJyZW5jeU5hbWVbXCJST09UU1RPQ0tcIl0gPSBcIlJCVENcIjtcbn0pKE5hdGl2ZUN1cnJlbmN5TmFtZSB8fCAoTmF0aXZlQ3VycmVuY3lOYW1lID0ge30pKTtcblxudmFyIF9WMl9GQUNUT1JZX0FERFJFU1NFUywgX1YyX1JPVVRFUl9BRERSRVNTRVMsIF9DSEFJTl9UT19BRERSRVNTRVNfTSwgX0dPVkVSTkFOQ0VfQUxQSEFfVjFfLCBfR09WRVJOQU5DRV9CUkFWT19BREQsIF9NRVJLTEVfRElTVFJJQlVUT1JfQSwgX0FSR0VOVF9XQUxMRVRfREVURUNULCBfU09DS1NfQ09OVFJPTExFUl9BREQ7XG52YXIgREVGQVVMVF9ORVRXT1JLUyA9IFtDaGFpbklkLk1BSU5ORVQsIENoYWluSWQuR09FUkxJLCBDaGFpbklkLlNFUE9MSUFdO1xuZnVuY3Rpb24gY29uc3RydWN0U2FtZUFkZHJlc3NNYXAoYWRkcmVzcywgYWRkaXRpb25hbE5ldHdvcmtzKSB7XG4gIGlmIChhZGRpdGlvbmFsTmV0d29ya3MgPT09IHZvaWQgMCkge1xuICAgIGFkZGl0aW9uYWxOZXR3b3JrcyA9IFtdO1xuICB9XG4gIHJldHVybiBERUZBVUxUX05FVFdPUktTLmNvbmNhdChhZGRpdGlvbmFsTmV0d29ya3MpLnJlZHVjZShmdW5jdGlvbiAobWVtbywgY2hhaW5JZCkge1xuICAgIG1lbW9bY2hhaW5JZF0gPSBhZGRyZXNzO1xuICAgIHJldHVybiBtZW1vO1xuICB9LCB7fSk7XG59XG52YXIgVU5JX0FERFJFU1NFUyA9IC8qI19fUFVSRV9fKi9jb25zdHJ1Y3RTYW1lQWRkcmVzc01hcCgnMHgxZjk4NDBhODVkNWFGNWJmMUQxNzYyRjkyNUJEQURkQzQyMDFGOTg0JywgW0NoYWluSWQuT1BUSU1JU00sIENoYWluSWQuQVJCSVRSVU1fT05FLCBDaGFpbklkLlBPTFlHT04sIENoYWluSWQuUE9MWUdPTl9NVU1CQUksIENoYWluSWQuU0VQT0xJQV0pO1xudmFyIFVOSVNXQVBfTkZUX0FJUkRST1BfQ0xBSU1fQUREUkVTUyA9ICcweDhCNzk5MzgxYWM0MGI4MzhCQkE0MTMxZmZCMjYxOTdDNDMyQUZlNzgnO1xuLyoqXHJcbiAqIEBkZXByZWNhdGVkIHVzZSBWMl9GQUNUT1JZX0FERFJFU1NFUyBpbnN0ZWFkXHJcbiAqL1xudmFyIFYyX0ZBQ1RPUllfQUREUkVTUyA9ICcweDVDNjliRWU3MDFlZjgxNGEyQjZhM0VERDRCMTY1MkNCOWNjNWFBNmYnO1xudmFyIFYyX0ZBQ1RPUllfQUREUkVTU0VTID0gKF9WMl9GQUNUT1JZX0FERFJFU1NFUyA9IHt9LCBfVjJfRkFDVE9SWV9BRERSRVNTRVNbQ2hhaW5JZC5NQUlOTkVUXSA9ICcweDVDNjliRWU3MDFlZjgxNGEyQjZhM0VERDRCMTY1MkNCOWNjNWFBNmYnLCBfVjJfRkFDVE9SWV9BRERSRVNTRVNbQ2hhaW5JZC5HT0VSTEldID0gJzB4NUM2OWJFZTcwMWVmODE0YTJCNmEzRURENEIxNjUyQ0I5Y2M1YUE2ZicsIF9WMl9GQUNUT1JZX0FERFJFU1NFU1tDaGFpbklkLlNFUE9MSUFdID0gJzB4QjdmOTA3ZjdBOWVCQzgyMmE4MEJEMjVFMjI0YmU0MkNlMEE2OThBMCcsIF9WMl9GQUNUT1JZX0FERFJFU1NFU1tDaGFpbklkLk9QVElNSVNNXSA9ICcweDBjM2MxYzUzMkYxZTM5RWRGMzZCRTlGZTBiRTE0MTAzMTNFMDc0QmYnLCBfVjJfRkFDVE9SWV9BRERSRVNTRVNbQ2hhaW5JZC5BUkJJVFJVTV9PTkVdID0gJzB4ZjFEN0NDNjRGYjQ0NTJGMDVjNDk4MTI2MzEyZUJFMjlmMzBGYmNmOScsIF9WMl9GQUNUT1JZX0FERFJFU1NFU1tDaGFpbklkLkFWQUxBTkNIRV0gPSAnMHg5ZTVBNTJmNTdiMzAzOEYxQjhFZUU0NUYyOGIzQzE5NjdlMjI3OTlDJywgX1YyX0ZBQ1RPUllfQUREUkVTU0VTW0NoYWluSWQuQkFTRV0gPSAnMHg4OTA5ZGMxNWU0MDE3M2ZmNDY5OTM0M2I2ZWI4MTMyYzY1ZTE4ZWM2JywgX1YyX0ZBQ1RPUllfQUREUkVTU0VTW0NoYWluSWQuQk5CXSA9ICcweDg5MDlEYzE1ZTQwMTczRmY0Njk5MzQzYjZlQjgxMzJjNjVlMThlQzYnLCBfVjJfRkFDVE9SWV9BRERSRVNTRVNbQ2hhaW5JZC5QT0xZR09OXSA9ICcweDllNUE1MmY1N2IzMDM4RjFCOEVlRTQ1RjI4YjNDMTk2N2UyMjc5OUMnLCBfVjJfRkFDVE9SWV9BRERSRVNTRVNbQ2hhaW5JZC5DRUxPXSA9ICcweDc5YTUzMGM4ZTJmQTg3NDhCN0I0MGRkMzYyOUMwNTIwYzJjQ2YwM2YnLCBfVjJfRkFDVE9SWV9BRERSRVNTRVNbQ2hhaW5JZC5CTEFTVF0gPSAnMHg1QzM0NjQ2NGQzM0Y5MGJBQmFmNzBkQjYzODg1MDdDQzg4OUMxMDcwJywgX1YyX0ZBQ1RPUllfQUREUkVTU0VTW0NoYWluSWQuV09STERDSEFJTl0gPSAnMHg1QzY5YkVlNzAxZWY4MTRhMkI2YTNFREQ0QjE2NTJDQjljYzVhQTZmJywgX1YyX0ZBQ1RPUllfQUREUkVTU0VTW0NoYWluSWQuQVNUUk9DSEFJTl9TRVBPTElBXSA9ICcweDVDNjliRWU3MDFlZjgxNGEyQjZhM0VERDRCMTY1MkNCOWNjNWFBNmYnLCBfVjJfRkFDVE9SWV9BRERSRVNTRVMpO1xuLyoqXHJcbiAqIEBkZXByZWNhdGVkIHVzZSBWMl9ST1VURVJfQUREUkVTU0VTIGluc3RlYWRcclxuICovXG52YXIgVjJfUk9VVEVSX0FERFJFU1MgPSAnMHg3YTI1MGQ1NjMwQjRjRjUzOTczOWRGMkM1ZEFjYjRjNjU5RjI0ODhEJztcbnZhciBWMl9ST1VURVJfQUREUkVTU0VTID0gKF9WMl9ST1VURVJfQUREUkVTU0VTID0ge30sIF9WMl9ST1VURVJfQUREUkVTU0VTW0NoYWluSWQuTUFJTk5FVF0gPSAnMHg3YTI1MGQ1NjMwQjRjRjUzOTczOWRGMkM1ZEFjYjRjNjU5RjI0ODhEJywgX1YyX1JPVVRFUl9BRERSRVNTRVNbQ2hhaW5JZC5HT0VSTEldID0gJzB4N2EyNTBkNTYzMEI0Y0Y1Mzk3MzlkRjJDNWRBY2I0YzY1OUYyNDg4RCcsIF9WMl9ST1VURVJfQUREUkVTU0VTW0NoYWluSWQuQVJCSVRSVU1fT05FXSA9ICcweDQ3NTJiYTVkYmMyM2Y0NGQ4NzgyNjI3NmJmNmZkNmIxYzM3MmFkMjQnLCBfVjJfUk9VVEVSX0FERFJFU1NFU1tDaGFpbklkLk9QVElNSVNNXSA9ICcweDRhN2I1ZGE2MTMyNmE2Mzc5MTc5YjQwZDAwZjU3ZTViYmRjOTYyYzInLCBfVjJfUk9VVEVSX0FERFJFU1NFU1tDaGFpbklkLkJBU0VdID0gJzB4NDc1MmJhNWRiYzIzZjQ0ZDg3ODI2Mjc2YmY2ZmQ2YjFjMzcyYWQyNCcsIF9WMl9ST1VURVJfQUREUkVTU0VTW0NoYWluSWQuQVZBTEFOQ0hFXSA9ICcweDQ3NTJiYTVkYmMyM2Y0NGQ4NzgyNjI3NmJmNmZkNmIxYzM3MmFkMjQnLCBfVjJfUk9VVEVSX0FERFJFU1NFU1tDaGFpbklkLkJOQl0gPSAnMHg0NzUyYmE1ZGJjMjNmNDRkODc4MjYyNzZiZjZmZDZiMWMzNzJhZDI0JywgX1YyX1JPVVRFUl9BRERSRVNTRVNbQ2hhaW5JZC5QT0xZR09OXSA9ICcweGVkZjYwNjZhMmIyOTBjMTg1NzgzODYyYzdmNDc3NmEyYzgwNzdhZDEnLCBfVjJfUk9VVEVSX0FERFJFU1NFU1tDaGFpbklkLkJMQVNUXSA9ICcweEJCNjZFYjFjNWU4NzU5MzNENDREQWU2NjFkYkQ4MGU1RDlCMDMwMzUnLCBfVjJfUk9VVEVSX0FERFJFU1NFU1tDaGFpbklkLldPUkxEQ0hBSU5dID0gJzB4ZjE2NGZDMEVjNEU5MzA5NWI4MDRhNDc5NWJCZTFlMDQxNDk3YjkyYScsIF9WMl9ST1VURVJfQUREUkVTU0VTW0NoYWluSWQuQVNUUk9DSEFJTl9TRVBPTElBXSA9ICcweDllNUE1MmY1N2IzMDM4RjFCOEVlRTQ1RjI4YjNDMTk2N2UyMjc5OUMnLCBfVjJfUk9VVEVSX0FERFJFU1NFUyk7XG4vLyBOZXR3b3JrcyB0aGF0IHNoYXJlIG1vc3Qgb2YgdGhlIHNhbWUgYWRkcmVzc2VzIGkuZS4gTWFpbm5ldCwgR29lcmxpLCBPcHRpbWlzbSwgQXJiaXRydW0sIFBvbHlnb25cbnZhciBERUZBVUxUX0FERFJFU1NFUyA9IHtcbiAgdjNDb3JlRmFjdG9yeUFkZHJlc3M6ICcweDFGOTg0MzFjOGFEOTg1MjM2MzFBRTRhNTlmMjY3MzQ2ZWEzMUY5ODQnLFxuICBtdWx0aWNhbGxBZGRyZXNzOiAnMHgxRjk4NDE1NzU3NjIwQjU0M0E1MkU2MWM0NkIzMmVCMTkyNjFGOTg0JyxcbiAgcXVvdGVyQWRkcmVzczogJzB4YjI3MzA4ZjlGOTBENjA3NDYzYmIzM2VBMUJlQmI0MUMyN0NFNUFCNicsXG4gIHYzTWlncmF0b3JBZGRyZXNzOiAnMHhBNTY0NEUyOTcwODM1NzgwM2I1QTg4MkQyNzJjNDFjQzBkRjkyQjM0JyxcbiAgbm9uZnVuZ2libGVQb3NpdGlvbk1hbmFnZXJBZGRyZXNzOiAnMHhDMzY0NDJiNGE0NTIyRTg3MTM5OUNENzE3YUJERDg0N0FiMTFGRTg4J1xufTtcbnZhciBNQUlOTkVUX0FERFJFU1NFUyA9IC8qI19fUFVSRV9fKi9fZXh0ZW5kcyh7fSwgREVGQVVMVF9BRERSRVNTRVMsIHtcbiAgbWl4ZWRSb3V0ZVF1b3RlclYxQWRkcmVzczogJzB4ODRFNDQwOTVlZUJmRUM3NzkzQ2Q3ZDViNTdCN2U0MDFEN2YxY0EyRSdcbn0pO1xudmFyIEdPRVJMSV9BRERSRVNTRVMgPSAvKiNfX1BVUkVfXyovX2V4dGVuZHMoe30sIERFRkFVTFRfQUREUkVTU0VTLCB7XG4gIG1peGVkUm91dGVRdW90ZXJWMUFkZHJlc3M6ICcweEJhNjBiNmU2ZkYyNTQ4ODMwODc4OUU2ZTBBNjVEODM4YmUzNDE5NGUnXG59KTtcbnZhciBPUFRJTUlTTV9BRERSRVNTRVMgPSBERUZBVUxUX0FERFJFU1NFUztcbnZhciBBUkJJVFJVTV9PTkVfQUREUkVTU0VTID0gLyojX19QVVJFX18qL19leHRlbmRzKHt9LCBERUZBVUxUX0FERFJFU1NFUywge1xuICBtdWx0aWNhbGxBZGRyZXNzOiAnMHhhZEY4ODU5NjBCNDdlQTJDRDlCNTVFNkRBYzZCNDJiN0NiMjgwNmRCJyxcbiAgdGlja0xlbnNBZGRyZXNzOiAnMHhiZmQ4MTM3ZjdkMTUxNkQzZWE1Y0E4MzUyMzkxNDg1OWVjNDdGNTczJ1xufSk7XG52YXIgUE9MWUdPTl9BRERSRVNTRVMgPSBERUZBVUxUX0FERFJFU1NFUztcbi8vIGNlbG8gdjMgYWRkcmVzc2VzXG52YXIgQ0VMT19BRERSRVNTRVMgPSB7XG4gIHYzQ29yZUZhY3RvcnlBZGRyZXNzOiAnMHhBZkUyMDhhMzExQjIxZjEzRUY4N0UzM0E5MDA0OWZDMTdBN2FjREVjJyxcbiAgbXVsdGljYWxsQWRkcmVzczogJzB4NjMzOTg3NjAyREU1QzRGMzM3ZTNEYkYyNjUzMDNBMTA4MDMyNDIwNCcsXG4gIHF1b3RlckFkZHJlc3M6ICcweDgyODI1ZDA1NTRmQTA3ZjdGQzUyQWI2M2M5NjFGMzMwZmRFRmE4RTgnLFxuICB2M01pZ3JhdG9yQWRkcmVzczogJzB4M2NGZDRkNDhFRGZEQ0M1M0QzZjE3M0Y1OTZmNjIxMDY0NjE0QzU4MicsXG4gIG5vbmZ1bmdpYmxlUG9zaXRpb25NYW5hZ2VyQWRkcmVzczogJzB4M2Q3OUVkQWFCQzBFYUI2RjA4RUQ4ODVDMDVGYzBCMDE0MjkwRDk1QScsXG4gIHRpY2tMZW5zQWRkcmVzczogJzB4NWYxMTVEOTExM0Y4OGUwYTBEYjFiNTAzM0Q5MEQ0YTk2OTBBY0QzRCdcbn07XG4vLyBCTkIgdjMgYWRkcmVzc2VzXG52YXIgQk5CX0FERFJFU1NFUyA9IHtcbiAgdjNDb3JlRmFjdG9yeUFkZHJlc3M6ICcweGRCMWQxMDAxMUFEMEZmOTA3NzREMEM2QmI5MmU1QzVjOGI0NDYxRjcnLFxuICBtdWx0aWNhbGxBZGRyZXNzOiAnMHg5NjNEZjI0OWVEMDljMzU4QTQ4MTlFMzlkOUNkNTczNmMzMDg3MTg0JyxcbiAgcXVvdGVyQWRkcmVzczogJzB4NzhENzhFNDIwRGE5OGFkMzc4RDc3OTliRThmNEFGNjkwMzNFQjA3NycsXG4gIHYzTWlncmF0b3JBZGRyZXNzOiAnMHgzMjY4MTgxNDk1N2UwQzEzMTE3ZGRjMGMyYWJhMjMyYjVjOWU3NjBmJyxcbiAgbm9uZnVuZ2libGVQb3NpdGlvbk1hbmFnZXJBZGRyZXNzOiAnMHg3YjhBMDFCMzlENTgyNzhiNURFN2U0OGM4NDQ5YzlmNEY1MTcwNjEzJyxcbiAgdGlja0xlbnNBZGRyZXNzOiAnMHhEOTI3MDAxNEQzOTYyODE1Nzk3NjA2MTlDQ2Y0YzNhZjA1MDFBNDdDJyxcbiAgc3dhcFJvdXRlcjAyQWRkcmVzczogJzB4Qjk3MWVGODdlZGU1NjM1NTZiMkVENGIxQzBiMDAxOTExMURkODVkMidcbn07XG4vLyBvcHRpbWlzbSBnb2VybGkgYWRkcmVzc2VzXG52YXIgT1BUSU1JU01fR09FUkxJX0FERFJFU1NFUyA9IHtcbiAgdjNDb3JlRmFjdG9yeUFkZHJlc3M6ICcweEI2NTZkQTE3MTI5ZTdFQjczM0E1NTdmNEVCYzU3Qjc2Q0ZiQjVkMTAnLFxuICBtdWx0aWNhbGxBZGRyZXNzOiAnMHgwN0YyRDhhMmEwMjI1MUI2MmFmOTY1ZjIyZkM0NzQ0QTVmOTZCQ0NkJyxcbiAgcXVvdGVyQWRkcmVzczogJzB4OTU2OUNiQTkyNWM4Y2EyMjQ4NzcyQTlBNDk3NkE1MTY3NDNBMjQ2RicsXG4gIHYzTWlncmF0b3JBZGRyZXNzOiAnMHhmNmM1NWZCZTg0QjFDOGMzMjgzNTMzYzUzRjUxYkMzMkY1QzdBYmE4JyxcbiAgbm9uZnVuZ2libGVQb3NpdGlvbk1hbmFnZXJBZGRyZXNzOiAnMHgzOUNhODVBZjJGMzgzMTkwY0JmN2Q3YzQxRUQ5MjAyRDI3NDI2RUY2JyxcbiAgdGlja0xlbnNBZGRyZXNzOiAnMHhlNjE0MEJkMTY0YjYzRThCZkNmYzQwRDVkRjk1MmY4M2UxNzE3NThlJ1xufTtcbi8vIG9wdGltaXNtIHNlcG9saWEgYWRkcmVzc2VzXG52YXIgT1BUSU1JU01fU0VQT0xJQV9BRERSRVNTRVMgPSB7XG4gIHYzQ29yZUZhY3RvcnlBZGRyZXNzOiAnMHg4Q0UxOTExOTNEMTVlYTk0ZTExZDMyN2I0YzdhZDhiYkU1MjBmNmFGJyxcbiAgbXVsdGljYWxsQWRkcmVzczogJzB4ODBlNGUwNjg0MWJiNzZBQTk3MzVFMDQ0OGNCOGQwMDNDMEVGMDA5YScsXG4gIHF1b3RlckFkZHJlc3M6ICcweDBGQkVhNmNmOTU3ZDk1ZWU5MzEzNDkwMDUwRjZBMERBNjgwMzk0MDQnLFxuICB2M01pZ3JhdG9yQWRkcmVzczogJzB4RTdFY2JBQWFBNTREMDA3QTAwZGJiNmMxZDJmMTUwMDY2RDY5ZEEwNycsXG4gIG5vbmZ1bmdpYmxlUG9zaXRpb25NYW5hZ2VyQWRkcmVzczogJzB4ZEE3NWNFZjFDOTMwNzhlOGI3MzZGQ0E1RDVhMzBhZGI5N0M4OTU3ZCcsXG4gIHRpY2tMZW5zQWRkcmVzczogJzB4Q2I3ZjU0NzQ3RjU4Rjg5NDQ5NzNjZWE1YjhmNGFjMjIwOUJhZERDNScsXG4gIHN3YXBSb3V0ZXIwMkFkZHJlc3M6ICcweDk0Y0MwQWFDNTM1Q0NEQjNDMDFkNjc4N0Q2NDEzQzczOWFlMTJiYzQnXG59O1xuLy8gYXJiaXRydW0gZ29lcmxpIHYzIGFkZHJlc3Nlc1xudmFyIEFSQklUUlVNX0dPRVJMSV9BRERSRVNTRVMgPSB7XG4gIHYzQ29yZUZhY3RvcnlBZGRyZXNzOiAnMHg0ODkzMzc2MzQyZDVEN2IzZTMxZDQxODRjMDhiMjY1ZTVhQjJBM2Y2JyxcbiAgbXVsdGljYWxsQWRkcmVzczogJzB4ODI2MENCNDAyNDcyOTAzMTdhNGMwNjJGMzU0MjYyMjM2N0YyMDZFZScsXG4gIHF1b3RlckFkZHJlc3M6ICcweDFkZDkyYjgzNTkxNzgxRDBDNmQ5OGQwNzM5MWVlYTRiOWE2MDA4RkEnLFxuICB2M01pZ3JhdG9yQWRkcmVzczogJzB4QTgxNTkxOUQyNTg0QWMzRjc2ZWE5Q0I2MkU2RmQ0MGE0M0JDZTBDMycsXG4gIG5vbmZ1bmdpYmxlUG9zaXRpb25NYW5hZ2VyQWRkcmVzczogJzB4NjIyZTQ3MjZhMTY3Nzk5ODI2ZDFFMUQxNTBiMDc2QTc3MjVmNUQ4MScsXG4gIHRpY2tMZW5zQWRkcmVzczogJzB4YjUyNDI5MzMzZGE5NjlhMEM3OWE2MDkzMGE0QmYwMDIwRTVEMURFOCdcbn07XG4vLyBhcmJpdHJ1bSBzZXBvbGlhIHYzIGFkZHJlc3Nlc1xudmFyIEFSQklUUlVNX1NFUE9MSUFfQUREUkVTU0VTID0ge1xuICB2M0NvcmVGYWN0b3J5QWRkcmVzczogJzB4MjQ4QUI3OUJiYjliQzI5YkI3MmY3Q2Q0MkYxN2UwNTRGYzQwMTg4ZScsXG4gIG11bHRpY2FsbEFkZHJlc3M6ICcweDJCNzE4YjQ3NWUzODVlRDI5RjU2Nzc1YTY2YUFCMUY1Y0M2QjJBMEEnLFxuICBxdW90ZXJBZGRyZXNzOiAnMHgyNzc5YTBDQzFjM2UwRTQ0RDI1NDJFQzNlNzllMzg2NEFlOTNFZjBCJyxcbiAgdjNNaWdyYXRvckFkZHJlc3M6ICcweDM5OGY0M2VmMmM2N0I5NDExNDcxNTdEQTFjNWE4NjhFOTA2RTA0M0QnLFxuICBub25mdW5naWJsZVBvc2l0aW9uTWFuYWdlckFkZHJlc3M6ICcweDZiMjkzN0JkZTE3ODg5RURDZjhmYkQ4ZEUzMUMzQzJhNzBCYzRkNjUnLFxuICB0aWNrTGVuc0FkZHJlc3M6ICcweDBmZDE4NTg3NzM0ZTVDMmRjRTJkY2NEY0M3REQxRUM4OWJhNTU3ZDknLFxuICBzd2FwUm91dGVyMDJBZGRyZXNzOiAnMHgxMDFGNDQzQjRkMWIwNTk1NjlENjQzOTE3NTUzYzc3MUUxYjk2NjNFJ1xufTtcbi8vIHNlcG9saWEgdjMgYWRkcmVzc2VzXG52YXIgU0VQT0xJQV9BRERSRVNTRVMgPSB7XG4gIHYzQ29yZUZhY3RvcnlBZGRyZXNzOiAnMHgwMjI3NjI4ZjNGMDIzYmIwQjk4MGI2N0Q1Mjg1NzFjOTVjNkRhQzFjJyxcbiAgbXVsdGljYWxsQWRkcmVzczogJzB4RDdGMzNiQ2RiMjFiMzU5YzhlZTZGMDI1MWQzMEU5NDgzMmJhQWQwNycsXG4gIHF1b3RlckFkZHJlc3M6ICcweEVkMWY2NDczMzQ1RjQ1Yjc1RjgxNzk1OTFkZDViQTE4ODhjZjJGQjMnLFxuICB2M01pZ3JhdG9yQWRkcmVzczogJzB4NzI5MDA0MTgyY0YwMDVDRUM4QmQ4NWRmMTQwMDk0YjZhQ2JlOGIxNScsXG4gIG5vbmZ1bmdpYmxlUG9zaXRpb25NYW5hZ2VyQWRkcmVzczogJzB4MTIzODUzNjA3MUUxYzY3N0E2MzI0MjllMzY1NWM3OTliMjJjREE1MicsXG4gIHRpY2tMZW5zQWRkcmVzczogJzB4ZDdmMzNiY2RiMjFiMzU5YzhlZTZmMDI1MWQzMGU5NDgzMmJhYWQwNycsXG4gIHN3YXBSb3V0ZXIwMkFkZHJlc3M6ICcweDNiRkE0NzY5RkIwOWVlZkM1YTgwZDZFODdjM0I5QzY1MGY3QWU0OEUnLFxuICBtaXhlZFJvdXRlUXVvdGVyVjJBZGRyZXNzOiAnMHg0NzQ1Zjc3YjU2YTBlMjI5NDQyNmUzOTM2ZGM0ZmFiNjhkOTU0M2NkJyxcbiAgdjRQb29sTWFuYWdlckFkZHJlc3M6ICcweEU4RTIzZTk3RmExMzU4MjMxNDNkNmI5Q2JhOWM2OTkwNDBENTFGNzAnLFxuICB2NFBvc2l0aW9uTWFuYWdlckFkZHJlc3M6ICcweDAwNDhkMUMwOTc3MUJiODdiNkE0NGUxMjk0NzY5RTFERmQ2OTg1ODQnLFxuICB2NFN0YXRlVmlldzogJzB4NkJiNzE1N2ZiNTBlM0FlNDk4M0NjZGM2MkZiODE3M2MwM2M2YjBhNycsXG4gIHY0UXVvdGVyQWRkcmVzczogJzB4OTMzNkNGMjVkRGFkMjE2RkQ0ODBBNTQyMkNCRWE3YjNCQzViRGRhOCdcbn07XG4vLyBBdmFsYW5jaGUgdjMgYWRkcmVzc2VzXG52YXIgQVZBTEFOQ0hFX0FERFJFU1NFUyA9IHtcbiAgdjNDb3JlRmFjdG9yeUFkZHJlc3M6ICcweDc0MGIxYzFkZTI1MDMxQzMxRkY0ZkM5QTYyZjU1NEE1NWNkQzFiYUQnLFxuICBtdWx0aWNhbGxBZGRyZXNzOiAnMHgwMTM5MTQxQ2Q0RWU4OGRGM0NkYjY1ODgxRDQxMWJBRTI3MUVmMEMyJyxcbiAgcXVvdGVyQWRkcmVzczogJzB4YmUwRjU1NDRFQzY3ZTlCM2IyRDk3OWFhQTQzZjE4RmQ4N0U2MjU3RicsXG4gIHYzTWlncmF0b3JBZGRyZXNzOiAnMHg0NGY1ZjFmNUU0NTJlYThkMjlDODkwRThGNmU4OTNmQzBmMWYwZjk3JyxcbiAgbm9uZnVuZ2libGVQb3NpdGlvbk1hbmFnZXJBZGRyZXNzOiAnMHg2NTVDNDA2RUJGYTE0RUUyMDA2MjUwOTI1ZTU0ZWM0M0FEMTg0ZjhCJyxcbiAgdGlja0xlbnNBZGRyZXNzOiAnMHhFQjlmRkM4YmY4MWI0ZkZkMTFmYjZBNjNhNkIwZjA5OGM2ZTIxOTUwJyxcbiAgc3dhcFJvdXRlcjAyQWRkcmVzczogJzB4YmIwMEZGMDhkMDFEMzAwMDIzQzYyOUU4ZkZmRmNiNjVBNWE1NzhjRSdcbn07XG52YXIgQkFTRV9BRERSRVNTRVMgPSB7XG4gIHYzQ29yZUZhY3RvcnlBZGRyZXNzOiAnMHgzMzEyOGE4ZkMxNzg2OTg5N2RjRTY4RWQwMjZkNjk0NjIxZjZGRGZEJyxcbiAgbXVsdGljYWxsQWRkcmVzczogJzB4MDkxZTk5Y2IxQzQ5MzMxYTk0ZEQ2Mjc1NUQxNjhFOTQxQWJEMDY5MycsXG4gIHF1b3RlckFkZHJlc3M6ICcweDNkNGU0NEViMTM3NDI0MENFNUYxQjg3MWFiMjYxQ0QxNjMzNUI3NmEnLFxuICB2M01pZ3JhdG9yQWRkcmVzczogJzB4MjNjRjEwYjFlZTNBZGZDQTczQjBlRjE3QzA3Rjc1NzdlN0FDZDJkNycsXG4gIG5vbmZ1bmdpYmxlUG9zaXRpb25NYW5hZ2VyQWRkcmVzczogJzB4MDNhNTIwYjMyQzA0QkYzYkVFZjdCRWI3MkU5MTljZjgyMkVkMzRmMScsXG4gIHRpY2tMZW5zQWRkcmVzczogJzB4MENkZUUwNjFjNzVENDNjODI1MjBlRDk5OEMyM2FjMjk5MWM5YWM2ZCcsXG4gIHN3YXBSb3V0ZXIwMkFkZHJlc3M6ICcweDI2MjY2NjRjMjYwMzMzNkU1N0IyNzFjNUMwYjI2RjQyMTc0MWU0ODEnLFxuICBtaXhlZFJvdXRlUXVvdGVyVjFBZGRyZXNzOiAnMHhlNTQ0ZWZhZTk0NmYwMDA4YWU5YThkNjQ0OTNlZmE3ODg2YjczNzc2J1xufTtcbi8vIEJhc2UgR29lcmxpIHYzIGFkZHJlc3Nlc1xudmFyIEJBU0VfR09FUkxJX0FERFJFU1NFUyA9IHtcbiAgdjNDb3JlRmFjdG9yeUFkZHJlc3M6ICcweDkzMjNjMWQ2RDgwMGVkNTFCZDdDNkIyMTZjZkJlYzY3OEI3ZDBCQzInLFxuICBtdWx0aWNhbGxBZGRyZXNzOiAnMHhCMjA2MDI3YTlFMEUxM0YwNWVCRUZhNUQyNDAyQmFiM2VBNzE2NDM5JyxcbiAgcXVvdGVyQWRkcmVzczogJzB4ZWRmNTM5MDU4ZTI4RTU5MzdkQWVmM2Y2OWNFZDBiMjVmYkU2NkFlOScsXG4gIHYzTWlncmF0b3JBZGRyZXNzOiAnMHgzZWZlNWQwMmEwNGI3MzUxRDY3MURiNzAwOGVjNmVCQTlBRDllM2FFJyxcbiAgbm9uZnVuZ2libGVQb3NpdGlvbk1hbmFnZXJBZGRyZXNzOiAnMHgzYzYxMzY5ZWYwRDFEMkFGYTcwZDhmZUMyRjMxQzVENkNlMTM0RjMwJyxcbiAgdGlja0xlbnNBZGRyZXNzOiAnMHgxYWNCODczRWU5MDlEMGM5OGFkQjE4ZTQ0NzQ5NDMyNDlGOTMxYjkyJyxcbiAgc3dhcFJvdXRlcjAyQWRkcmVzczogJzB4ODM1NzIyN0Q0ZURjNzg5OTFEYjZGREI5YkQ2QURFMjUwNTM2ZEUxZCdcbn07XG52YXIgWk9SQV9BRERSRVNTRVMgPSB7XG4gIHYzQ29yZUZhY3RvcnlBZGRyZXNzOiAnMHg3MTQ1RjhhZWVmMWY2NTEwRTkyMTY0MDM4RTFCNkY4Y0IyYzQyQ2JiJyxcbiAgbXVsdGljYWxsQWRkcmVzczogJzB4QTUxYzc2YkVFNjc0NmNCNDg3YTdlOTMxMkU0M2UyYjhmNEEzN0MxNScsXG4gIHF1b3RlckFkZHJlc3M6ICcweDExODY3ZTFiMzM0OEYzY2U0RmNDMTcwQkM1YWYzZDIzRTA3RTY0RGYnLFxuICB2M01pZ3JhdG9yQWRkcmVzczogJzB4MDQ4MzUyZDhkQ0YxMzY4Njk4MkM3OTlkYTYzZkE2NDI2YTlEMGI2MCcsXG4gIG5vbmZ1bmdpYmxlUG9zaXRpb25NYW5hZ2VyQWRkcmVzczogJzB4YkM5MWU4RGZBM2ZGMThEZTQzODUzMzcyQTNkN2RmZTU4NTEzN0Q3OCcsXG4gIHRpY2tMZW5zQWRkcmVzczogJzB4MjA5QUFkYTA5RDc0QWQzQjhEMEU5MjkxMEVhZjg1RDIzNTdlMzA0NCcsXG4gIHN3YXBSb3V0ZXIwMkFkZHJlc3M6ICcweDdEZTA0Yzk2QkU1MTU5YzNiNUNlZmZDODJhYTE3NmRjODEyODE1NTcnXG59O1xudmFyIFpPUkFfU0VQT0xJQV9BRERSRVNTRVMgPSB7XG4gIHYzQ29yZUZhY3RvcnlBZGRyZXNzOiAnMHg0MzI0QTY3N0Q3NDc2NGY0NmYzM0VENDQ3OTY0MjUyNDQxYUE4RGI2JyxcbiAgbXVsdGljYWxsQWRkcmVzczogJzB4QTFFN2UzQTY5NjcxQzQ0OTRFQzU5RGJkNDQyZGU5MzBhOTNGOTExQScsXG4gIHF1b3RlckFkZHJlc3M6ICcweEMxOTU5NzZmRUYwOTg1ODg2RTM3MDM2RTJERjYyYkYzNzFFMTJEZjAnLFxuICB2M01pZ3JhdG9yQWRkcmVzczogJzB4NjVlZjI1OWIzMWJmMWQ5NzdjMzdlOTQzNDY1ODY5NDI2NzY3NDg5NycsXG4gIG5vbmZ1bmdpYmxlUG9zaXRpb25NYW5hZ2VyQWRkcmVzczogJzB4Qjg0NThFYUFlNDMyOTJlM2MxRjc5OTRFRmQwMTZiZDY1M2QyM2MyMCcsXG4gIHRpY2tMZW5zQWRkcmVzczogJzB4MjNDMEY3MTg3N2ExRmM0ZTIwQTc4MDE4Zjk4MzEzNjVjODVmMzA2NCdcbn07XG52YXIgUk9PVFNUT0NLX0FERFJFU1NFUyA9IHtcbiAgdjNDb3JlRmFjdG9yeUFkZHJlc3M6ICcweGFGMzdFQzk4QTAwRkQ2MzY4OUNGMzA2MEJGM0I2Nzg0RTAwY2FEODInLFxuICBtdWx0aWNhbGxBZGRyZXNzOiAnMHg5OTZhOTg1OGNEZmE0NUFkNjhFNDdjOUEzMGE3MjAxRTI5YzZhMzg2JyxcbiAgcXVvdGVyQWRkcmVzczogJzB4YjUxNzI3Yzk5NkM2OEU2MEY1OThBOTIzYTUwMDY4NTNjZDJmRUIzMScsXG4gIHYzTWlncmF0b3JBZGRyZXNzOiAnMHgxNjY3ODk3N0NBNGVjM0RBRDVlZmM3YjE1NzgwMjk1RkU1ZjU2MTYyJyxcbiAgbm9uZnVuZ2libGVQb3NpdGlvbk1hbmFnZXJBZGRyZXNzOiAnMHg5ZDkzODZjMDQyRjE5NEI0NjBFYzQyNGExZTU3QUNERTI1ZjVDNGIxJyxcbiAgdGlja0xlbnNBZGRyZXNzOiAnMHg1NUI5ZEY1YkY2OEFEZTk3MjE5MWE5MTk4MDQ1OWY0OGVjQTE2YWZDJyxcbiAgc3dhcFJvdXRlcjAyQWRkcmVzczogJzB4MEIxNGZmNjdmMDAxNDA0NmI0Yjk5MDU3QWVjNDUwOTY0MGIzOTQ3QSdcbn07XG52YXIgQkxBU1RfQUREUkVTU0VTID0ge1xuICB2M0NvcmVGYWN0b3J5QWRkcmVzczogJzB4NzkyZWRBZEU4MGFmNWZDNjgwZDk2YTJlRDgwQTQ0MjQ3RDJDZjZGZCcsXG4gIG11bHRpY2FsbEFkZHJlc3M6ICcweGRDN2YzNzBkZTc2MzFjRTllMmMyZTFEQ0RBNkIzQjU3NDRDZjQ3MDUnLFxuICBxdW90ZXJBZGRyZXNzOiAnMHg2Q2RjZDY1ZTAzYzFDRWMzNzMwQWVlQ2Q0NWJjMTQwRDU3QTI1Qzc3JyxcbiAgdjNNaWdyYXRvckFkZHJlc3M6ICcweDE1Q0E3MDQzQ0Q4NEM1RDIxQWU3NkJhMEExQTk2N2Q0MmM0MGVjRTAnLFxuICBub25mdW5naWJsZVBvc2l0aW9uTWFuYWdlckFkZHJlc3M6ICcweEIyMThlNGY3Y0YwNTMzZDQ2OTZmRGZDNDE5QTAwMjNEMzMzNDVGMjgnLFxuICB0aWNrTGVuc0FkZHJlc3M6ICcweDJFOTUxODViQ2REOTI4YTNlOTg0QjdlMkQ2NTYwQWIxYjE3ZDcyNzQnLFxuICBzd2FwUm91dGVyMDJBZGRyZXNzOiAnMHg1NDlGRUI4YzliZDRjMTJBZDJBQjI3MDIyZEExMjQ5MmFDNDUyQjY2J1xufTtcbnZhciBaS1NZTkNfQUREUkVTU0VTID0ge1xuICB2M0NvcmVGYWN0b3J5QWRkcmVzczogJzB4OEZkQTVhN2E4ZENBNjdCQmNEZDEwRjAyRmEwNjQ5QTkzNzIxNTQyMicsXG4gIG11bHRpY2FsbEFkZHJlc3M6ICcweDBjNjhhN0M3MmYwNzRkMWM0NUMxNmQ0MWZhNzRlRWJDNkQxNmE2NUMnLFxuICBxdW90ZXJBZGRyZXNzOiAnMHg4Q2I1MzdmYzkyRTI2ZDhFQkJiNzYwRTYzMmM5NTQ4NGI2RWEzZTI4JyxcbiAgdjNNaWdyYXRvckFkZHJlc3M6ICcweDYxMTg0MWIyNEU0M0M0QUNmZDI5MEI0MjdhM0Q2Y2YxQTU5ZGFjOEUnLFxuICBub25mdW5naWJsZVBvc2l0aW9uTWFuYWdlckFkZHJlc3M6ICcweDA2MTZlNTc2MmMxRTdEYzM3MjNjNTA2NjNkRjEwYTE2MkQ2OTBhODYnLFxuICB0aWNrTGVuc0FkZHJlc3M6ICcweGUxMEZGMTFiODA5ZjhFRTA3YjA1NkI0NTJjM0IyY2FhN0ZFMjRmODknLFxuICBzd2FwUm91dGVyMDJBZGRyZXNzOiAnMHg5OWM1NjM4NWRhQkNFM0U4MWQ4NDk5ZDBiOGQwMjU3YUJDMDdFOEEzJ1xufTtcbnZhciBXT1JMRENIQUlOX0FERFJFU1NFUyA9IHtcbiAgdjNDb3JlRmFjdG9yeUFkZHJlc3M6ICcweDdhNTAyOEJEYTQwZTdCMTczQzI3OEM1MzQyMDg3ODI2NDU1ZWEyNWEnLFxuICBtdWx0aWNhbGxBZGRyZXNzOiAnMHgwYTIyYzA0MjE1Yzk3RTNGNTMyRjRlRjMwZTBhRDk0NTg3OTJkQUI5JyxcbiAgcXVvdGVyQWRkcmVzczogJzB4MTAxNThENDNlNmNjNDE0ZGVFMUJkMWVCMEVmQzZhNWNCQ2ZGMjQ0YycsXG4gIHYzTWlncmF0b3JBZGRyZXNzOiAnMHg5RUJEZENCYTcxQzkwMjdFMWVCNDUxMzU2NzJhMzBiY0ZFZWM5ZGUzJyxcbiAgbm9uZnVuZ2libGVQb3NpdGlvbk1hbmFnZXJBZGRyZXNzOiAnMHhlYzEyYTlGOWEwOWY1MDU1MDY4NjM2Mzc2NkNjMTUzRDAzYzI3YjVlJyxcbiAgdGlja0xlbnNBZGRyZXNzOiAnMHhFNjFkZjBDYUM5ZDg1ODc2YUNFNUUzMDM3MDA1RDgwOTQzNTcwNjIzJyxcbiAgc3dhcFJvdXRlcjAyQWRkcmVzczogJzB4MDkxQUQ5ZTJlNmU1ZUQ0NGMxYzY2ZEI1MGU0OUE2MDFGOWYzNmNGNidcbn07XG52YXIgQVNUUk9DSEFJTl9TRVBPTElBX0FERFJFU1NFUyA9IHtcbiAgdjNDb3JlRmFjdG9yeUFkZHJlc3M6ICcweDFGOTg0MzFjOGFEOTg1MjM2MzFBRTRhNTlmMjY3MzQ2ZWEzMUY5ODQnLFxuICBtdWx0aWNhbGxBZGRyZXNzOiAnMHg5RDBGMTVmMmNmNTg2NTVmRERjRDFFRTYxMjlDNTQ3ZkRhZUQwMWIxJyxcbiAgcXVvdGVyQWRkcmVzczogJzB4NkRkMzczMjlBMUEyMjVhNkZjYTY1ODI2NUQ0NjA0MjNEQ2FmQkY4OScsXG4gIHYzTWlncmF0b3JBZGRyZXNzOiAnMHhiNUZBMjQ0QzlkNkQwNEIyRkJhYzg0NDE4YjNjNDkxMEVEMUFlNWYyJyxcbiAgbm9uZnVuZ2libGVQb3NpdGlvbk1hbmFnZXJBZGRyZXNzOiAnMHhCN0Y3MjRkNmREREZkMDA4ZUZmNWNjMjgzNGVkREU1RjllRjBkMDc1JyxcbiAgdGlja0xlbnNBZGRyZXNzOiAnMHg1ZjczOWM3OTBhNDhFOTdlZWMwZWZiODFiYWI1RDE1MmMwQTBlY0EwJyxcbiAgc3dhcFJvdXRlcjAyQWRkcmVzczogJzB4ZDFBQUUzOTI5MzIyMUI3N0IwQzcxZkJENmRDYjdFYTI5QmI1QjE2NicsXG4gIHY0UG9vbE1hbmFnZXJBZGRyZXNzOiAnMHgzOEVCOEIyMkRmM0FlN2ZiMjFlOTI4ODExNTFCMzY1RGYxNGJhOTY3JyxcbiAgdjRQb3NpdGlvbk1hbmFnZXJBZGRyZXNzOiAnMHgwNWRlRDNGOGE4ZTg0NzAwZDY4QTREODFjZDY3ODBjOTgyZEIxM0Y5JyxcbiAgdjRTdGF0ZVZpZXc6ICcweGFkMzI4NDM5RENhN2NlODU3NjYyYWZBNDU4NEEzZDU3MWJiRERDNzUnLFxuICB2NFF1b3RlckFkZHJlc3M6ICcweDJjZmE4NzY1MUQzQUIwNUJjNTlFMzI1RTVlYUM4NDk1Q0YzNGNFNTUnXG59O1xudmFyIENIQUlOX1RPX0FERFJFU1NFU19NQVAgPSAoX0NIQUlOX1RPX0FERFJFU1NFU19NID0ge30sIF9DSEFJTl9UT19BRERSRVNTRVNfTVtDaGFpbklkLk1BSU5ORVRdID0gTUFJTk5FVF9BRERSRVNTRVMsIF9DSEFJTl9UT19BRERSRVNTRVNfTVtDaGFpbklkLk9QVElNSVNNXSA9IE9QVElNSVNNX0FERFJFU1NFUywgX0NIQUlOX1RPX0FERFJFU1NFU19NW0NoYWluSWQuQVJCSVRSVU1fT05FXSA9IEFSQklUUlVNX09ORV9BRERSRVNTRVMsIF9DSEFJTl9UT19BRERSRVNTRVNfTVtDaGFpbklkLlBPTFlHT05dID0gUE9MWUdPTl9BRERSRVNTRVMsIF9DSEFJTl9UT19BRERSRVNTRVNfTVtDaGFpbklkLlBPTFlHT05fTVVNQkFJXSA9IFBPTFlHT05fQUREUkVTU0VTLCBfQ0hBSU5fVE9fQUREUkVTU0VTX01bQ2hhaW5JZC5HT0VSTEldID0gR09FUkxJX0FERFJFU1NFUywgX0NIQUlOX1RPX0FERFJFU1NFU19NW0NoYWluSWQuQ0VMT10gPSBDRUxPX0FERFJFU1NFUywgX0NIQUlOX1RPX0FERFJFU1NFU19NW0NoYWluSWQuQ0VMT19BTEZBSk9SRVNdID0gQ0VMT19BRERSRVNTRVMsIF9DSEFJTl9UT19BRERSRVNTRVNfTVtDaGFpbklkLkJOQl0gPSBCTkJfQUREUkVTU0VTLCBfQ0hBSU5fVE9fQUREUkVTU0VTX01bQ2hhaW5JZC5PUFRJTUlTTV9HT0VSTEldID0gT1BUSU1JU01fR09FUkxJX0FERFJFU1NFUywgX0NIQUlOX1RPX0FERFJFU1NFU19NW0NoYWluSWQuT1BUSU1JU01fU0VQT0xJQV0gPSBPUFRJTUlTTV9TRVBPTElBX0FERFJFU1NFUywgX0NIQUlOX1RPX0FERFJFU1NFU19NW0NoYWluSWQuQVJCSVRSVU1fR09FUkxJXSA9IEFSQklUUlVNX0dPRVJMSV9BRERSRVNTRVMsIF9DSEFJTl9UT19BRERSRVNTRVNfTVtDaGFpbklkLkFSQklUUlVNX1NFUE9MSUFdID0gQVJCSVRSVU1fU0VQT0xJQV9BRERSRVNTRVMsIF9DSEFJTl9UT19BRERSRVNTRVNfTVtDaGFpbklkLlNFUE9MSUFdID0gU0VQT0xJQV9BRERSRVNTRVMsIF9DSEFJTl9UT19BRERSRVNTRVNfTVtDaGFpbklkLkFWQUxBTkNIRV0gPSBBVkFMQU5DSEVfQUREUkVTU0VTLCBfQ0hBSU5fVE9fQUREUkVTU0VTX01bQ2hhaW5JZC5CQVNFXSA9IEJBU0VfQUREUkVTU0VTLCBfQ0hBSU5fVE9fQUREUkVTU0VTX01bQ2hhaW5JZC5CQVNFX0dPRVJMSV0gPSBCQVNFX0dPRVJMSV9BRERSRVNTRVMsIF9DSEFJTl9UT19BRERSRVNTRVNfTVtDaGFpbklkLlpPUkFdID0gWk9SQV9BRERSRVNTRVMsIF9DSEFJTl9UT19BRERSRVNTRVNfTVtDaGFpbklkLlpPUkFfU0VQT0xJQV0gPSBaT1JBX1NFUE9MSUFfQUREUkVTU0VTLCBfQ0hBSU5fVE9fQUREUkVTU0VTX01bQ2hhaW5JZC5ST09UU1RPQ0tdID0gUk9PVFNUT0NLX0FERFJFU1NFUywgX0NIQUlOX1RPX0FERFJFU1NFU19NW0NoYWluSWQuQkxBU1RdID0gQkxBU1RfQUREUkVTU0VTLCBfQ0hBSU5fVE9fQUREUkVTU0VTX01bQ2hhaW5JZC5aS1NZTkNdID0gWktTWU5DX0FERFJFU1NFUywgX0NIQUlOX1RPX0FERFJFU1NFU19NW0NoYWluSWQuV09STERDSEFJTl0gPSBXT1JMRENIQUlOX0FERFJFU1NFUywgX0NIQUlOX1RPX0FERFJFU1NFU19NW0NoYWluSWQuQVNUUk9DSEFJTl9TRVBPTElBXSA9IEFTVFJPQ0hBSU5fU0VQT0xJQV9BRERSRVNTRVMsIF9DSEFJTl9UT19BRERSRVNTRVNfTSk7XG4vKiBWMyBDb250cmFjdCBBZGRyZXNzZXMgKi9cbnZhciBWM19DT1JFX0ZBQ1RPUllfQUREUkVTU0VTID0gLyojX19QVVJFX18qL19leHRlbmRzKHt9LCAvKiNfX1BVUkVfXyovU1VQUE9SVEVEX0NIQUlOUy5yZWR1Y2UoZnVuY3Rpb24gKG1lbW8sIGNoYWluSWQpIHtcbiAgbWVtb1tjaGFpbklkXSA9IENIQUlOX1RPX0FERFJFU1NFU19NQVBbY2hhaW5JZF0udjNDb3JlRmFjdG9yeUFkZHJlc3M7XG4gIHJldHVybiBtZW1vO1xufSwge30pKTtcbnZhciBWM19NSUdSQVRPUl9BRERSRVNTRVMgPSAvKiNfX1BVUkVfXyovX2V4dGVuZHMoe30sIC8qI19fUFVSRV9fKi9TVVBQT1JURURfQ0hBSU5TLnJlZHVjZShmdW5jdGlvbiAobWVtbywgY2hhaW5JZCkge1xuICB2YXIgdjNNaWdyYXRvckFkZHJlc3MgPSBDSEFJTl9UT19BRERSRVNTRVNfTUFQW2NoYWluSWRdLnYzTWlncmF0b3JBZGRyZXNzO1xuICBpZiAodjNNaWdyYXRvckFkZHJlc3MpIHtcbiAgICBtZW1vW2NoYWluSWRdID0gdjNNaWdyYXRvckFkZHJlc3M7XG4gIH1cbiAgcmV0dXJuIG1lbW87XG59LCB7fSkpO1xudmFyIE1VTFRJQ0FMTF9BRERSRVNTRVMgPSAvKiNfX1BVUkVfXyovX2V4dGVuZHMoe30sIC8qI19fUFVSRV9fKi9TVVBQT1JURURfQ0hBSU5TLnJlZHVjZShmdW5jdGlvbiAobWVtbywgY2hhaW5JZCkge1xuICBtZW1vW2NoYWluSWRdID0gQ0hBSU5fVE9fQUREUkVTU0VTX01BUFtjaGFpbklkXS5tdWx0aWNhbGxBZGRyZXNzO1xuICByZXR1cm4gbWVtbztcbn0sIHt9KSk7XG4vKipcclxuICogVGhlIG9sZGVzdCBWMCBnb3Zlcm5hbmNlIGFkZHJlc3NcclxuICovXG52YXIgR09WRVJOQU5DRV9BTFBIQV9WMF9BRERSRVNTRVMgPSAvKiNfX1BVUkVfXyovY29uc3RydWN0U2FtZUFkZHJlc3NNYXAoJzB4NWU0YmU4QmM5NjM3ZjBFQUExQTc1NTAxOWUwNkE2OGNlMDgxRDU4RicpO1xuLyoqXHJcbiAqIFRoZSBvbGRlciBWMSBnb3Zlcm5hbmNlIGFkZHJlc3NcclxuICovXG52YXIgR09WRVJOQU5DRV9BTFBIQV9WMV9BRERSRVNTRVMgPSAoX0dPVkVSTkFOQ0VfQUxQSEFfVjFfID0ge30sIF9HT1ZFUk5BTkNFX0FMUEhBX1YxX1tDaGFpbklkLk1BSU5ORVRdID0gJzB4QzRlMTcyNDU5ZjFFNzkzOUQ1MjI1MDNCODFBRkFhQzEwMTRDRTZGNicsIF9HT1ZFUk5BTkNFX0FMUEhBX1YxXyk7XG4vKipcclxuICogVGhlIGxhdGVzdCBnb3Zlcm5vciBicmF2byB0aGF0IGlzIGN1cnJlbnRseSBhZG1pbiBvZiB0aW1lbG9ja1xyXG4gKi9cbnZhciBHT1ZFUk5BTkNFX0JSQVZPX0FERFJFU1NFUyA9IChfR09WRVJOQU5DRV9CUkFWT19BREQgPSB7fSwgX0dPVkVSTkFOQ0VfQlJBVk9fQUREW0NoYWluSWQuTUFJTk5FVF0gPSAnMHg0MDhFRDYzNTRkNDk3M2Y2NjEzOEM5MTQ5NUYyZjJGQ2JkODcyNEMzJywgX0dPVkVSTkFOQ0VfQlJBVk9fQUREKTtcbnZhciBUSU1FTE9DS19BRERSRVNTRVMgPSAvKiNfX1BVUkVfXyovY29uc3RydWN0U2FtZUFkZHJlc3NNYXAoJzB4MWE5QzgxODJDMDlGNTBDODMxOGQ3NjkyNDViZUE1MmMzMkJFMzVCQycpO1xudmFyIE1FUktMRV9ESVNUUklCVVRPUl9BRERSRVNTID0gKF9NRVJLTEVfRElTVFJJQlVUT1JfQSA9IHt9LCBfTUVSS0xFX0RJU1RSSUJVVE9SX0FbQ2hhaW5JZC5NQUlOTkVUXSA9ICcweDA5MEQ0NjEzNDczZEVFMDQ3YzNmMjcwNjc2NGY0OUUwODIxRDI1NmUnLCBfTUVSS0xFX0RJU1RSSUJVVE9SX0EpO1xudmFyIEFSR0VOVF9XQUxMRVRfREVURUNUT1JfQUREUkVTUyA9IChfQVJHRU5UX1dBTExFVF9ERVRFQ1QgPSB7fSwgX0FSR0VOVF9XQUxMRVRfREVURUNUW0NoYWluSWQuTUFJTk5FVF0gPSAnMHhlY2E0QjBiREJmN2M1NUU5Yjc5MjU5MTlkMDNDYkY4RGM4MjUzN0U4JywgX0FSR0VOVF9XQUxMRVRfREVURUNUKTtcbnZhciBRVU9URVJfQUREUkVTU0VTID0gLyojX19QVVJFX18qL19leHRlbmRzKHt9LCAvKiNfX1BVUkVfXyovU1VQUE9SVEVEX0NIQUlOUy5yZWR1Y2UoZnVuY3Rpb24gKG1lbW8sIGNoYWluSWQpIHtcbiAgbWVtb1tjaGFpbklkXSA9IENIQUlOX1RPX0FERFJFU1NFU19NQVBbY2hhaW5JZF0ucXVvdGVyQWRkcmVzcztcbiAgcmV0dXJuIG1lbW87XG59LCB7fSkpO1xudmFyIE5PTkZVTkdJQkxFX1BPU0lUSU9OX01BTkFHRVJfQUREUkVTU0VTID0gLyojX19QVVJFX18qL19leHRlbmRzKHt9LCAvKiNfX1BVUkVfXyovU1VQUE9SVEVEX0NIQUlOUy5yZWR1Y2UoZnVuY3Rpb24gKG1lbW8sIGNoYWluSWQpIHtcbiAgdmFyIG5vbmZ1bmdpYmxlUG9zaXRpb25NYW5hZ2VyQWRkcmVzcyA9IENIQUlOX1RPX0FERFJFU1NFU19NQVBbY2hhaW5JZF0ubm9uZnVuZ2libGVQb3NpdGlvbk1hbmFnZXJBZGRyZXNzO1xuICBpZiAobm9uZnVuZ2libGVQb3NpdGlvbk1hbmFnZXJBZGRyZXNzKSB7XG4gICAgbWVtb1tjaGFpbklkXSA9IG5vbmZ1bmdpYmxlUG9zaXRpb25NYW5hZ2VyQWRkcmVzcztcbiAgfVxuICByZXR1cm4gbWVtbztcbn0sIHt9KSk7XG52YXIgRU5TX1JFR0lTVFJBUl9BRERSRVNTRVMgPSAvKiNfX1BVUkVfXyovX2V4dGVuZHMoe30sIC8qI19fUFVSRV9fKi9jb25zdHJ1Y3RTYW1lQWRkcmVzc01hcCgnMHgwMDAwMDAwMDAwMEMyRTA3NGVDNjlBMGRGYjI5OTdCQTZDN2QyZTFlJykpO1xudmFyIFNPQ0tTX0NPTlRST0xMRVJfQUREUkVTU0VTID0gKF9TT0NLU19DT05UUk9MTEVSX0FERCA9IHt9LCBfU09DS1NfQ09OVFJPTExFUl9BRERbQ2hhaW5JZC5NQUlOTkVUXSA9ICcweDY1NzcwYjUyODMxMTc2Mzk3NjBiZUEzRjg2N2I2OWIzNjk3YTkxZGQnLCBfU09DS1NfQ09OVFJPTExFUl9BREQpO1xudmFyIFRJQ0tfTEVOU19BRERSRVNTRVMgPSAvKiNfX1BVUkVfXyovX2V4dGVuZHMoe30sIC8qI19fUFVSRV9fKi9TVVBQT1JURURfQ0hBSU5TLnJlZHVjZShmdW5jdGlvbiAobWVtbywgY2hhaW5JZCkge1xuICB2YXIgdGlja0xlbnNBZGRyZXNzID0gQ0hBSU5fVE9fQUREUkVTU0VTX01BUFtjaGFpbklkXS50aWNrTGVuc0FkZHJlc3M7XG4gIGlmICh0aWNrTGVuc0FkZHJlc3MpIHtcbiAgICBtZW1vW2NoYWluSWRdID0gdGlja0xlbnNBZGRyZXNzO1xuICB9XG4gIHJldHVybiBtZW1vO1xufSwge30pKTtcbnZhciBNSVhFRF9ST1VURV9RVU9URVJfVjFfQUREUkVTU0VTID0gLyojX19QVVJFX18qL1NVUFBPUlRFRF9DSEFJTlMucmVkdWNlKGZ1bmN0aW9uIChtZW1vLCBjaGFpbklkKSB7XG4gIHZhciBtaXhlZFJvdXRlUXVvdGVyVjFBZGRyZXNzID0gQ0hBSU5fVE9fQUREUkVTU0VTX01BUFtjaGFpbklkXS5taXhlZFJvdXRlUXVvdGVyVjFBZGRyZXNzO1xuICBpZiAobWl4ZWRSb3V0ZVF1b3RlclYxQWRkcmVzcykge1xuICAgIG1lbW9bY2hhaW5JZF0gPSBtaXhlZFJvdXRlUXVvdGVyVjFBZGRyZXNzO1xuICB9XG4gIHJldHVybiBtZW1vO1xufSwge30pO1xudmFyIFNXQVBfUk9VVEVSXzAyX0FERFJFU1NFUyA9IGZ1bmN0aW9uIFNXQVBfUk9VVEVSXzAyX0FERFJFU1NFUyhjaGFpbklkKSB7XG4gIGlmIChTVVBQT1JURURfQ0hBSU5TLmluY2x1ZGVzKGNoYWluSWQpKSB7XG4gICAgdmFyIF9DSEFJTl9UT19BRERSRVNTRVNfTTI7XG4gICAgdmFyIGlkID0gY2hhaW5JZDtcbiAgICByZXR1cm4gKF9DSEFJTl9UT19BRERSRVNTRVNfTTIgPSBDSEFJTl9UT19BRERSRVNTRVNfTUFQW2lkXS5zd2FwUm91dGVyMDJBZGRyZXNzKSAhPSBudWxsID8gX0NIQUlOX1RPX0FERFJFU1NFU19NMiA6ICcweDY4YjM0NjU4MzNmYjcyQTcwZWNERjQ4NUUwZTRDN2JEODY2NUZjNDUnO1xuICB9XG4gIHJldHVybiAnJztcbn07XG5cbnZhciBUcmFkZVR5cGU7XG4oZnVuY3Rpb24gKFRyYWRlVHlwZSkge1xuICBUcmFkZVR5cGVbVHJhZGVUeXBlW1wiRVhBQ1RfSU5QVVRcIl0gPSAwXSA9IFwiRVhBQ1RfSU5QVVRcIjtcbiAgVHJhZGVUeXBlW1RyYWRlVHlwZVtcIkVYQUNUX09VVFBVVFwiXSA9IDFdID0gXCJFWEFDVF9PVVRQVVRcIjtcbn0pKFRyYWRlVHlwZSB8fCAoVHJhZGVUeXBlID0ge30pKTtcbnZhciBSb3VuZGluZztcbihmdW5jdGlvbiAoUm91bmRpbmcpIHtcbiAgUm91bmRpbmdbUm91bmRpbmdbXCJST1VORF9ET1dOXCJdID0gMF0gPSBcIlJPVU5EX0RPV05cIjtcbiAgUm91bmRpbmdbUm91bmRpbmdbXCJST1VORF9IQUxGX1VQXCJdID0gMV0gPSBcIlJPVU5EX0hBTEZfVVBcIjtcbiAgUm91bmRpbmdbUm91bmRpbmdbXCJST1VORF9VUFwiXSA9IDJdID0gXCJST1VORF9VUFwiO1xufSkoUm91bmRpbmcgfHwgKFJvdW5kaW5nID0ge30pKTtcbnZhciBNYXhVaW50MjU2ID0gLyojX19QVVJFX18qL0pTQkkuQmlnSW50KCcweGZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYnKTtcblxudmFyIF90b1NpZ25pZmljYW50Um91bmRpbiwgX3RvRml4ZWRSb3VuZGluZztcbnZhciBEZWNpbWFsID0gLyojX19QVVJFX18qL3RvRm9ybWF0KF9EZWNpbWFsKTtcbnZhciBCaWcgPSAvKiNfX1BVUkVfXyovdG9Gb3JtYXQoX0JpZyk7XG52YXIgdG9TaWduaWZpY2FudFJvdW5kaW5nID0gKF90b1NpZ25pZmljYW50Um91bmRpbiA9IHt9LCBfdG9TaWduaWZpY2FudFJvdW5kaW5bUm91bmRpbmcuUk9VTkRfRE9XTl0gPSBEZWNpbWFsLlJPVU5EX0RPV04sIF90b1NpZ25pZmljYW50Um91bmRpbltSb3VuZGluZy5ST1VORF9IQUxGX1VQXSA9IERlY2ltYWwuUk9VTkRfSEFMRl9VUCwgX3RvU2lnbmlmaWNhbnRSb3VuZGluW1JvdW5kaW5nLlJPVU5EX1VQXSA9IERlY2ltYWwuUk9VTkRfVVAsIF90b1NpZ25pZmljYW50Um91bmRpbik7XG52YXIgdG9GaXhlZFJvdW5kaW5nID0gKF90b0ZpeGVkUm91bmRpbmcgPSB7fSwgX3RvRml4ZWRSb3VuZGluZ1tSb3VuZGluZy5ST1VORF9ET1dOXSA9IDAsIF90b0ZpeGVkUm91bmRpbmdbUm91bmRpbmcuUk9VTkRfSEFMRl9VUF0gPSAxLCBfdG9GaXhlZFJvdW5kaW5nW1JvdW5kaW5nLlJPVU5EX1VQXSA9IDMsIF90b0ZpeGVkUm91bmRpbmcpO1xudmFyIEZyYWN0aW9uID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gRnJhY3Rpb24obnVtZXJhdG9yLCBkZW5vbWluYXRvcikge1xuICAgIGlmIChkZW5vbWluYXRvciA9PT0gdm9pZCAwKSB7XG4gICAgICBkZW5vbWluYXRvciA9IEpTQkkuQmlnSW50KDEpO1xuICAgIH1cbiAgICB0aGlzLm51bWVyYXRvciA9IEpTQkkuQmlnSW50KG51bWVyYXRvcik7XG4gICAgdGhpcy5kZW5vbWluYXRvciA9IEpTQkkuQmlnSW50KGRlbm9taW5hdG9yKTtcbiAgfVxuICBGcmFjdGlvbi50cnlQYXJzZUZyYWN0aW9uID0gZnVuY3Rpb24gdHJ5UGFyc2VGcmFjdGlvbihmcmFjdGlvbmlzaCkge1xuICAgIGlmIChmcmFjdGlvbmlzaCBpbnN0YW5jZW9mIEpTQkkgfHwgdHlwZW9mIGZyYWN0aW9uaXNoID09PSAnbnVtYmVyJyB8fCB0eXBlb2YgZnJhY3Rpb25pc2ggPT09ICdzdHJpbmcnKSByZXR1cm4gbmV3IEZyYWN0aW9uKGZyYWN0aW9uaXNoKTtcbiAgICBpZiAoJ251bWVyYXRvcicgaW4gZnJhY3Rpb25pc2ggJiYgJ2Rlbm9taW5hdG9yJyBpbiBmcmFjdGlvbmlzaCkgcmV0dXJuIGZyYWN0aW9uaXNoO1xuICAgIHRocm93IG5ldyBFcnJvcignQ291bGQgbm90IHBhcnNlIGZyYWN0aW9uJyk7XG4gIH1cbiAgLy8gcGVyZm9ybXMgZmxvb3IgZGl2aXNpb25cbiAgO1xuICB2YXIgX3Byb3RvID0gRnJhY3Rpb24ucHJvdG90eXBlO1xuICBfcHJvdG8uaW52ZXJ0ID0gZnVuY3Rpb24gaW52ZXJ0KCkge1xuICAgIHJldHVybiBuZXcgRnJhY3Rpb24odGhpcy5kZW5vbWluYXRvciwgdGhpcy5udW1lcmF0b3IpO1xuICB9O1xuICBfcHJvdG8uYWRkID0gZnVuY3Rpb24gYWRkKG90aGVyKSB7XG4gICAgdmFyIG90aGVyUGFyc2VkID0gRnJhY3Rpb24udHJ5UGFyc2VGcmFjdGlvbihvdGhlcik7XG4gICAgaWYgKEpTQkkuZXF1YWwodGhpcy5kZW5vbWluYXRvciwgb3RoZXJQYXJzZWQuZGVub21pbmF0b3IpKSB7XG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKEpTQkkuYWRkKHRoaXMubnVtZXJhdG9yLCBvdGhlclBhcnNlZC5udW1lcmF0b3IpLCB0aGlzLmRlbm9taW5hdG9yKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBGcmFjdGlvbihKU0JJLmFkZChKU0JJLm11bHRpcGx5KHRoaXMubnVtZXJhdG9yLCBvdGhlclBhcnNlZC5kZW5vbWluYXRvciksIEpTQkkubXVsdGlwbHkob3RoZXJQYXJzZWQubnVtZXJhdG9yLCB0aGlzLmRlbm9taW5hdG9yKSksIEpTQkkubXVsdGlwbHkodGhpcy5kZW5vbWluYXRvciwgb3RoZXJQYXJzZWQuZGVub21pbmF0b3IpKTtcbiAgfTtcbiAgX3Byb3RvLnN1YnRyYWN0ID0gZnVuY3Rpb24gc3VidHJhY3Qob3RoZXIpIHtcbiAgICB2YXIgb3RoZXJQYXJzZWQgPSBGcmFjdGlvbi50cnlQYXJzZUZyYWN0aW9uKG90aGVyKTtcbiAgICBpZiAoSlNCSS5lcXVhbCh0aGlzLmRlbm9taW5hdG9yLCBvdGhlclBhcnNlZC5kZW5vbWluYXRvcikpIHtcbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24oSlNCSS5zdWJ0cmFjdCh0aGlzLm51bWVyYXRvciwgb3RoZXJQYXJzZWQubnVtZXJhdG9yKSwgdGhpcy5kZW5vbWluYXRvcik7XG4gICAgfVxuICAgIHJldHVybiBuZXcgRnJhY3Rpb24oSlNCSS5zdWJ0cmFjdChKU0JJLm11bHRpcGx5KHRoaXMubnVtZXJhdG9yLCBvdGhlclBhcnNlZC5kZW5vbWluYXRvciksIEpTQkkubXVsdGlwbHkob3RoZXJQYXJzZWQubnVtZXJhdG9yLCB0aGlzLmRlbm9taW5hdG9yKSksIEpTQkkubXVsdGlwbHkodGhpcy5kZW5vbWluYXRvciwgb3RoZXJQYXJzZWQuZGVub21pbmF0b3IpKTtcbiAgfTtcbiAgX3Byb3RvLmxlc3NUaGFuID0gZnVuY3Rpb24gbGVzc1RoYW4ob3RoZXIpIHtcbiAgICB2YXIgb3RoZXJQYXJzZWQgPSBGcmFjdGlvbi50cnlQYXJzZUZyYWN0aW9uKG90aGVyKTtcbiAgICByZXR1cm4gSlNCSS5sZXNzVGhhbihKU0JJLm11bHRpcGx5KHRoaXMubnVtZXJhdG9yLCBvdGhlclBhcnNlZC5kZW5vbWluYXRvciksIEpTQkkubXVsdGlwbHkob3RoZXJQYXJzZWQubnVtZXJhdG9yLCB0aGlzLmRlbm9taW5hdG9yKSk7XG4gIH07XG4gIF9wcm90by5lcXVhbFRvID0gZnVuY3Rpb24gZXF1YWxUbyhvdGhlcikge1xuICAgIHZhciBvdGhlclBhcnNlZCA9IEZyYWN0aW9uLnRyeVBhcnNlRnJhY3Rpb24ob3RoZXIpO1xuICAgIHJldHVybiBKU0JJLmVxdWFsKEpTQkkubXVsdGlwbHkodGhpcy5udW1lcmF0b3IsIG90aGVyUGFyc2VkLmRlbm9taW5hdG9yKSwgSlNCSS5tdWx0aXBseShvdGhlclBhcnNlZC5udW1lcmF0b3IsIHRoaXMuZGVub21pbmF0b3IpKTtcbiAgfTtcbiAgX3Byb3RvLmdyZWF0ZXJUaGFuID0gZnVuY3Rpb24gZ3JlYXRlclRoYW4ob3RoZXIpIHtcbiAgICB2YXIgb3RoZXJQYXJzZWQgPSBGcmFjdGlvbi50cnlQYXJzZUZyYWN0aW9uKG90aGVyKTtcbiAgICByZXR1cm4gSlNCSS5ncmVhdGVyVGhhbihKU0JJLm11bHRpcGx5KHRoaXMubnVtZXJhdG9yLCBvdGhlclBhcnNlZC5kZW5vbWluYXRvciksIEpTQkkubXVsdGlwbHkob3RoZXJQYXJzZWQubnVtZXJhdG9yLCB0aGlzLmRlbm9taW5hdG9yKSk7XG4gIH07XG4gIF9wcm90by5tdWx0aXBseSA9IGZ1bmN0aW9uIG11bHRpcGx5KG90aGVyKSB7XG4gICAgdmFyIG90aGVyUGFyc2VkID0gRnJhY3Rpb24udHJ5UGFyc2VGcmFjdGlvbihvdGhlcik7XG4gICAgcmV0dXJuIG5ldyBGcmFjdGlvbihKU0JJLm11bHRpcGx5KHRoaXMubnVtZXJhdG9yLCBvdGhlclBhcnNlZC5udW1lcmF0b3IpLCBKU0JJLm11bHRpcGx5KHRoaXMuZGVub21pbmF0b3IsIG90aGVyUGFyc2VkLmRlbm9taW5hdG9yKSk7XG4gIH07XG4gIF9wcm90by5kaXZpZGUgPSBmdW5jdGlvbiBkaXZpZGUob3RoZXIpIHtcbiAgICB2YXIgb3RoZXJQYXJzZWQgPSBGcmFjdGlvbi50cnlQYXJzZUZyYWN0aW9uKG90aGVyKTtcbiAgICByZXR1cm4gbmV3IEZyYWN0aW9uKEpTQkkubXVsdGlwbHkodGhpcy5udW1lcmF0b3IsIG90aGVyUGFyc2VkLmRlbm9taW5hdG9yKSwgSlNCSS5tdWx0aXBseSh0aGlzLmRlbm9taW5hdG9yLCBvdGhlclBhcnNlZC5udW1lcmF0b3IpKTtcbiAgfTtcbiAgX3Byb3RvLnRvU2lnbmlmaWNhbnQgPSBmdW5jdGlvbiB0b1NpZ25pZmljYW50KHNpZ25pZmljYW50RGlnaXRzLCBmb3JtYXQsIHJvdW5kaW5nKSB7XG4gICAgaWYgKGZvcm1hdCA9PT0gdm9pZCAwKSB7XG4gICAgICBmb3JtYXQgPSB7XG4gICAgICAgIGdyb3VwU2VwYXJhdG9yOiAnJ1xuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKHJvdW5kaW5nID09PSB2b2lkIDApIHtcbiAgICAgIHJvdW5kaW5nID0gUm91bmRpbmcuUk9VTkRfSEFMRl9VUDtcbiAgICB9XG4gICAgIU51bWJlci5pc0ludGVnZXIoc2lnbmlmaWNhbnREaWdpdHMpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCBzaWduaWZpY2FudERpZ2l0cyArIFwiIGlzIG5vdCBhbiBpbnRlZ2VyLlwiKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgIShzaWduaWZpY2FudERpZ2l0cyA+IDApID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCBzaWduaWZpY2FudERpZ2l0cyArIFwiIGlzIG5vdCBwb3NpdGl2ZS5cIikgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIERlY2ltYWwuc2V0KHtcbiAgICAgIHByZWNpc2lvbjogc2lnbmlmaWNhbnREaWdpdHMgKyAxLFxuICAgICAgcm91bmRpbmc6IHRvU2lnbmlmaWNhbnRSb3VuZGluZ1tyb3VuZGluZ11cbiAgICB9KTtcbiAgICB2YXIgcXVvdGllbnQgPSBuZXcgRGVjaW1hbCh0aGlzLm51bWVyYXRvci50b1N0cmluZygpKS5kaXYodGhpcy5kZW5vbWluYXRvci50b1N0cmluZygpKS50b1NpZ25pZmljYW50RGlnaXRzKHNpZ25pZmljYW50RGlnaXRzKTtcbiAgICByZXR1cm4gcXVvdGllbnQudG9Gb3JtYXQocXVvdGllbnQuZGVjaW1hbFBsYWNlcygpLCBmb3JtYXQpO1xuICB9O1xuICBfcHJvdG8udG9GaXhlZCA9IGZ1bmN0aW9uIHRvRml4ZWQoZGVjaW1hbFBsYWNlcywgZm9ybWF0LCByb3VuZGluZykge1xuICAgIGlmIChmb3JtYXQgPT09IHZvaWQgMCkge1xuICAgICAgZm9ybWF0ID0ge1xuICAgICAgICBncm91cFNlcGFyYXRvcjogJydcbiAgICAgIH07XG4gICAgfVxuICAgIGlmIChyb3VuZGluZyA9PT0gdm9pZCAwKSB7XG4gICAgICByb3VuZGluZyA9IFJvdW5kaW5nLlJPVU5EX0hBTEZfVVA7XG4gICAgfVxuICAgICFOdW1iZXIuaXNJbnRlZ2VyKGRlY2ltYWxQbGFjZXMpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCBkZWNpbWFsUGxhY2VzICsgXCIgaXMgbm90IGFuIGludGVnZXIuXCIpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAhKGRlY2ltYWxQbGFjZXMgPj0gMCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsIGRlY2ltYWxQbGFjZXMgKyBcIiBpcyBuZWdhdGl2ZS5cIikgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIEJpZy5EUCA9IGRlY2ltYWxQbGFjZXM7XG4gICAgQmlnLlJNID0gdG9GaXhlZFJvdW5kaW5nW3JvdW5kaW5nXTtcbiAgICByZXR1cm4gbmV3IEJpZyh0aGlzLm51bWVyYXRvci50b1N0cmluZygpKS5kaXYodGhpcy5kZW5vbWluYXRvci50b1N0cmluZygpKS50b0Zvcm1hdChkZWNpbWFsUGxhY2VzLCBmb3JtYXQpO1xuICB9XG4gIC8qKlxyXG4gICAqIEhlbHBlciBtZXRob2QgZm9yIGNvbnZlcnRpbmcgYW55IHN1cGVyIGNsYXNzIGJhY2sgdG8gYSBmcmFjdGlvblxyXG4gICAqLztcbiAgX2NyZWF0ZUNsYXNzKEZyYWN0aW9uLCBbe1xuICAgIGtleTogXCJxdW90aWVudFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIEpTQkkuZGl2aWRlKHRoaXMubnVtZXJhdG9yLCB0aGlzLmRlbm9taW5hdG9yKTtcbiAgICB9XG4gICAgLy8gcmVtYWluZGVyIGFmdGVyIGZsb29yIGRpdmlzaW9uXG4gIH0sIHtcbiAgICBrZXk6IFwicmVtYWluZGVyXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gbmV3IEZyYWN0aW9uKEpTQkkucmVtYWluZGVyKHRoaXMubnVtZXJhdG9yLCB0aGlzLmRlbm9taW5hdG9yKSwgdGhpcy5kZW5vbWluYXRvcik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImFzRnJhY3Rpb25cIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBuZXcgRnJhY3Rpb24odGhpcy5udW1lcmF0b3IsIHRoaXMuZGVub21pbmF0b3IpO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gRnJhY3Rpb247XG59KCk7XG5cbnZhciBCaWckMSA9IC8qI19fUFVSRV9fKi90b0Zvcm1hdChfQmlnKTtcbnZhciBDdXJyZW5jeUFtb3VudCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0ZyYWN0aW9uKSB7XG4gIF9pbmhlcml0c0xvb3NlKEN1cnJlbmN5QW1vdW50LCBfRnJhY3Rpb24pO1xuICBmdW5jdGlvbiBDdXJyZW5jeUFtb3VudChjdXJyZW5jeSwgbnVtZXJhdG9yLCBkZW5vbWluYXRvcikge1xuICAgIHZhciBfdGhpcztcbiAgICBfdGhpcyA9IF9GcmFjdGlvbi5jYWxsKHRoaXMsIG51bWVyYXRvciwgZGVub21pbmF0b3IpIHx8IHRoaXM7XG4gICAgIUpTQkkubGVzc1RoYW5PckVxdWFsKF90aGlzLnF1b3RpZW50LCBNYXhVaW50MjU2KSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0FNT1VOVCcpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICBfdGhpcy5jdXJyZW5jeSA9IGN1cnJlbmN5O1xuICAgIF90aGlzLmRlY2ltYWxTY2FsZSA9IEpTQkkuZXhwb25lbnRpYXRlKEpTQkkuQmlnSW50KDEwKSwgSlNCSS5CaWdJbnQoY3VycmVuY3kuZGVjaW1hbHMpKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgLyoqXHJcbiAgICogUmV0dXJucyBhIG5ldyBjdXJyZW5jeSBhbW91bnQgaW5zdGFuY2UgZnJvbSB0aGUgdW5pdGxlc3MgYW1vdW50IG9mIHRva2VuLCBpLmUuIHRoZSByYXcgYW1vdW50XHJcbiAgICogQHBhcmFtIGN1cnJlbmN5IHRoZSBjdXJyZW5jeSBpbiB0aGUgYW1vdW50XHJcbiAgICogQHBhcmFtIHJhd0Ftb3VudCB0aGUgcmF3IHRva2VuIG9yIGV0aGVyIGFtb3VudFxyXG4gICAqL1xuICBDdXJyZW5jeUFtb3VudC5mcm9tUmF3QW1vdW50ID0gZnVuY3Rpb24gZnJvbVJhd0Ftb3VudChjdXJyZW5jeSwgcmF3QW1vdW50KSB7XG4gICAgcmV0dXJuIG5ldyBDdXJyZW5jeUFtb3VudChjdXJyZW5jeSwgcmF3QW1vdW50KTtcbiAgfVxuICAvKipcclxuICAgKiBDb25zdHJ1Y3QgYSBjdXJyZW5jeSBhbW91bnQgd2l0aCBhIGRlbm9taW5hdG9yIHRoYXQgaXMgbm90IGVxdWFsIHRvIDFcclxuICAgKiBAcGFyYW0gY3VycmVuY3kgdGhlIGN1cnJlbmN5XHJcbiAgICogQHBhcmFtIG51bWVyYXRvciB0aGUgbnVtZXJhdG9yIG9mIHRoZSBmcmFjdGlvbmFsIHRva2VuIGFtb3VudFxyXG4gICAqIEBwYXJhbSBkZW5vbWluYXRvciB0aGUgZGVub21pbmF0b3Igb2YgdGhlIGZyYWN0aW9uYWwgdG9rZW4gYW1vdW50XHJcbiAgICovO1xuICBDdXJyZW5jeUFtb3VudC5mcm9tRnJhY3Rpb25hbEFtb3VudCA9IGZ1bmN0aW9uIGZyb21GcmFjdGlvbmFsQW1vdW50KGN1cnJlbmN5LCBudW1lcmF0b3IsIGRlbm9taW5hdG9yKSB7XG4gICAgcmV0dXJuIG5ldyBDdXJyZW5jeUFtb3VudChjdXJyZW5jeSwgbnVtZXJhdG9yLCBkZW5vbWluYXRvcik7XG4gIH07XG4gIHZhciBfcHJvdG8gPSBDdXJyZW5jeUFtb3VudC5wcm90b3R5cGU7XG4gIF9wcm90by5hZGQgPSBmdW5jdGlvbiBhZGQob3RoZXIpIHtcbiAgICAhdGhpcy5jdXJyZW5jeS5lcXVhbHMob3RoZXIuY3VycmVuY3kpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnQ1VSUkVOQ1knKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgdmFyIGFkZGVkID0gX0ZyYWN0aW9uLnByb3RvdHlwZS5hZGQuY2FsbCh0aGlzLCBvdGhlcik7XG4gICAgcmV0dXJuIEN1cnJlbmN5QW1vdW50LmZyb21GcmFjdGlvbmFsQW1vdW50KHRoaXMuY3VycmVuY3ksIGFkZGVkLm51bWVyYXRvciwgYWRkZWQuZGVub21pbmF0b3IpO1xuICB9O1xuICBfcHJvdG8uc3VidHJhY3QgPSBmdW5jdGlvbiBzdWJ0cmFjdChvdGhlcikge1xuICAgICF0aGlzLmN1cnJlbmN5LmVxdWFscyhvdGhlci5jdXJyZW5jeSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdDVVJSRU5DWScpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICB2YXIgc3VidHJhY3RlZCA9IF9GcmFjdGlvbi5wcm90b3R5cGUuc3VidHJhY3QuY2FsbCh0aGlzLCBvdGhlcik7XG4gICAgcmV0dXJuIEN1cnJlbmN5QW1vdW50LmZyb21GcmFjdGlvbmFsQW1vdW50KHRoaXMuY3VycmVuY3ksIHN1YnRyYWN0ZWQubnVtZXJhdG9yLCBzdWJ0cmFjdGVkLmRlbm9taW5hdG9yKTtcbiAgfTtcbiAgX3Byb3RvLm11bHRpcGx5ID0gZnVuY3Rpb24gbXVsdGlwbHkob3RoZXIpIHtcbiAgICB2YXIgbXVsdGlwbGllZCA9IF9GcmFjdGlvbi5wcm90b3R5cGUubXVsdGlwbHkuY2FsbCh0aGlzLCBvdGhlcik7XG4gICAgcmV0dXJuIEN1cnJlbmN5QW1vdW50LmZyb21GcmFjdGlvbmFsQW1vdW50KHRoaXMuY3VycmVuY3ksIG11bHRpcGxpZWQubnVtZXJhdG9yLCBtdWx0aXBsaWVkLmRlbm9taW5hdG9yKTtcbiAgfTtcbiAgX3Byb3RvLmRpdmlkZSA9IGZ1bmN0aW9uIGRpdmlkZShvdGhlcikge1xuICAgIHZhciBkaXZpZGVkID0gX0ZyYWN0aW9uLnByb3RvdHlwZS5kaXZpZGUuY2FsbCh0aGlzLCBvdGhlcik7XG4gICAgcmV0dXJuIEN1cnJlbmN5QW1vdW50LmZyb21GcmFjdGlvbmFsQW1vdW50KHRoaXMuY3VycmVuY3ksIGRpdmlkZWQubnVtZXJhdG9yLCBkaXZpZGVkLmRlbm9taW5hdG9yKTtcbiAgfTtcbiAgX3Byb3RvLnRvU2lnbmlmaWNhbnQgPSBmdW5jdGlvbiB0b1NpZ25pZmljYW50KHNpZ25pZmljYW50RGlnaXRzLCBmb3JtYXQsIHJvdW5kaW5nKSB7XG4gICAgaWYgKHNpZ25pZmljYW50RGlnaXRzID09PSB2b2lkIDApIHtcbiAgICAgIHNpZ25pZmljYW50RGlnaXRzID0gNjtcbiAgICB9XG4gICAgaWYgKHJvdW5kaW5nID09PSB2b2lkIDApIHtcbiAgICAgIHJvdW5kaW5nID0gUm91bmRpbmcuUk9VTkRfRE9XTjtcbiAgICB9XG4gICAgcmV0dXJuIF9GcmFjdGlvbi5wcm90b3R5cGUuZGl2aWRlLmNhbGwodGhpcywgdGhpcy5kZWNpbWFsU2NhbGUpLnRvU2lnbmlmaWNhbnQoc2lnbmlmaWNhbnREaWdpdHMsIGZvcm1hdCwgcm91bmRpbmcpO1xuICB9O1xuICBfcHJvdG8udG9GaXhlZCA9IGZ1bmN0aW9uIHRvRml4ZWQoZGVjaW1hbFBsYWNlcywgZm9ybWF0LCByb3VuZGluZykge1xuICAgIGlmIChkZWNpbWFsUGxhY2VzID09PSB2b2lkIDApIHtcbiAgICAgIGRlY2ltYWxQbGFjZXMgPSB0aGlzLmN1cnJlbmN5LmRlY2ltYWxzO1xuICAgIH1cbiAgICBpZiAocm91bmRpbmcgPT09IHZvaWQgMCkge1xuICAgICAgcm91bmRpbmcgPSBSb3VuZGluZy5ST1VORF9ET1dOO1xuICAgIH1cbiAgICAhKGRlY2ltYWxQbGFjZXMgPD0gdGhpcy5jdXJyZW5jeS5kZWNpbWFscykgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdERUNJTUFMUycpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICByZXR1cm4gX0ZyYWN0aW9uLnByb3RvdHlwZS5kaXZpZGUuY2FsbCh0aGlzLCB0aGlzLmRlY2ltYWxTY2FsZSkudG9GaXhlZChkZWNpbWFsUGxhY2VzLCBmb3JtYXQsIHJvdW5kaW5nKTtcbiAgfTtcbiAgX3Byb3RvLnRvRXhhY3QgPSBmdW5jdGlvbiB0b0V4YWN0KGZvcm1hdCkge1xuICAgIGlmIChmb3JtYXQgPT09IHZvaWQgMCkge1xuICAgICAgZm9ybWF0ID0ge1xuICAgICAgICBncm91cFNlcGFyYXRvcjogJydcbiAgICAgIH07XG4gICAgfVxuICAgIEJpZyQxLkRQID0gdGhpcy5jdXJyZW5jeS5kZWNpbWFscztcbiAgICByZXR1cm4gbmV3IEJpZyQxKHRoaXMucXVvdGllbnQudG9TdHJpbmcoKSkuZGl2KHRoaXMuZGVjaW1hbFNjYWxlLnRvU3RyaW5nKCkpLnRvRm9ybWF0KGZvcm1hdCk7XG4gIH07XG4gIF9jcmVhdGVDbGFzcyhDdXJyZW5jeUFtb3VudCwgW3tcbiAgICBrZXk6IFwid3JhcHBlZFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgaWYgKHRoaXMuY3VycmVuY3kuaXNUb2tlbikgcmV0dXJuIHRoaXM7XG4gICAgICByZXR1cm4gQ3VycmVuY3lBbW91bnQuZnJvbUZyYWN0aW9uYWxBbW91bnQodGhpcy5jdXJyZW5jeS53cmFwcGVkLCB0aGlzLm51bWVyYXRvciwgdGhpcy5kZW5vbWluYXRvcik7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBDdXJyZW5jeUFtb3VudDtcbn0oRnJhY3Rpb24pO1xuXG52YXIgT05FX0hVTkRSRUQgPSAvKiNfX1BVUkVfXyovbmV3IEZyYWN0aW9uKCAvKiNfX1BVUkVfXyovSlNCSS5CaWdJbnQoMTAwKSk7XG4vKipcclxuICogQ29udmVydHMgYSBmcmFjdGlvbiB0byBhIHBlcmNlbnRcclxuICogQHBhcmFtIGZyYWN0aW9uIHRoZSBmcmFjdGlvbiB0byBjb252ZXJ0XHJcbiAqL1xuZnVuY3Rpb24gdG9QZXJjZW50KGZyYWN0aW9uKSB7XG4gIHJldHVybiBuZXcgUGVyY2VudChmcmFjdGlvbi5udW1lcmF0b3IsIGZyYWN0aW9uLmRlbm9taW5hdG9yKTtcbn1cbnZhciBQZXJjZW50ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfRnJhY3Rpb24pIHtcbiAgX2luaGVyaXRzTG9vc2UoUGVyY2VudCwgX0ZyYWN0aW9uKTtcbiAgZnVuY3Rpb24gUGVyY2VudCgpIHtcbiAgICB2YXIgX3RoaXM7XG4gICAgX3RoaXMgPSBfRnJhY3Rpb24uYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIC8qKlxyXG4gICAgICogVGhpcyBib29sZWFuIHByZXZlbnRzIGEgZnJhY3Rpb24gZnJvbSBiZWluZyBpbnRlcnByZXRlZCBhcyBhIFBlcmNlbnRcclxuICAgICAqL1xuICAgIF90aGlzLmlzUGVyY2VudCA9IHRydWU7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG4gIHZhciBfcHJvdG8gPSBQZXJjZW50LnByb3RvdHlwZTtcbiAgX3Byb3RvLmFkZCA9IGZ1bmN0aW9uIGFkZChvdGhlcikge1xuICAgIHJldHVybiB0b1BlcmNlbnQoX0ZyYWN0aW9uLnByb3RvdHlwZS5hZGQuY2FsbCh0aGlzLCBvdGhlcikpO1xuICB9O1xuICBfcHJvdG8uc3VidHJhY3QgPSBmdW5jdGlvbiBzdWJ0cmFjdChvdGhlcikge1xuICAgIHJldHVybiB0b1BlcmNlbnQoX0ZyYWN0aW9uLnByb3RvdHlwZS5zdWJ0cmFjdC5jYWxsKHRoaXMsIG90aGVyKSk7XG4gIH07XG4gIF9wcm90by5tdWx0aXBseSA9IGZ1bmN0aW9uIG11bHRpcGx5KG90aGVyKSB7XG4gICAgcmV0dXJuIHRvUGVyY2VudChfRnJhY3Rpb24ucHJvdG90eXBlLm11bHRpcGx5LmNhbGwodGhpcywgb3RoZXIpKTtcbiAgfTtcbiAgX3Byb3RvLmRpdmlkZSA9IGZ1bmN0aW9uIGRpdmlkZShvdGhlcikge1xuICAgIHJldHVybiB0b1BlcmNlbnQoX0ZyYWN0aW9uLnByb3RvdHlwZS5kaXZpZGUuY2FsbCh0aGlzLCBvdGhlcikpO1xuICB9O1xuICBfcHJvdG8udG9TaWduaWZpY2FudCA9IGZ1bmN0aW9uIHRvU2lnbmlmaWNhbnQoc2lnbmlmaWNhbnREaWdpdHMsIGZvcm1hdCwgcm91bmRpbmcpIHtcbiAgICBpZiAoc2lnbmlmaWNhbnREaWdpdHMgPT09IHZvaWQgMCkge1xuICAgICAgc2lnbmlmaWNhbnREaWdpdHMgPSA1O1xuICAgIH1cbiAgICByZXR1cm4gX0ZyYWN0aW9uLnByb3RvdHlwZS5tdWx0aXBseS5jYWxsKHRoaXMsIE9ORV9IVU5EUkVEKS50b1NpZ25pZmljYW50KHNpZ25pZmljYW50RGlnaXRzLCBmb3JtYXQsIHJvdW5kaW5nKTtcbiAgfTtcbiAgX3Byb3RvLnRvRml4ZWQgPSBmdW5jdGlvbiB0b0ZpeGVkKGRlY2ltYWxQbGFjZXMsIGZvcm1hdCwgcm91bmRpbmcpIHtcbiAgICBpZiAoZGVjaW1hbFBsYWNlcyA9PT0gdm9pZCAwKSB7XG4gICAgICBkZWNpbWFsUGxhY2VzID0gMjtcbiAgICB9XG4gICAgcmV0dXJuIF9GcmFjdGlvbi5wcm90b3R5cGUubXVsdGlwbHkuY2FsbCh0aGlzLCBPTkVfSFVORFJFRCkudG9GaXhlZChkZWNpbWFsUGxhY2VzLCBmb3JtYXQsIHJvdW5kaW5nKTtcbiAgfTtcbiAgcmV0dXJuIFBlcmNlbnQ7XG59KEZyYWN0aW9uKTtcblxudmFyIFByaWNlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfRnJhY3Rpb24pIHtcbiAgX2luaGVyaXRzTG9vc2UoUHJpY2UsIF9GcmFjdGlvbik7XG4gIC8qKlxyXG4gICAqIENvbnN0cnVjdCBhIHByaWNlLCBlaXRoZXIgd2l0aCB0aGUgYmFzZSBhbmQgcXVvdGUgY3VycmVuY3kgYW1vdW50LCBvciB0aGVcclxuICAgKiBAcGFyYW0gYXJnc1xyXG4gICAqL1xuICBmdW5jdGlvbiBQcmljZSgpIHtcbiAgICB2YXIgX3RoaXM7XG4gICAgdmFyIGJhc2VDdXJyZW5jeSwgcXVvdGVDdXJyZW5jeSwgZGVub21pbmF0b3IsIG51bWVyYXRvcjtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gNCkge1xuICAgICAgYmFzZUN1cnJlbmN5ID0gYXJnc1swXTtcbiAgICAgIHF1b3RlQ3VycmVuY3kgPSBhcmdzWzFdO1xuICAgICAgZGVub21pbmF0b3IgPSBhcmdzWzJdO1xuICAgICAgbnVtZXJhdG9yID0gYXJnc1szXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHJlc3VsdCA9IGFyZ3NbMF0ucXVvdGVBbW91bnQuZGl2aWRlKGFyZ3NbMF0uYmFzZUFtb3VudCk7XG4gICAgICB2YXIgX3JlZiA9IFthcmdzWzBdLmJhc2VBbW91bnQuY3VycmVuY3ksIGFyZ3NbMF0ucXVvdGVBbW91bnQuY3VycmVuY3ksIHJlc3VsdC5kZW5vbWluYXRvciwgcmVzdWx0Lm51bWVyYXRvcl07XG4gICAgICBiYXNlQ3VycmVuY3kgPSBfcmVmWzBdO1xuICAgICAgcXVvdGVDdXJyZW5jeSA9IF9yZWZbMV07XG4gICAgICBkZW5vbWluYXRvciA9IF9yZWZbMl07XG4gICAgICBudW1lcmF0b3IgPSBfcmVmWzNdO1xuICAgIH1cbiAgICBfdGhpcyA9IF9GcmFjdGlvbi5jYWxsKHRoaXMsIG51bWVyYXRvciwgZGVub21pbmF0b3IpIHx8IHRoaXM7XG4gICAgX3RoaXMuYmFzZUN1cnJlbmN5ID0gYmFzZUN1cnJlbmN5O1xuICAgIF90aGlzLnF1b3RlQ3VycmVuY3kgPSBxdW90ZUN1cnJlbmN5O1xuICAgIF90aGlzLnNjYWxhciA9IG5ldyBGcmFjdGlvbihKU0JJLmV4cG9uZW50aWF0ZShKU0JJLkJpZ0ludCgxMCksIEpTQkkuQmlnSW50KGJhc2VDdXJyZW5jeS5kZWNpbWFscykpLCBKU0JJLmV4cG9uZW50aWF0ZShKU0JJLkJpZ0ludCgxMCksIEpTQkkuQmlnSW50KHF1b3RlQ3VycmVuY3kuZGVjaW1hbHMpKSk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG4gIC8qKlxyXG4gICAqIEZsaXAgdGhlIHByaWNlLCBzd2l0Y2hpbmcgdGhlIGJhc2UgYW5kIHF1b3RlIGN1cnJlbmN5XHJcbiAgICovXG4gIHZhciBfcHJvdG8gPSBQcmljZS5wcm90b3R5cGU7XG4gIF9wcm90by5pbnZlcnQgPSBmdW5jdGlvbiBpbnZlcnQoKSB7XG4gICAgcmV0dXJuIG5ldyBQcmljZSh0aGlzLnF1b3RlQ3VycmVuY3ksIHRoaXMuYmFzZUN1cnJlbmN5LCB0aGlzLm51bWVyYXRvciwgdGhpcy5kZW5vbWluYXRvcik7XG4gIH1cbiAgLyoqXHJcbiAgICogTXVsdGlwbHkgdGhlIHByaWNlIGJ5IGFub3RoZXIgcHJpY2UsIHJldHVybmluZyBhIG5ldyBwcmljZS4gVGhlIG90aGVyIHByaWNlIG11c3QgaGF2ZSB0aGUgc2FtZSBiYXNlIGN1cnJlbmN5IGFzIHRoaXMgcHJpY2UncyBxdW90ZSBjdXJyZW5jeVxyXG4gICAqIEBwYXJhbSBvdGhlciB0aGUgb3RoZXIgcHJpY2VcclxuICAgKi87XG4gIF9wcm90by5tdWx0aXBseSA9IGZ1bmN0aW9uIG11bHRpcGx5KG90aGVyKSB7XG4gICAgIXRoaXMucXVvdGVDdXJyZW5jeS5lcXVhbHMob3RoZXIuYmFzZUN1cnJlbmN5KSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ1RPS0VOJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIHZhciBmcmFjdGlvbiA9IF9GcmFjdGlvbi5wcm90b3R5cGUubXVsdGlwbHkuY2FsbCh0aGlzLCBvdGhlcik7XG4gICAgcmV0dXJuIG5ldyBQcmljZSh0aGlzLmJhc2VDdXJyZW5jeSwgb3RoZXIucXVvdGVDdXJyZW5jeSwgZnJhY3Rpb24uZGVub21pbmF0b3IsIGZyYWN0aW9uLm51bWVyYXRvcik7XG4gIH1cbiAgLyoqXHJcbiAgICogUmV0dXJuIHRoZSBhbW91bnQgb2YgcXVvdGUgY3VycmVuY3kgY29ycmVzcG9uZGluZyB0byBhIGdpdmVuIGFtb3VudCBvZiB0aGUgYmFzZSBjdXJyZW5jeVxyXG4gICAqIEBwYXJhbSBjdXJyZW5jeUFtb3VudCB0aGUgYW1vdW50IG9mIGJhc2UgY3VycmVuY3kgdG8gcXVvdGUgYWdhaW5zdCB0aGUgcHJpY2VcclxuICAgKi87XG4gIF9wcm90by5xdW90ZSA9IGZ1bmN0aW9uIHF1b3RlKGN1cnJlbmN5QW1vdW50KSB7XG4gICAgIWN1cnJlbmN5QW1vdW50LmN1cnJlbmN5LmVxdWFscyh0aGlzLmJhc2VDdXJyZW5jeSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdUT0tFTicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICB2YXIgcmVzdWx0ID0gX0ZyYWN0aW9uLnByb3RvdHlwZS5tdWx0aXBseS5jYWxsKHRoaXMsIGN1cnJlbmN5QW1vdW50KTtcbiAgICByZXR1cm4gQ3VycmVuY3lBbW91bnQuZnJvbUZyYWN0aW9uYWxBbW91bnQodGhpcy5xdW90ZUN1cnJlbmN5LCByZXN1bHQubnVtZXJhdG9yLCByZXN1bHQuZGVub21pbmF0b3IpO1xuICB9XG4gIC8qKlxyXG4gICAqIEdldCB0aGUgdmFsdWUgc2NhbGVkIGJ5IGRlY2ltYWxzIGZvciBmb3JtYXR0aW5nXHJcbiAgICogQHByaXZhdGVcclxuICAgKi87XG4gIF9wcm90by50b1NpZ25pZmljYW50ID0gZnVuY3Rpb24gdG9TaWduaWZpY2FudChzaWduaWZpY2FudERpZ2l0cywgZm9ybWF0LCByb3VuZGluZykge1xuICAgIGlmIChzaWduaWZpY2FudERpZ2l0cyA9PT0gdm9pZCAwKSB7XG4gICAgICBzaWduaWZpY2FudERpZ2l0cyA9IDY7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmFkanVzdGVkRm9yRGVjaW1hbHMudG9TaWduaWZpY2FudChzaWduaWZpY2FudERpZ2l0cywgZm9ybWF0LCByb3VuZGluZyk7XG4gIH07XG4gIF9wcm90by50b0ZpeGVkID0gZnVuY3Rpb24gdG9GaXhlZChkZWNpbWFsUGxhY2VzLCBmb3JtYXQsIHJvdW5kaW5nKSB7XG4gICAgaWYgKGRlY2ltYWxQbGFjZXMgPT09IHZvaWQgMCkge1xuICAgICAgZGVjaW1hbFBsYWNlcyA9IDQ7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmFkanVzdGVkRm9yRGVjaW1hbHMudG9GaXhlZChkZWNpbWFsUGxhY2VzLCBmb3JtYXQsIHJvdW5kaW5nKTtcbiAgfTtcbiAgX2NyZWF0ZUNsYXNzKFByaWNlLCBbe1xuICAgIGtleTogXCJhZGp1c3RlZEZvckRlY2ltYWxzXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gX0ZyYWN0aW9uLnByb3RvdHlwZS5tdWx0aXBseS5jYWxsKHRoaXMsIHRoaXMuc2NhbGFyKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIFByaWNlO1xufShGcmFjdGlvbik7XG5cbi8qKlxyXG4gKiBBIGN1cnJlbmN5IGlzIGFueSBmdW5naWJsZSBmaW5hbmNpYWwgaW5zdHJ1bWVudCwgaW5jbHVkaW5nIEV0aGVyLCBhbGwgRVJDMjAgdG9rZW5zLCBhbmQgb3RoZXIgY2hhaW4tbmF0aXZlIGN1cnJlbmNpZXNcclxuICovXG52YXIgQmFzZUN1cnJlbmN5ID1cbi8qKlxyXG4gKiBDb25zdHJ1Y3RzIGFuIGluc3RhbmNlIG9mIHRoZSBiYXNlIGNsYXNzIGBCYXNlQ3VycmVuY3lgLlxyXG4gKiBAcGFyYW0gY2hhaW5JZCB0aGUgY2hhaW4gSUQgb24gd2hpY2ggdGhpcyBjdXJyZW5jeSByZXNpZGVzXHJcbiAqIEBwYXJhbSBkZWNpbWFscyBkZWNpbWFscyBvZiB0aGUgY3VycmVuY3lcclxuICogQHBhcmFtIHN5bWJvbCBzeW1ib2wgb2YgdGhlIGN1cnJlbmN5XHJcbiAqIEBwYXJhbSBuYW1lIG9mIHRoZSBjdXJyZW5jeVxyXG4gKi9cbmZ1bmN0aW9uIEJhc2VDdXJyZW5jeShjaGFpbklkLCBkZWNpbWFscywgc3ltYm9sLCBuYW1lKSB7XG4gICFOdW1iZXIuaXNTYWZlSW50ZWdlcihjaGFpbklkKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0NIQUlOX0lEJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAhKGRlY2ltYWxzID49IDAgJiYgZGVjaW1hbHMgPCAyNTUgJiYgTnVtYmVyLmlzSW50ZWdlcihkZWNpbWFscykpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnREVDSU1BTFMnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gIHRoaXMuY2hhaW5JZCA9IGNoYWluSWQ7XG4gIHRoaXMuZGVjaW1hbHMgPSBkZWNpbWFscztcbiAgdGhpcy5zeW1ib2wgPSBzeW1ib2w7XG4gIHRoaXMubmFtZSA9IG5hbWU7XG59O1xuXG4vKipcclxuICogUmVwcmVzZW50cyB0aGUgbmF0aXZlIGN1cnJlbmN5IG9mIHRoZSBjaGFpbiBvbiB3aGljaCBpdCByZXNpZGVzLCBlLmcuXHJcbiAqL1xudmFyIE5hdGl2ZUN1cnJlbmN5ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQmFzZUN1cnJlbmN5KSB7XG4gIF9pbmhlcml0c0xvb3NlKE5hdGl2ZUN1cnJlbmN5LCBfQmFzZUN1cnJlbmN5KTtcbiAgZnVuY3Rpb24gTmF0aXZlQ3VycmVuY3koKSB7XG4gICAgdmFyIF90aGlzO1xuICAgIF90aGlzID0gX0Jhc2VDdXJyZW5jeS5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgX3RoaXMuaXNOYXRpdmUgPSB0cnVlO1xuICAgIF90aGlzLmlzVG9rZW4gPSBmYWxzZTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgcmV0dXJuIE5hdGl2ZUN1cnJlbmN5O1xufShCYXNlQ3VycmVuY3kpO1xuXG4vKipcclxuICogVmFsaWRhdGVzIGFuIGFkZHJlc3MgYW5kIHJldHVybnMgdGhlIHBhcnNlZCAoY2hlY2tzdW1tZWQpIHZlcnNpb24gb2YgdGhhdCBhZGRyZXNzXHJcbiAqIEBwYXJhbSBhZGRyZXNzIHRoZSB1bmNoZWNrc3VtbWVkIGhleCBhZGRyZXNzXHJcbiAqL1xuZnVuY3Rpb24gdmFsaWRhdGVBbmRQYXJzZUFkZHJlc3MoYWRkcmVzcykge1xuICB0cnkge1xuICAgIHJldHVybiBnZXRBZGRyZXNzKGFkZHJlc3MpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IG5ldyBFcnJvcihhZGRyZXNzICsgXCIgaXMgbm90IGEgdmFsaWQgYWRkcmVzcy5cIik7XG4gIH1cbn1cbi8vIENoZWNrcyBhIHN0cmluZyBzdGFydHMgd2l0aCAweCwgaXMgNDIgY2hhcmFjdGVycyBsb25nIGFuZCBjb250YWlucyBvbmx5IGhleCBjaGFyYWN0ZXJzIGFmdGVyIDB4XG52YXIgc3RhcnRzV2l0aDB4TGVuNDJIZXhSZWdleCA9IC9eMHhbMC05YS1mQS1GXXs0MH0kLztcbi8qKlxyXG4gKiBDaGVja3MgaWYgYW4gYWRkcmVzcyBpcyB2YWxpZCBieSBjaGVja2luZyAweCBwcmVmaXgsIGxlbmd0aCA9PT0gNDIgYW5kIGhleCBlbmNvZGluZy5cclxuICogQHBhcmFtIGFkZHJlc3MgdGhlIHVuY2hlY2tzdW1tZWQgaGV4IGFkZHJlc3NcclxuICovXG5mdW5jdGlvbiBjaGVja1ZhbGlkQWRkcmVzcyhhZGRyZXNzKSB7XG4gIGlmIChzdGFydHNXaXRoMHhMZW40MkhleFJlZ2V4LnRlc3QoYWRkcmVzcykpIHtcbiAgICByZXR1cm4gYWRkcmVzcztcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoYWRkcmVzcyArIFwiIGlzIG5vdCBhIHZhbGlkIGFkZHJlc3MuXCIpO1xufVxuXG4vKipcclxuICogUmVwcmVzZW50cyBhbiBFUkMyMCB0b2tlbiB3aXRoIGEgdW5pcXVlIGFkZHJlc3MgYW5kIHNvbWUgbWV0YWRhdGEuXHJcbiAqL1xudmFyIFRva2VuID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQmFzZUN1cnJlbmN5KSB7XG4gIF9pbmhlcml0c0xvb3NlKFRva2VuLCBfQmFzZUN1cnJlbmN5KTtcbiAgLyoqXHJcbiAgICpcclxuICAgKiBAcGFyYW0gY2hhaW5JZCB7QGxpbmsgQmFzZUN1cnJlbmN5I2NoYWluSWR9XHJcbiAgICogQHBhcmFtIGFkZHJlc3MgVGhlIGNvbnRyYWN0IGFkZHJlc3Mgb24gdGhlIGNoYWluIG9uIHdoaWNoIHRoaXMgdG9rZW4gbGl2ZXNcclxuICAgKiBAcGFyYW0gZGVjaW1hbHMge0BsaW5rIEJhc2VDdXJyZW5jeSNkZWNpbWFsc31cclxuICAgKiBAcGFyYW0gc3ltYm9sIHtAbGluayBCYXNlQ3VycmVuY3kjc3ltYm9sfVxyXG4gICAqIEBwYXJhbSBuYW1lIHtAbGluayBCYXNlQ3VycmVuY3kjbmFtZX1cclxuICAgKiBAcGFyYW0gYnlwYXNzQ2hlY2tzdW0gSWYgdHJ1ZSBpdCBvbmx5IGNoZWNrcyBmb3IgbGVuZ3RoID09PSA0Miwgc3RhcnRzV2l0aCAweCBhbmQgY29udGFpbnMgb25seSBoZXggY2hhcmFjdGVyc1xyXG4gICAqIEBwYXJhbSBidXlGZWVCcHMgQnV5IGZlZSB0YXggZm9yIEZPVCB0b2tlbnMsIGluIGJhc2lzIHBvaW50c1xyXG4gICAqIEBwYXJhbSBzZWxsRmVlQnBzIFNlbGwgZmVlIHRheCBmb3IgRk9UIHRva2VucywgaW4gYmFzaXMgcG9pbnRzXHJcbiAgICovXG4gIGZ1bmN0aW9uIFRva2VuKGNoYWluSWQsIGFkZHJlc3MsIGRlY2ltYWxzLCBzeW1ib2wsIG5hbWUsIGJ5cGFzc0NoZWNrc3VtLCBidXlGZWVCcHMsIHNlbGxGZWVCcHMpIHtcbiAgICB2YXIgX3RoaXM7XG4gICAgX3RoaXMgPSBfQmFzZUN1cnJlbmN5LmNhbGwodGhpcywgY2hhaW5JZCwgZGVjaW1hbHMsIHN5bWJvbCwgbmFtZSkgfHwgdGhpcztcbiAgICBfdGhpcy5pc05hdGl2ZSA9IGZhbHNlO1xuICAgIF90aGlzLmlzVG9rZW4gPSB0cnVlO1xuICAgIGlmIChieXBhc3NDaGVja3N1bSkge1xuICAgICAgX3RoaXMuYWRkcmVzcyA9IGNoZWNrVmFsaWRBZGRyZXNzKGFkZHJlc3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICBfdGhpcy5hZGRyZXNzID0gdmFsaWRhdGVBbmRQYXJzZUFkZHJlc3MoYWRkcmVzcyk7XG4gICAgfVxuICAgIGlmIChidXlGZWVCcHMpIHtcbiAgICAgICFidXlGZWVCcHMuZ3RlKEJpZ051bWJlci5mcm9tKDApKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ05PTi1ORUdBVElWRSBGT1QgRkVFUycpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICB9XG4gICAgaWYgKHNlbGxGZWVCcHMpIHtcbiAgICAgICFzZWxsRmVlQnBzLmd0ZShCaWdOdW1iZXIuZnJvbSgwKSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdOT04tTkVHQVRJVkUgRk9UIEZFRVMnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgfVxuICAgIF90aGlzLmJ1eUZlZUJwcyA9IGJ1eUZlZUJwcztcbiAgICBfdGhpcy5zZWxsRmVlQnBzID0gc2VsbEZlZUJwcztcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgLyoqXHJcbiAgICogUmV0dXJucyB0cnVlIGlmIHRoZSB0d28gdG9rZW5zIGFyZSBlcXVpdmFsZW50LCBpLmUuIGhhdmUgdGhlIHNhbWUgY2hhaW5JZCBhbmQgYWRkcmVzcy5cclxuICAgKiBAcGFyYW0gb3RoZXIgb3RoZXIgdG9rZW4gdG8gY29tcGFyZVxyXG4gICAqL1xuICB2YXIgX3Byb3RvID0gVG9rZW4ucHJvdG90eXBlO1xuICBfcHJvdG8uZXF1YWxzID0gZnVuY3Rpb24gZXF1YWxzKG90aGVyKSB7XG4gICAgcmV0dXJuIG90aGVyLmlzVG9rZW4gJiYgdGhpcy5jaGFpbklkID09PSBvdGhlci5jaGFpbklkICYmIHRoaXMuYWRkcmVzcy50b0xvd2VyQ2FzZSgpID09PSBvdGhlci5hZGRyZXNzLnRvTG93ZXJDYXNlKCk7XG4gIH1cbiAgLyoqXHJcbiAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBhZGRyZXNzIG9mIHRoaXMgdG9rZW4gc29ydHMgYmVmb3JlIHRoZSBhZGRyZXNzIG9mIHRoZSBvdGhlciB0b2tlblxyXG4gICAqIEBwYXJhbSBvdGhlciBvdGhlciB0b2tlbiB0byBjb21wYXJlXHJcbiAgICogQHRocm93cyBpZiB0aGUgdG9rZW5zIGhhdmUgdGhlIHNhbWUgYWRkcmVzc1xyXG4gICAqIEB0aHJvd3MgaWYgdGhlIHRva2VucyBhcmUgb24gZGlmZmVyZW50IGNoYWluc1xyXG4gICAqLztcbiAgX3Byb3RvLnNvcnRzQmVmb3JlID0gZnVuY3Rpb24gc29ydHNCZWZvcmUob3RoZXIpIHtcbiAgICAhKHRoaXMuY2hhaW5JZCA9PT0gb3RoZXIuY2hhaW5JZCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdDSEFJTl9JRFMnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgISh0aGlzLmFkZHJlc3MudG9Mb3dlckNhc2UoKSAhPT0gb3RoZXIuYWRkcmVzcy50b0xvd2VyQ2FzZSgpKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0FERFJFU1NFUycpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICByZXR1cm4gdGhpcy5hZGRyZXNzLnRvTG93ZXJDYXNlKCkgPCBvdGhlci5hZGRyZXNzLnRvTG93ZXJDYXNlKCk7XG4gIH1cbiAgLyoqXHJcbiAgICogUmV0dXJuIHRoaXMgdG9rZW4sIHdoaWNoIGRvZXMgbm90IG5lZWQgdG8gYmUgd3JhcHBlZFxyXG4gICAqLztcbiAgX2NyZWF0ZUNsYXNzKFRva2VuLCBbe1xuICAgIGtleTogXCJ3cmFwcGVkXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIFRva2VuO1xufShCYXNlQ3VycmVuY3kpO1xuXG4vKipcclxuICogS25vd24gV0VUSDkgaW1wbGVtZW50YXRpb24gYWRkcmVzc2VzLCB1c2VkIGluIG91ciBpbXBsZW1lbnRhdGlvbiBvZiBFdGhlciN3cmFwcGVkXHJcbiAqL1xudmFyIFdFVEg5ID0ge1xuICAxOiAvKiNfX1BVUkVfXyovbmV3IFRva2VuKDEsICcweEMwMmFhQTM5YjIyM0ZFOEQwQTBlNUM0RjI3ZUFEOTA4M0M3NTZDYzInLCAxOCwgJ1dFVEgnLCAnV3JhcHBlZCBFdGhlcicpLFxuICAxMTE1NTExMTogLyojX19QVVJFX18qL25ldyBUb2tlbigxMTE1NTExMSwgJzB4ZkZmOTk3Njc4MmQ0NkNDMDU2MzBEMWY2ZUJBYjE4YjIzMjRkNkIxNCcsIDE4LCAnV0VUSCcsICdXcmFwcGVkIEV0aGVyJyksXG4gIDM6IC8qI19fUFVSRV9fKi9uZXcgVG9rZW4oMywgJzB4Yzc3ODQxN0UwNjMxNDExMzlGY2UwMTA5ODI3ODAxNDBBYTBjRDVBYicsIDE4LCAnV0VUSCcsICdXcmFwcGVkIEV0aGVyJyksXG4gIDQ6IC8qI19fUFVSRV9fKi9uZXcgVG9rZW4oNCwgJzB4Yzc3ODQxN0UwNjMxNDExMzlGY2UwMTA5ODI3ODAxNDBBYTBjRDVBYicsIDE4LCAnV0VUSCcsICdXcmFwcGVkIEV0aGVyJyksXG4gIDU6IC8qI19fUFVSRV9fKi9uZXcgVG9rZW4oNSwgJzB4QjRGQkYyNzExNDNGNEZCZjdCOTFBNWRlZDMxODA1ZTQyYjIyMDhkNicsIDE4LCAnV0VUSCcsICdXcmFwcGVkIEV0aGVyJyksXG4gIDQyOiAvKiNfX1BVUkVfXyovbmV3IFRva2VuKDQyLCAnMHhkMEExRTM1OTgxMTMyMmQ5Nzk5MUUwM2Y4NjNhMEMzMEMyY0YwMjlDJywgMTgsICdXRVRIJywgJ1dyYXBwZWQgRXRoZXInKSxcbiAgMTA6IC8qI19fUFVSRV9fKi9uZXcgVG9rZW4oMTAsICcweDQyMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDYnLCAxOCwgJ1dFVEgnLCAnV3JhcHBlZCBFdGhlcicpLFxuICA2OTogLyojX19QVVJFX18qL25ldyBUb2tlbig2OSwgJzB4NDIwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwNicsIDE4LCAnV0VUSCcsICdXcmFwcGVkIEV0aGVyJyksXG4gIDExMTU1NDIwOiAvKiNfX1BVUkVfXyovbmV3IFRva2VuKDExMTU1NDIwLCAnMHg0MjAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA2JywgMTgsICdXRVRIJywgJ1dyYXBwZWQgRXRoZXInKSxcbiAgNDIxNjE6IC8qI19fUFVSRV9fKi9uZXcgVG9rZW4oNDIxNjEsICcweDgyYUY0OTQ0N0Q4YTA3ZTNiZDk1QkQwZDU2ZjM1MjQxNTIzZkJhYjEnLCAxOCwgJ1dFVEgnLCAnV3JhcHBlZCBFdGhlcicpLFxuICA0MjE2MTE6IC8qI19fUFVSRV9fKi9uZXcgVG9rZW4oNDIxNjExLCAnMHhCNDdlNkE1ZjhiMzNiM0YxNzYwM0M4M2EwNTM1QTlkY0Q3RTMyNjgxJywgMTgsICdXRVRIJywgJ1dyYXBwZWQgRXRoZXInKSxcbiAgNDIxNjE0OiAvKiNfX1BVUkVfXyovbmV3IFRva2VuKDQyMTYxNCwgJzB4OTgwQjYyRGE4M2VGZjNENDU3NkM2NDc5OTNiMGMxRDdmYWYxN2M3MycsIDE4LCAnV0VUSCcsICdXcmFwcGVkIEV0aGVyJyksXG4gIDg0NTM6IC8qI19fUFVSRV9fKi9uZXcgVG9rZW4oODQ1MywgJzB4NDIwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwNicsIDE4LCAnV0VUSCcsICdXcmFwcGVkIEV0aGVyJyksXG4gIDU2OiAvKiNfX1BVUkVfXyovbmV3IFRva2VuKDU2LCAnMHhiYjRDZEI5Q0JkMzZCMDFiRDFjQmFFQkYyRGUwOGQ5MTczYmMwOTVjJywgMTgsICdXQk5CJywgJ1dyYXBwZWQgQk5CJyksXG4gIDEzNzogLyojX19QVVJFX18qL25ldyBUb2tlbigxMzcsICcweDBkNTAwQjFkOEU4ZUYzMUUyMUM5OWQxRGI5QTY0NDRkM0FEZjEyNzAnLCAxOCwgJ1dNQVRJQycsICdXcmFwcGVkIE1BVElDJyksXG4gIDQzMTE0OiAvKiNfX1BVUkVfXyovbmV3IFRva2VuKDQzMTE0LCAnMHhCMzFmNjZBQTNDMWU3ODUzNjNGMDg3NUExQjc0RTI3Yjg1RkQ2NmM3JywgMTgsICdXQVZBWCcsICdXcmFwcGVkIEFWQVgnKSxcbiAgNzc3Nzc3NzogLyojX19QVVJFX18qL25ldyBUb2tlbig3Nzc3Nzc3LCAnMHg0MjAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA2JywgMTgsICdXRVRIJywgJ1dyYXBwZWQgRXRoZXInKSxcbiAgODE0NTc6IC8qI19fUFVSRV9fKi9uZXcgVG9rZW4oODE0NTcsICcweDQzMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDQnLCAxOCwgJ1dFVEgnLCAnV3JhcHBlZCBFdGhlcicpLFxuICAzMjQ6IC8qI19fUFVSRV9fKi9uZXcgVG9rZW4oMzI0LCAnMHg1QUVhNTc3NTk1OWZCQzI1NTdDYzg3ODliQzFiZjkwQTIzOUQ5YTkxJywgMTgsICdXRVRIJywgJ1dyYXBwZWQgRXRoZXInKSxcbiAgNDgwOiAvKiNfX1BVUkVfXyovbmV3IFRva2VuKDQ4MCwgJzB4NDIwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwNicsIDE4LCAnV0VUSCcsICdXcmFwcGVkIEV0aGVyJyksXG4gIDEzMDE6IC8qI19fUFVSRV9fKi9uZXcgVG9rZW4oMTMwMSwgJzB4NDIwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwNicsIDE4LCAnV0VUSCcsICdXcmFwcGVkIEV0aGVyJylcbn07XG5cbi8qKlxyXG4gKiBFdGhlciBpcyB0aGUgbWFpbiB1c2FnZSBvZiBhICduYXRpdmUnIGN1cnJlbmN5LCBpLmUuIGZvciBFdGhlcmV1bSBtYWlubmV0IGFuZCBhbGwgdGVzdG5ldHNcclxuICovXG52YXIgRXRoZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9OYXRpdmVDdXJyZW5jeSkge1xuICBfaW5oZXJpdHNMb29zZShFdGhlciwgX05hdGl2ZUN1cnJlbmN5KTtcbiAgZnVuY3Rpb24gRXRoZXIoY2hhaW5JZCkge1xuICAgIHJldHVybiBfTmF0aXZlQ3VycmVuY3kuY2FsbCh0aGlzLCBjaGFpbklkLCAxOCwgJ0VUSCcsICdFdGhlcicpIHx8IHRoaXM7XG4gIH1cbiAgRXRoZXIub25DaGFpbiA9IGZ1bmN0aW9uIG9uQ2hhaW4oY2hhaW5JZCkge1xuICAgIHZhciBfdGhpcyRfZXRoZXJDYWNoZSRjaGE7XG4gICAgcmV0dXJuIChfdGhpcyRfZXRoZXJDYWNoZSRjaGEgPSB0aGlzLl9ldGhlckNhY2hlW2NoYWluSWRdKSAhPSBudWxsID8gX3RoaXMkX2V0aGVyQ2FjaGUkY2hhIDogdGhpcy5fZXRoZXJDYWNoZVtjaGFpbklkXSA9IG5ldyBFdGhlcihjaGFpbklkKTtcbiAgfTtcbiAgdmFyIF9wcm90byA9IEV0aGVyLnByb3RvdHlwZTtcbiAgX3Byb3RvLmVxdWFscyA9IGZ1bmN0aW9uIGVxdWFscyhvdGhlcikge1xuICAgIHJldHVybiBvdGhlci5pc05hdGl2ZSAmJiBvdGhlci5jaGFpbklkID09PSB0aGlzLmNoYWluSWQ7XG4gIH07XG4gIF9jcmVhdGVDbGFzcyhFdGhlciwgW3tcbiAgICBrZXk6IFwid3JhcHBlZFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgdmFyIHdldGg5ID0gV0VUSDlbdGhpcy5jaGFpbklkXTtcbiAgICAgICEhIXdldGg5ID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnV1JBUFBFRCcpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIHJldHVybiB3ZXRoOTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIEV0aGVyO1xufShOYXRpdmVDdXJyZW5jeSk7XG5FdGhlci5fZXRoZXJDYWNoZSA9IHt9O1xuXG4vKipcclxuICogUmV0dXJucyB0aGUgcGVyY2VudCBkaWZmZXJlbmNlIGJldHdlZW4gdGhlIG1pZCBwcmljZSBhbmQgdGhlIGV4ZWN1dGlvbiBwcmljZSwgaS5lLiBwcmljZSBpbXBhY3QuXHJcbiAqIEBwYXJhbSBtaWRQcmljZSBtaWQgcHJpY2UgYmVmb3JlIHRoZSB0cmFkZVxyXG4gKiBAcGFyYW0gaW5wdXRBbW91bnQgdGhlIGlucHV0IGFtb3VudCBvZiB0aGUgdHJhZGVcclxuICogQHBhcmFtIG91dHB1dEFtb3VudCB0aGUgb3V0cHV0IGFtb3VudCBvZiB0aGUgdHJhZGVcclxuICovXG5mdW5jdGlvbiBjb21wdXRlUHJpY2VJbXBhY3QobWlkUHJpY2UsIGlucHV0QW1vdW50LCBvdXRwdXRBbW91bnQpIHtcbiAgdmFyIHF1b3RlZE91dHB1dEFtb3VudCA9IG1pZFByaWNlLnF1b3RlKGlucHV0QW1vdW50KTtcbiAgLy8gY2FsY3VsYXRlIHByaWNlIGltcGFjdCA6PSAoZXhhY3RRdW90ZSAtIG91dHB1dEFtb3VudCkgLyBleGFjdFF1b3RlXG4gIHZhciBwcmljZUltcGFjdCA9IHF1b3RlZE91dHB1dEFtb3VudC5zdWJ0cmFjdChvdXRwdXRBbW91bnQpLmRpdmlkZShxdW90ZWRPdXRwdXRBbW91bnQpO1xuICByZXR1cm4gbmV3IFBlcmNlbnQocHJpY2VJbXBhY3QubnVtZXJhdG9yLCBwcmljZUltcGFjdC5kZW5vbWluYXRvcik7XG59XG5cbmZ1bmN0aW9uIGNvbXB1dGVaa3N5bmNDcmVhdGUyQWRkcmVzcyhzZW5kZXIsIGJ5dGVjb2RlSGFzaCwgc2FsdCwgaW5wdXQpIHtcbiAgaWYgKGlucHV0ID09PSB2b2lkIDApIHtcbiAgICBpbnB1dCA9ICcweCc7XG4gIH1cbiAgdmFyIHByZWZpeCA9IGtlY2NhazI1Nih0b1V0ZjhCeXRlcygnemtzeW5jQ3JlYXRlMicpKTtcbiAgdmFyIGlucHV0SGFzaCA9IGtlY2NhazI1NihpbnB1dCk7XG4gIHZhciBhZGRyZXNzQnl0ZXMgPSBrZWNjYWsyNTYoY29uY2F0KFtwcmVmaXgsIGhleFplcm9QYWQoc2VuZGVyLCAzMiksIHNhbHQsIGJ5dGVjb2RlSGFzaCwgaW5wdXRIYXNoXSkpLnNsaWNlKDI2KTtcbiAgcmV0dXJuIGdldEFkZHJlc3MoYWRkcmVzc0J5dGVzKTtcbn1cblxuLy8gZ2l2ZW4gYW4gYXJyYXkgb2YgaXRlbXMgc29ydGVkIGJ5IGBjb21wYXJhdG9yYCwgaW5zZXJ0IGFuIGl0ZW0gaW50byBpdHMgc29ydCBpbmRleCBhbmQgY29uc3RyYWluIHRoZSBzaXplIHRvXG4vLyBgbWF4U2l6ZWAgYnkgcmVtb3ZpbmcgdGhlIGxhc3QgaXRlbVxuZnVuY3Rpb24gc29ydGVkSW5zZXJ0KGl0ZW1zLCBhZGQsIG1heFNpemUsIGNvbXBhcmF0b3IpIHtcbiAgIShtYXhTaXplID4gMCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdNQVhfU0laRV9aRVJPJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAvLyB0aGlzIGlzIGFuIGludmFyaWFudCBiZWNhdXNlIHRoZSBpbnRlcmZhY2UgY2Fubm90IHJldHVybiBtdWx0aXBsZSByZW1vdmVkIGl0ZW1zIGlmIGl0ZW1zLmxlbmd0aCBleGNlZWRzIG1heFNpemVcbiAgIShpdGVtcy5sZW5ndGggPD0gbWF4U2l6ZSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdJVEVNU19TSVpFJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAvLyBzaG9ydCBjaXJjdWl0IGZpcnN0IGl0ZW0gYWRkXG4gIGlmIChpdGVtcy5sZW5ndGggPT09IDApIHtcbiAgICBpdGVtcy5wdXNoKGFkZCk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGlzRnVsbCA9IGl0ZW1zLmxlbmd0aCA9PT0gbWF4U2l6ZTtcbiAgICAvLyBzaG9ydCBjaXJjdWl0IGlmIGZ1bGwgYW5kIHRoZSBhZGRpdGlvbmFsIGl0ZW0gZG9lcyBub3QgY29tZSBiZWZvcmUgdGhlIGxhc3QgaXRlbVxuICAgIGlmIChpc0Z1bGwgJiYgY29tcGFyYXRvcihpdGVtc1tpdGVtcy5sZW5ndGggLSAxXSwgYWRkKSA8PSAwKSB7XG4gICAgICByZXR1cm4gYWRkO1xuICAgIH1cbiAgICB2YXIgbG8gPSAwLFxuICAgICAgaGkgPSBpdGVtcy5sZW5ndGg7XG4gICAgd2hpbGUgKGxvIDwgaGkpIHtcbiAgICAgIHZhciBtaWQgPSBsbyArIGhpID4+PiAxO1xuICAgICAgaWYgKGNvbXBhcmF0b3IoaXRlbXNbbWlkXSwgYWRkKSA8PSAwKSB7XG4gICAgICAgIGxvID0gbWlkICsgMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhpID0gbWlkO1xuICAgICAgfVxuICAgIH1cbiAgICBpdGVtcy5zcGxpY2UobG8sIDAsIGFkZCk7XG4gICAgcmV0dXJuIGlzRnVsbCA/IGl0ZW1zLnBvcCgpIDogbnVsbDtcbiAgfVxufVxuXG52YXIgTUFYX1NBRkVfSU5URUdFUiA9IC8qI19fUFVSRV9fKi9KU0JJLkJpZ0ludChOdW1iZXIuTUFYX1NBRkVfSU5URUdFUik7XG52YXIgWkVSTyA9IC8qI19fUFVSRV9fKi9KU0JJLkJpZ0ludCgwKTtcbnZhciBPTkUgPSAvKiNfX1BVUkVfXyovSlNCSS5CaWdJbnQoMSk7XG52YXIgVFdPID0gLyojX19QVVJFX18qL0pTQkkuQmlnSW50KDIpO1xuLyoqXHJcbiAqIENvbXB1dGVzIGZsb29yKHNxcnQodmFsdWUpKVxyXG4gKiBAcGFyYW0gdmFsdWUgdGhlIHZhbHVlIGZvciB3aGljaCB0byBjb21wdXRlIHRoZSBzcXVhcmUgcm9vdCwgcm91bmRlZCBkb3duXHJcbiAqL1xuZnVuY3Rpb24gc3FydCh2YWx1ZSkge1xuICAhSlNCSS5ncmVhdGVyVGhhbk9yRXF1YWwodmFsdWUsIFpFUk8pID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnTkVHQVRJVkUnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gIC8vIHJlbHkgb24gYnVpbHQgaW4gc3FydCBpZiBwb3NzaWJsZVxuICBpZiAoSlNCSS5sZXNzVGhhbih2YWx1ZSwgTUFYX1NBRkVfSU5URUdFUikpIHtcbiAgICByZXR1cm4gSlNCSS5CaWdJbnQoTWF0aC5mbG9vcihNYXRoLnNxcnQoSlNCSS50b051bWJlcih2YWx1ZSkpKSk7XG4gIH1cbiAgdmFyIHo7XG4gIHZhciB4O1xuICB6ID0gdmFsdWU7XG4gIHggPSBKU0JJLmFkZChKU0JJLmRpdmlkZSh2YWx1ZSwgVFdPKSwgT05FKTtcbiAgd2hpbGUgKEpTQkkubGVzc1RoYW4oeCwgeikpIHtcbiAgICB6ID0geDtcbiAgICB4ID0gSlNCSS5kaXZpZGUoSlNCSS5hZGQoSlNCSS5kaXZpZGUodmFsdWUsIHgpLCB4KSwgVFdPKTtcbiAgfVxuICByZXR1cm4gejtcbn1cblxuZXhwb3J0IHsgQVJHRU5UX1dBTExFVF9ERVRFQ1RPUl9BRERSRVNTLCBDSEFJTl9UT19BRERSRVNTRVNfTUFQLCBDaGFpbklkLCBDdXJyZW5jeUFtb3VudCwgRU5TX1JFR0lTVFJBUl9BRERSRVNTRVMsIEV0aGVyLCBGcmFjdGlvbiwgR09WRVJOQU5DRV9BTFBIQV9WMF9BRERSRVNTRVMsIEdPVkVSTkFOQ0VfQUxQSEFfVjFfQUREUkVTU0VTLCBHT1ZFUk5BTkNFX0JSQVZPX0FERFJFU1NFUywgTUVSS0xFX0RJU1RSSUJVVE9SX0FERFJFU1MsIE1JWEVEX1JPVVRFX1FVT1RFUl9WMV9BRERSRVNTRVMsIE1VTFRJQ0FMTF9BRERSRVNTRVMsIE1heFVpbnQyNTYsIE5PTkZVTkdJQkxFX1BPU0lUSU9OX01BTkFHRVJfQUREUkVTU0VTLCBOYXRpdmVDdXJyZW5jeSwgTmF0aXZlQ3VycmVuY3lOYW1lLCBQZXJjZW50LCBQcmljZSwgUVVPVEVSX0FERFJFU1NFUywgUm91bmRpbmcsIFNPQ0tTX0NPTlRST0xMRVJfQUREUkVTU0VTLCBTVVBQT1JURURfQ0hBSU5TLCBTV0FQX1JPVVRFUl8wMl9BRERSRVNTRVMsIFRJQ0tfTEVOU19BRERSRVNTRVMsIFRJTUVMT0NLX0FERFJFU1NFUywgVG9rZW4sIFRyYWRlVHlwZSwgVU5JU1dBUF9ORlRfQUlSRFJPUF9DTEFJTV9BRERSRVNTLCBVTklfQUREUkVTU0VTLCBWMl9GQUNUT1JZX0FERFJFU1MsIFYyX0ZBQ1RPUllfQUREUkVTU0VTLCBWMl9ST1VURVJfQUREUkVTUywgVjJfUk9VVEVSX0FERFJFU1NFUywgVjNfQ09SRV9GQUNUT1JZX0FERFJFU1NFUywgVjNfTUlHUkFUT1JfQUREUkVTU0VTLCBXRVRIOSwgY29tcHV0ZVByaWNlSW1wYWN0LCBjb21wdXRlWmtzeW5jQ3JlYXRlMkFkZHJlc3MsIHNvcnRlZEluc2VydCwgc3FydCwgdmFsaWRhdGVBbmRQYXJzZUFkZHJlc3MgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNkay1jb3JlLmVzbS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@uniswap/sdk-core/dist/sdk-core.esm.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@uniswap/v2-sdk/dist/v2-sdk.esm.js":
/*!*********************************************************!*\
  !*** ./node_modules/@uniswap/v2-sdk/dist/v2-sdk.esm.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FACTORY_ADDRESS_MAP: () => (/* binding */ FACTORY_ADDRESS_MAP),\n/* harmony export */   INIT_CODE_HASH: () => (/* binding */ INIT_CODE_HASH),\n/* harmony export */   InsufficientInputAmountError: () => (/* binding */ InsufficientInputAmountError),\n/* harmony export */   InsufficientReservesError: () => (/* binding */ InsufficientReservesError),\n/* harmony export */   MINIMUM_LIQUIDITY: () => (/* binding */ MINIMUM_LIQUIDITY),\n/* harmony export */   Pair: () => (/* binding */ Pair),\n/* harmony export */   Route: () => (/* binding */ Route),\n/* harmony export */   Router: () => (/* binding */ Router),\n/* harmony export */   Trade: () => (/* binding */ Trade),\n/* harmony export */   computePairAddress: () => (/* binding */ computePairAddress),\n/* harmony export */   inputOutputComparator: () => (/* binding */ inputOutputComparator),\n/* harmony export */   tradeComparator: () => (/* binding */ tradeComparator)\n/* harmony export */ });\n/* harmony import */ var _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @uniswap/sdk-core */ \"(ssr)/./node_modules/@uniswap/sdk-core/dist/sdk-core.esm.js\");\n/* harmony import */ var jsbi__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jsbi */ \"(ssr)/./node_modules/jsbi/dist/jsbi.mjs\");\n/* harmony import */ var _ethersproject_address__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ethersproject/address */ \"(ssr)/./node_modules/@ethersproject/address/lib.esm/index.js\");\n/* harmony import */ var _ethersproject_bignumber__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ethersproject/bignumber */ \"(ssr)/./node_modules/@ethersproject/bignumber/lib.esm/bignumber.js\");\n/* harmony import */ var _ethersproject_solidity__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ethersproject/solidity */ \"(ssr)/./node_modules/@ethersproject/solidity/lib.esm/index.js\");\n/* harmony import */ var tiny_invariant__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tiny-invariant */ \"(ssr)/./node_modules/tiny-invariant/dist/esm/tiny-invariant.js\");\n\n\n\n\n\n\n\n/**\r\n * @deprecated use FACTORY_ADDRESS_MAP instead\r\n */\nvar FACTORY_ADDRESS = '0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f';\nvar FACTORY_ADDRESS_MAP = _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.V2_FACTORY_ADDRESSES;\nvar INIT_CODE_HASH = '0x96e8ac4277198ff8b6f785478aa9a39f403cb768dd02cbee326c3e7da348845f';\nvar MINIMUM_LIQUIDITY = /*#__PURE__*/jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].BigInt(1000);\n// exports for internal consumption\nvar ZERO = /*#__PURE__*/jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].BigInt(0);\nvar ONE = /*#__PURE__*/jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].BigInt(1);\nvar FIVE = /*#__PURE__*/jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].BigInt(5);\nvar _997 = /*#__PURE__*/jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].BigInt(997);\nvar _1000 = /*#__PURE__*/jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].BigInt(1000);\nvar BASIS_POINTS = /*#__PURE__*/jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].BigInt(10000);\nvar ZERO_PERCENT = /*#__PURE__*/new _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.Percent(ZERO);\nvar ONE_HUNDRED_PERCENT = /*#__PURE__*/new _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.Percent(ONE);\n\nfunction _construct(t, e, r) {\n  if (_isNativeReflectConstruct()) return Reflect.construct.apply(null, arguments);\n  var o = [null];\n  o.push.apply(o, e);\n  var p = new (t.bind.apply(t, o))();\n  return r && _setPrototypeOf(p, r.prototype), p;\n}\nfunction _isNativeReflectConstruct() {\n  try {\n    var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n  } catch (t) {}\n  return (_isNativeReflectConstruct = function () {\n    return !!t;\n  })();\n}\nfunction _toPrimitive(t, r) {\n  if (\"object\" != typeof t || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != typeof i) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n  return \"symbol\" == typeof i ? i : String(i);\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  _setPrototypeOf(subClass, superClass);\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _isNativeFunction(fn) {\n  try {\n    return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n  } catch (e) {\n    return typeof fn === \"function\";\n  }\n}\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !_isNativeFunction(Class)) return Class;\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n      _cache.set(Class, Wrapper);\n    }\n    function Wrapper() {\n      return _construct(Class, arguments, _getPrototypeOf(this).constructor);\n    }\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return _setPrototypeOf(Wrapper, Class);\n  };\n  return _wrapNativeSuper(Class);\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (it) return (it = it.call(o)).next.bind(it);\n  if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n    if (it) o = it;\n    var i = 0;\n    return function () {\n      if (i >= o.length) return {\n        done: true\n      };\n      return {\n        done: false,\n        value: o[i++]\n      };\n    };\n  }\n  throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\n// see https://stackoverflow.com/a/41102306\nvar CAN_SET_PROTOTYPE = ('setPrototypeOf' in Object);\n/**\r\n * Indicates that the pair has insufficient reserves for a desired output amount. I.e. the amount of output cannot be\r\n * obtained by sending any amount of input.\r\n */\nvar InsufficientReservesError = /*#__PURE__*/function (_Error) {\n  _inheritsLoose(InsufficientReservesError, _Error);\n  function InsufficientReservesError() {\n    var _this;\n    _this = _Error.call(this) || this;\n    _this.isInsufficientReservesError = true;\n    _this.name = _this.constructor.name;\n    if (CAN_SET_PROTOTYPE) Object.setPrototypeOf(_assertThisInitialized(_this), (this instanceof InsufficientReservesError ? this.constructor : void 0).prototype);\n    return _this;\n  }\n  return InsufficientReservesError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n/**\r\n * Indicates that the input amount is too small to produce any amount of output. I.e. the amount of input sent is less\r\n * than the price of a single unit of output after fees.\r\n */\nvar InsufficientInputAmountError = /*#__PURE__*/function (_Error2) {\n  _inheritsLoose(InsufficientInputAmountError, _Error2);\n  function InsufficientInputAmountError() {\n    var _this2;\n    _this2 = _Error2.call(this) || this;\n    _this2.isInsufficientInputAmountError = true;\n    _this2.name = _this2.constructor.name;\n    if (CAN_SET_PROTOTYPE) Object.setPrototypeOf(_assertThisInitialized(_this2), (this instanceof InsufficientInputAmountError ? this.constructor : void 0).prototype);\n    return _this2;\n  }\n  return InsufficientInputAmountError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n\nvar computePairAddress = function computePairAddress(_ref) {\n  var factoryAddress = _ref.factoryAddress,\n    tokenA = _ref.tokenA,\n    tokenB = _ref.tokenB;\n  var _ref2 = tokenA.sortsBefore(tokenB) ? [tokenA, tokenB] : [tokenB, tokenA],\n    token0 = _ref2[0],\n    token1 = _ref2[1]; // does safety checks\n  return (0,_ethersproject_address__WEBPACK_IMPORTED_MODULE_3__.getCreate2Address)(factoryAddress, (0,_ethersproject_solidity__WEBPACK_IMPORTED_MODULE_4__.keccak256)(['bytes'], [(0,_ethersproject_solidity__WEBPACK_IMPORTED_MODULE_4__.pack)(['address', 'address'], [token0.address, token1.address])]), INIT_CODE_HASH);\n};\nvar Pair = /*#__PURE__*/function () {\n  function Pair(currencyAmountA, tokenAmountB) {\n    var tokenAmounts = currencyAmountA.currency.sortsBefore(tokenAmountB.currency) // does safety checks\n    ? [currencyAmountA, tokenAmountB] : [tokenAmountB, currencyAmountA];\n    this.liquidityToken = new _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.Token(tokenAmounts[0].currency.chainId, Pair.getAddress(tokenAmounts[0].currency, tokenAmounts[1].currency), 18, 'UNI-V2', 'Uniswap V2');\n    this.tokenAmounts = tokenAmounts;\n  }\n  Pair.getAddress = function getAddress(tokenA, tokenB) {\n    var _FACTORY_ADDRESS_MAP$;\n    var factoryAddress = (_FACTORY_ADDRESS_MAP$ = FACTORY_ADDRESS_MAP[tokenA.chainId]) != null ? _FACTORY_ADDRESS_MAP$ : FACTORY_ADDRESS;\n    return computePairAddress({\n      factoryAddress: factoryAddress,\n      tokenA: tokenA,\n      tokenB: tokenB\n    });\n  }\n  /**\r\n   * Returns true if the token is either token0 or token1\r\n   * @param token to check\r\n   */;\n  var _proto = Pair.prototype;\n  _proto.involvesToken = function involvesToken(token) {\n    return token.equals(this.token0) || token.equals(this.token1);\n  }\n  /**\r\n   * Returns the current mid price of the pair in terms of token0, i.e. the ratio of reserve1 to reserve0\r\n   */;\n  /**\r\n   * Return the price of the given token in terms of the other token in the pair.\r\n   * @param token token to return price of\r\n   */\n  _proto.priceOf = function priceOf(token) {\n    !this.involvesToken(token) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'TOKEN') : 0 : void 0;\n    return token.equals(this.token0) ? this.token0Price : this.token1Price;\n  }\n  /**\r\n   * Returns the chain ID of the tokens in the pair.\r\n   */;\n  _proto.reserveOf = function reserveOf(token) {\n    !this.involvesToken(token) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'TOKEN') : 0 : void 0;\n    return token.equals(this.token0) ? this.reserve0 : this.reserve1;\n  }\n  /**\r\n   * getAmountOut is the linear algebra of reserve ratio against amountIn:amountOut.\r\n   * https://ethereum.stackexchange.com/questions/101629/what-is-math-for-uniswap-calculates-the-amountout-and-amountin-why-997-and-1000\r\n   * has the math deduction for the reserve calculation without fee-on-transfer fees.\r\n   *\r\n   * With fee-on-transfer tax, intuitively it's just:\r\n   * inputAmountWithFeeAndTax = 0.997 * (1 - amountIn.sellFeesBips / 10000) * amountIn\r\n   *                          = (1 - amountIn.sellFeesBips / 10000) * amountInWithFee\r\n   * where amountInWithFee is the amountIn after taking out the LP fees\r\n   * outputAmountWithTax = amountOut * (1 - amountOut.buyFeesBips / 10000)\r\n   *\r\n   * But we are illustrating the math deduction below to ensure that's the case.\r\n   *\r\n   * before swap A * B = K where A = reserveIn B = reserveOut\r\n   *\r\n   * after swap A' * B' = K where only k is a constant value\r\n   *\r\n   * getAmountOut\r\n   *\r\n   * A' = A + 0.997 * (1 - amountIn.sellFeesBips / 10000) * amountIn # here 0.3% is deducted\r\n   * B' = B - amountOut * (1 - amountOut.buyFeesBips / 10000)\r\n   * amountOut = (B - B') / (1 - amountOut.buyFeesBips / 10000) # where A' * B' still is k\r\n   *           = (B - K/(A + 0.997 * (1 - amountIn.sellFeesBips / 10000) * amountIn))\r\n   *             /\r\n   *             (1 - amountOut.buyFeesBips / 10000)\r\n   *           = (B - AB/(A + 0.997 * (1 - amountIn.sellFeesBips / 10000) * amountIn))\r\n   *             /\r\n   *             (1 - amountOut.buyFeesBips / 10000)\r\n   *           = ((BA + B * 0.997 * (1 - amountIn.sellFeesBips / 10000) * amountIn - AB)/(A + 0.997 * (1 - amountIn.sellFeesBips / 10000) * amountIn))\r\n   *             /\r\n   *             (1 - amountOut.buyFeesBips / 10000)\r\n   *           = (B * 0.997 * (1 - amountIn.sellFeesBips / 10000) * amountIn / (A + 0.997 * (1 - amountIn.sellFeesBips / 10000) * amountIn)\r\n   *             /\r\n   *             (1 - amountOut.buyFeesBips / 10000)\r\n   * amountOut * (1 - amountOut.buyFeesBips / 10000) = (B * 0.997 * (1 - amountIn.sellFeesBips / 10000) * amountIn\r\n   *                                                    /\r\n   *                                                    (A + 0.997 * (1 - amountIn.sellFeesBips / 10000) * amountIn)\r\n   *\r\n   * outputAmountWithTax = (B * 0.997 * (1 - amountIn.sellFeesBips / 10000) * amountIn\r\n   *                       /\r\n   *                       (A + 0.997 * (1 - amountIn.sellFeesBips / 10000) * amountIn)\r\n   *                       = (B * 0.997 * (1 - amountIn.sellFeesBips / 10000) * amountIn * 1000\r\n   *                       /\r\n   *                       ((A + 0.997 * (1 - amountIn.sellFeesBips / 10000) * amountIn) * 1000)\r\n   *                     = (B * (1 - amountIn.sellFeesBips / 10000) 997 * * amountIn\r\n   *                       /\r\n   *                       (1000 * A + (1 - amountIn.sellFeesBips / 10000) * 997 * amountIn)\r\n   *                     = (B * (1 - amountIn.sellFeesBips / 10000) * inputAmountWithFee)\r\n   *                       /\r\n   *                       (1000 * A + (1 - amountIn.sellFeesBips / 10000) * inputAmountWithFee)\r\n   *                     = (B * inputAmountWithFeeAndTax)\r\n   *                       /\r\n   *                       (1000 * A + inputAmountWithFeeAndTax)\r\n   *\r\n   * inputAmountWithFeeAndTax = (1 - amountIn.sellFeesBips / 10000) * inputAmountWithFee\r\n   * outputAmountWithTax = amountOut * (1 - amountOut.buyFeesBips / 10000)\r\n   *\r\n   * @param inputAmount\r\n   * @param calculateFotFees\r\n   */;\n  _proto.getOutputAmount = function getOutputAmount(inputAmount, calculateFotFees) {\n    if (calculateFotFees === void 0) {\n      calculateFotFees = true;\n    }\n    !this.involvesToken(inputAmount.currency) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'TOKEN') : 0 : void 0;\n    if (jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].equal(this.reserve0.quotient, ZERO) || jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].equal(this.reserve1.quotient, ZERO)) {\n      throw new InsufficientReservesError();\n    }\n    var inputReserve = this.reserveOf(inputAmount.currency);\n    var outputReserve = this.reserveOf(inputAmount.currency.equals(this.token0) ? this.token1 : this.token0);\n    var percentAfterSellFees = calculateFotFees ? this.derivePercentAfterSellFees(inputAmount) : ZERO_PERCENT;\n    var inputAmountAfterTax = percentAfterSellFees.greaterThan(ZERO_PERCENT) ? _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.CurrencyAmount.fromRawAmount(inputAmount.currency, percentAfterSellFees.multiply(inputAmount).quotient // fraction.quotient will round down by itself, which is desired\n    ) : inputAmount;\n    var inputAmountWithFeeAndAfterTax = jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].multiply(inputAmountAfterTax.quotient, _997);\n    var numerator = jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].multiply(inputAmountWithFeeAndAfterTax, outputReserve.quotient);\n    var denominator = jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].add(jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].multiply(inputReserve.quotient, _1000), inputAmountWithFeeAndAfterTax);\n    var outputAmount = _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.CurrencyAmount.fromRawAmount(inputAmount.currency.equals(this.token0) ? this.token1 : this.token0, jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].divide(numerator, denominator) // JSBI.divide will round down by itself, which is desired\n    );\n    if (jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].equal(outputAmount.quotient, ZERO)) {\n      throw new InsufficientInputAmountError();\n    }\n    var percentAfterBuyFees = calculateFotFees ? this.derivePercentAfterBuyFees(outputAmount) : ZERO_PERCENT;\n    var outputAmountAfterTax = percentAfterBuyFees.greaterThan(ZERO_PERCENT) ? _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.CurrencyAmount.fromRawAmount(outputAmount.currency, outputAmount.multiply(percentAfterBuyFees).quotient // fraction.quotient will round down by itself, which is desired\n    ) : outputAmount;\n    if (jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].equal(outputAmountAfterTax.quotient, ZERO)) {\n      throw new InsufficientInputAmountError();\n    }\n    return [outputAmountAfterTax, new Pair(inputReserve.add(inputAmountAfterTax), outputReserve.subtract(outputAmountAfterTax))];\n  }\n  /**\r\n   * getAmountIn is the linear algebra of reserve ratio against amountIn:amountOut.\r\n   * https://ethereum.stackexchange.com/questions/101629/what-is-math-for-uniswap-calculates-the-amountout-and-amountin-why-997-and-1000\r\n   * has the math deduction for the reserve calculation without fee-on-transfer fees.\r\n   *\r\n   * With fee-on-transfer fees, intuitively it's just:\r\n   * outputAmountWithTax = amountOut / (1 - amountOut.buyFeesBips / 10000)\r\n   * inputAmountWithTax = amountIn / (1 - amountIn.sellFeesBips / 10000) / 0.997\r\n   *\r\n   * But we are illustrating the math deduction below to ensure that's the case.\r\n   *\r\n   * before swap A * B = K where A = reserveIn B = reserveOut\r\n   *\r\n   * after swap A' * B' = K where only k is a constant value\r\n   *\r\n   * getAmountIn\r\n   *\r\n   * B' = B - amountOut * (1 - amountOut.buyFeesBips / 10000)\r\n   * A' = A + 0.997 * (1 - amountIn.sellFeesBips / 10000) * amountIn # here 0.3% is deducted\r\n   * amountIn = (A' - A) / (0.997 * (1 - amountIn.sellFeesBips / 10000))\r\n   *          = (K / (B - amountOut / (1 - amountOut.buyFeesBips / 10000)) - A)\r\n   *            /\r\n   *            (0.997 * (1 - amountIn.sellFeesBips / 10000))\r\n   *          = (AB / (B - amountOut / (1 - amountOut.buyFeesBips / 10000)) - A)\r\n   *            /\r\n   *            (0.997 * (1 - amountIn.sellFeesBips / 10000))\r\n   *          = ((AB - AB + A * amountOut / (1 - amountOut.buyFeesBips / 10000)) / (B - amountOut / (1 - amountOut.buyFeesBips / 10000)))\r\n   *            /\r\n   *            (0.997 * (1 - amountIn.sellFeesBips / 10000))\r\n   *          = ((A * amountOut / (1 - amountOut.buyFeesBips / 10000)) / (B - amountOut / (1 - amountOut.buyFeesBips / 10000)))\r\n   *            /\r\n   *            (0.997 * (1 - amountIn.sellFeesBips / 10000))\r\n   *          = ((A * 1000 * amountOut / (1 - amountOut.buyFeesBips / 10000)) / (B - amountOut / (1 - amountOut.buyFeesBips / 10000)))\r\n   *            /\r\n   *            (997 * (1 - amountIn.sellFeesBips / 10000))\r\n   *\r\n   * outputAmountWithTax = amountOut / (1 - amountOut.buyFeesBips / 10000)\r\n   * inputAmountWithTax = amountIn / (997 * (1 - amountIn.sellFeesBips / 10000))\r\n   *                    = (A * outputAmountWithTax * 1000) / ((B - outputAmountWithTax) * 997)\r\n   *\r\n   * @param outputAmount\r\n   */;\n  _proto.getInputAmount = function getInputAmount(outputAmount, calculateFotFees) {\n    if (calculateFotFees === void 0) {\n      calculateFotFees = true;\n    }\n    !this.involvesToken(outputAmount.currency) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'TOKEN') : 0 : void 0;\n    var percentAfterBuyFees = calculateFotFees ? this.derivePercentAfterBuyFees(outputAmount) : ZERO_PERCENT;\n    var outputAmountBeforeTax = percentAfterBuyFees.greaterThan(ZERO_PERCENT) ? _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.CurrencyAmount.fromRawAmount(outputAmount.currency, jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].add(outputAmount.divide(percentAfterBuyFees).quotient, ONE) // add 1 for rounding up\n    ) : outputAmount;\n    if (jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].equal(this.reserve0.quotient, ZERO) || jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].equal(this.reserve1.quotient, ZERO) || jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].greaterThanOrEqual(outputAmount.quotient, this.reserveOf(outputAmount.currency).quotient) || jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].greaterThanOrEqual(outputAmountBeforeTax.quotient, this.reserveOf(outputAmount.currency).quotient)) {\n      throw new InsufficientReservesError();\n    }\n    var outputReserve = this.reserveOf(outputAmount.currency);\n    var inputReserve = this.reserveOf(outputAmount.currency.equals(this.token0) ? this.token1 : this.token0);\n    var numerator = jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].multiply(jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].multiply(inputReserve.quotient, outputAmountBeforeTax.quotient), _1000);\n    var denominator = jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].multiply(jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].subtract(outputReserve.quotient, outputAmountBeforeTax.quotient), _997);\n    var inputAmount = _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.CurrencyAmount.fromRawAmount(outputAmount.currency.equals(this.token0) ? this.token1 : this.token0, jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].add(jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].divide(numerator, denominator), ONE) // add 1 here is part of the formula, no rounding needed here, since there will not be decimal at this point\n    );\n    var percentAfterSellFees = calculateFotFees ? this.derivePercentAfterSellFees(inputAmount) : ZERO_PERCENT;\n    var inputAmountBeforeTax = percentAfterSellFees.greaterThan(ZERO_PERCENT) ? _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.CurrencyAmount.fromRawAmount(inputAmount.currency, jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].add(inputAmount.divide(percentAfterSellFees).quotient, ONE) // add 1 for rounding up\n    ) : inputAmount;\n    return [inputAmountBeforeTax, new Pair(inputReserve.add(inputAmount), outputReserve.subtract(outputAmount))];\n  };\n  _proto.getLiquidityMinted = function getLiquidityMinted(totalSupply, tokenAmountA, tokenAmountB) {\n    !totalSupply.currency.equals(this.liquidityToken) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'LIQUIDITY') : 0 : void 0;\n    var tokenAmounts = tokenAmountA.currency.sortsBefore(tokenAmountB.currency) // does safety checks\n    ? [tokenAmountA, tokenAmountB] : [tokenAmountB, tokenAmountA];\n    !(tokenAmounts[0].currency.equals(this.token0) && tokenAmounts[1].currency.equals(this.token1)) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'TOKEN') : 0 : void 0;\n    var liquidity;\n    if (jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].equal(totalSupply.quotient, ZERO)) {\n      liquidity = jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].subtract((0,_uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.sqrt)(jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].multiply(tokenAmounts[0].quotient, tokenAmounts[1].quotient)), MINIMUM_LIQUIDITY);\n    } else {\n      var amount0 = jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].divide(jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].multiply(tokenAmounts[0].quotient, totalSupply.quotient), this.reserve0.quotient);\n      var amount1 = jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].divide(jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].multiply(tokenAmounts[1].quotient, totalSupply.quotient), this.reserve1.quotient);\n      liquidity = jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].lessThanOrEqual(amount0, amount1) ? amount0 : amount1;\n    }\n    if (!jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].greaterThan(liquidity, ZERO)) {\n      throw new InsufficientInputAmountError();\n    }\n    return _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.CurrencyAmount.fromRawAmount(this.liquidityToken, liquidity);\n  };\n  _proto.getLiquidityValue = function getLiquidityValue(token, totalSupply, liquidity, feeOn, kLast) {\n    if (feeOn === void 0) {\n      feeOn = false;\n    }\n    !this.involvesToken(token) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'TOKEN') : 0 : void 0;\n    !totalSupply.currency.equals(this.liquidityToken) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'TOTAL_SUPPLY') : 0 : void 0;\n    !liquidity.currency.equals(this.liquidityToken) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'LIQUIDITY') : 0 : void 0;\n    !jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].lessThanOrEqual(liquidity.quotient, totalSupply.quotient) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'LIQUIDITY') : 0 : void 0;\n    var totalSupplyAdjusted;\n    if (!feeOn) {\n      totalSupplyAdjusted = totalSupply;\n    } else {\n      !!!kLast ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'K_LAST') : 0 : void 0;\n      var kLastParsed = jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].BigInt(kLast);\n      if (!jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].equal(kLastParsed, ZERO)) {\n        var rootK = (0,_uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.sqrt)(jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].multiply(this.reserve0.quotient, this.reserve1.quotient));\n        var rootKLast = (0,_uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.sqrt)(kLastParsed);\n        if (jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].greaterThan(rootK, rootKLast)) {\n          var numerator = jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].multiply(totalSupply.quotient, jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].subtract(rootK, rootKLast));\n          var denominator = jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].add(jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].multiply(rootK, FIVE), rootKLast);\n          var feeLiquidity = jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].divide(numerator, denominator);\n          totalSupplyAdjusted = totalSupply.add(_uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.CurrencyAmount.fromRawAmount(this.liquidityToken, feeLiquidity));\n        } else {\n          totalSupplyAdjusted = totalSupply;\n        }\n      } else {\n        totalSupplyAdjusted = totalSupply;\n      }\n    }\n    return _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.CurrencyAmount.fromRawAmount(token, jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].divide(jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].multiply(liquidity.quotient, this.reserveOf(token).quotient), totalSupplyAdjusted.quotient));\n  };\n  _proto.derivePercentAfterSellFees = function derivePercentAfterSellFees(inputAmount) {\n    var sellFeeBips = this.token0.wrapped.equals(inputAmount.wrapped.currency) ? this.token0.wrapped.sellFeeBps : this.token1.wrapped.sellFeeBps;\n    if (sellFeeBips != null && sellFeeBips.gt(_ethersproject_bignumber__WEBPACK_IMPORTED_MODULE_5__.BigNumber.from(0))) {\n      return ONE_HUNDRED_PERCENT.subtract(new _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.Percent(jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].BigInt(sellFeeBips)).divide(BASIS_POINTS));\n    } else {\n      return ZERO_PERCENT;\n    }\n  };\n  _proto.derivePercentAfterBuyFees = function derivePercentAfterBuyFees(outputAmount) {\n    var buyFeeBps = this.token0.wrapped.equals(outputAmount.wrapped.currency) ? this.token0.wrapped.buyFeeBps : this.token1.wrapped.buyFeeBps;\n    if (buyFeeBps != null && buyFeeBps.gt(_ethersproject_bignumber__WEBPACK_IMPORTED_MODULE_5__.BigNumber.from(0))) {\n      return ONE_HUNDRED_PERCENT.subtract(new _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.Percent(jsbi__WEBPACK_IMPORTED_MODULE_1__[\"default\"].BigInt(buyFeeBps)).divide(BASIS_POINTS));\n    } else {\n      return ZERO_PERCENT;\n    }\n  };\n  _createClass(Pair, [{\n    key: \"token0Price\",\n    get: function get() {\n      var result = this.tokenAmounts[1].divide(this.tokenAmounts[0]);\n      return new _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.Price(this.token0, this.token1, result.denominator, result.numerator);\n    }\n    /**\r\n     * Returns the current mid price of the pair in terms of token1, i.e. the ratio of reserve0 to reserve1\r\n     */\n  }, {\n    key: \"token1Price\",\n    get: function get() {\n      var result = this.tokenAmounts[0].divide(this.tokenAmounts[1]);\n      return new _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.Price(this.token1, this.token0, result.denominator, result.numerator);\n    }\n  }, {\n    key: \"chainId\",\n    get: function get() {\n      return this.token0.chainId;\n    }\n  }, {\n    key: \"token0\",\n    get: function get() {\n      return this.tokenAmounts[0].currency;\n    }\n  }, {\n    key: \"token1\",\n    get: function get() {\n      return this.tokenAmounts[1].currency;\n    }\n  }, {\n    key: \"reserve0\",\n    get: function get() {\n      return this.tokenAmounts[0];\n    }\n  }, {\n    key: \"reserve1\",\n    get: function get() {\n      return this.tokenAmounts[1];\n    }\n  }]);\n  return Pair;\n}();\n\nvar Route = /*#__PURE__*/function () {\n  function Route(pairs, input, output) {\n    this._midPrice = null;\n    !(pairs.length > 0) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'PAIRS') : 0 : void 0;\n    var chainId = pairs[0].chainId;\n    !pairs.every(function (pair) {\n      return pair.chainId === chainId;\n    }) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'CHAIN_IDS') : 0 : void 0;\n    var wrappedInput = input.wrapped;\n    !pairs[0].involvesToken(wrappedInput) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'INPUT') : 0 : void 0;\n    !(typeof output === 'undefined' || pairs[pairs.length - 1].involvesToken(output.wrapped)) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'OUTPUT') : 0 : void 0;\n    var path = [wrappedInput];\n    for (var _iterator = _createForOfIteratorHelperLoose(pairs.entries()), _step; !(_step = _iterator()).done;) {\n      var _step$value = _step.value,\n        i = _step$value[0],\n        pair = _step$value[1];\n      var currentInput = path[i];\n      !(currentInput.equals(pair.token0) || currentInput.equals(pair.token1)) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'PATH') : 0 : void 0;\n      var _output = currentInput.equals(pair.token0) ? pair.token1 : pair.token0;\n      path.push(_output);\n    }\n    this.pairs = pairs;\n    this.path = path;\n    this.input = input;\n    this.output = output;\n  }\n  _createClass(Route, [{\n    key: \"midPrice\",\n    get: function get() {\n      if (this._midPrice !== null) return this._midPrice;\n      var prices = [];\n      for (var _iterator2 = _createForOfIteratorHelperLoose(this.pairs.entries()), _step2; !(_step2 = _iterator2()).done;) {\n        var _step2$value = _step2.value,\n          i = _step2$value[0],\n          pair = _step2$value[1];\n        prices.push(this.path[i].equals(pair.token0) ? new _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.Price(pair.reserve0.currency, pair.reserve1.currency, pair.reserve0.quotient, pair.reserve1.quotient) : new _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.Price(pair.reserve1.currency, pair.reserve0.currency, pair.reserve1.quotient, pair.reserve0.quotient));\n      }\n      var reduced = prices.slice(1).reduce(function (accumulator, currentValue) {\n        return accumulator.multiply(currentValue);\n      }, prices[0]);\n      return this._midPrice = new _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.Price(this.input, this.output, reduced.denominator, reduced.numerator);\n    }\n  }, {\n    key: \"chainId\",\n    get: function get() {\n      return this.pairs[0].chainId;\n    }\n  }]);\n  return Route;\n}();\n\n// comparator function that allows sorting trades by their output amounts, in decreasing order, and then input amounts\n// in increasing order. i.e. the best trades have the most outputs for the least inputs and are sorted first\nfunction inputOutputComparator(a, b) {\n  // must have same input and output token for comparison\n  !a.inputAmount.currency.equals(b.inputAmount.currency) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'INPUT_CURRENCY') : 0 : void 0;\n  !a.outputAmount.currency.equals(b.outputAmount.currency) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'OUTPUT_CURRENCY') : 0 : void 0;\n  if (a.outputAmount.equalTo(b.outputAmount)) {\n    if (a.inputAmount.equalTo(b.inputAmount)) {\n      return 0;\n    }\n    // trade A requires less input than trade B, so A should come first\n    if (a.inputAmount.lessThan(b.inputAmount)) {\n      return -1;\n    } else {\n      return 1;\n    }\n  } else {\n    // tradeA has less output than trade B, so should come second\n    if (a.outputAmount.lessThan(b.outputAmount)) {\n      return 1;\n    } else {\n      return -1;\n    }\n  }\n}\n// extension of the input output comparator that also considers other dimensions of the trade in ranking them\nfunction tradeComparator(a, b) {\n  var ioComp = inputOutputComparator(a, b);\n  if (ioComp !== 0) {\n    return ioComp;\n  }\n  // consider lowest slippage next, since these are less likely to fail\n  if (a.priceImpact.lessThan(b.priceImpact)) {\n    return -1;\n  } else if (a.priceImpact.greaterThan(b.priceImpact)) {\n    return 1;\n  }\n  // finally consider the number of hops since each hop costs gas\n  return a.route.path.length - b.route.path.length;\n}\n/**\r\n * Represents a trade executed against a list of pairs.\r\n * Does not account for slippage, i.e. trades that front run this trade and move the price.\r\n */\nvar Trade = /*#__PURE__*/function () {\n  function Trade(route, amount, tradeType) {\n    this.route = route;\n    this.tradeType = tradeType;\n    var tokenAmounts = new Array(route.path.length);\n    if (tradeType === _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.TradeType.EXACT_INPUT) {\n      !amount.currency.equals(route.input) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'INPUT') : 0 : void 0;\n      tokenAmounts[0] = amount.wrapped;\n      for (var i = 0; i < route.path.length - 1; i++) {\n        var pair = route.pairs[i];\n        var _pair$getOutputAmount = pair.getOutputAmount(tokenAmounts[i]),\n          outputAmount = _pair$getOutputAmount[0];\n        tokenAmounts[i + 1] = outputAmount;\n      }\n      this.inputAmount = _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.CurrencyAmount.fromFractionalAmount(route.input, amount.numerator, amount.denominator);\n      this.outputAmount = _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.CurrencyAmount.fromFractionalAmount(route.output, tokenAmounts[tokenAmounts.length - 1].numerator, tokenAmounts[tokenAmounts.length - 1].denominator);\n    } else {\n      !amount.currency.equals(route.output) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'OUTPUT') : 0 : void 0;\n      tokenAmounts[tokenAmounts.length - 1] = amount.wrapped;\n      for (var _i = route.path.length - 1; _i > 0; _i--) {\n        var _pair = route.pairs[_i - 1];\n        var _pair$getInputAmount = _pair.getInputAmount(tokenAmounts[_i]),\n          inputAmount = _pair$getInputAmount[0];\n        tokenAmounts[_i - 1] = inputAmount;\n      }\n      this.inputAmount = _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.CurrencyAmount.fromFractionalAmount(route.input, tokenAmounts[0].numerator, tokenAmounts[0].denominator);\n      this.outputAmount = _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.CurrencyAmount.fromFractionalAmount(route.output, amount.numerator, amount.denominator);\n    }\n    this.executionPrice = new _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.Price(this.inputAmount.currency, this.outputAmount.currency, this.inputAmount.quotient, this.outputAmount.quotient);\n    this.priceImpact = (0,_uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.computePriceImpact)(route.midPrice, this.inputAmount, this.outputAmount);\n  }\n  /**\r\n   * Constructs an exact in trade with the given amount in and route\r\n   * @param route route of the exact in trade\r\n   * @param amountIn the amount being passed in\r\n   */\n  Trade.exactIn = function exactIn(route, amountIn) {\n    return new Trade(route, amountIn, _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.TradeType.EXACT_INPUT);\n  }\n  /**\r\n   * Constructs an exact out trade with the given amount out and route\r\n   * @param route route of the exact out trade\r\n   * @param amountOut the amount returned by the trade\r\n   */;\n  Trade.exactOut = function exactOut(route, amountOut) {\n    return new Trade(route, amountOut, _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.TradeType.EXACT_OUTPUT);\n  }\n  /**\r\n   * Get the minimum amount that must be received from this trade for the given slippage tolerance\r\n   * @param slippageTolerance tolerance of unfavorable slippage from the execution price of this trade\r\n   */;\n  var _proto = Trade.prototype;\n  _proto.minimumAmountOut = function minimumAmountOut(slippageTolerance) {\n    !!slippageTolerance.lessThan(ZERO) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'SLIPPAGE_TOLERANCE') : 0 : void 0;\n    if (this.tradeType === _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.TradeType.EXACT_OUTPUT) {\n      return this.outputAmount;\n    } else {\n      var slippageAdjustedAmountOut = new _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.Fraction(ONE).add(slippageTolerance).invert().multiply(this.outputAmount.quotient).quotient;\n      return _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.CurrencyAmount.fromRawAmount(this.outputAmount.currency, slippageAdjustedAmountOut);\n    }\n  }\n  /**\r\n   * Get the maximum amount in that can be spent via this trade for the given slippage tolerance\r\n   * @param slippageTolerance tolerance of unfavorable slippage from the execution price of this trade\r\n   */;\n  _proto.maximumAmountIn = function maximumAmountIn(slippageTolerance) {\n    !!slippageTolerance.lessThan(ZERO) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'SLIPPAGE_TOLERANCE') : 0 : void 0;\n    if (this.tradeType === _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.TradeType.EXACT_INPUT) {\n      return this.inputAmount;\n    } else {\n      var slippageAdjustedAmountIn = new _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.Fraction(ONE).add(slippageTolerance).multiply(this.inputAmount.quotient).quotient;\n      return _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.CurrencyAmount.fromRawAmount(this.inputAmount.currency, slippageAdjustedAmountIn);\n    }\n  }\n  /**\r\n   * Given a list of pairs, and a fixed amount in, returns the top `maxNumResults` trades that go from an input token\r\n   * amount to an output token, making at most `maxHops` hops.\r\n   * Note this does not consider aggregation, as routes are linear. It's possible a better route exists by splitting\r\n   * the amount in among multiple routes.\r\n   * @param pairs the pairs to consider in finding the best trade\r\n   * @param nextAmountIn exact amount of input currency to spend\r\n   * @param currencyOut the desired currency out\r\n   * @param maxNumResults maximum number of results to return\r\n   * @param maxHops maximum number of hops a returned trade can make, e.g. 1 hop goes through a single pair\r\n   * @param currentPairs used in recursion; the current list of pairs\r\n   * @param currencyAmountIn used in recursion; the original value of the currencyAmountIn parameter\r\n   * @param bestTrades used in recursion; the current list of best trades\r\n   */;\n  Trade.bestTradeExactIn = function bestTradeExactIn(pairs, currencyAmountIn, currencyOut, _temp,\n  // used in recursion.\n  currentPairs, nextAmountIn, bestTrades) {\n    var _ref = _temp === void 0 ? {} : _temp,\n      _ref$maxNumResults = _ref.maxNumResults,\n      maxNumResults = _ref$maxNumResults === void 0 ? 3 : _ref$maxNumResults,\n      _ref$maxHops = _ref.maxHops,\n      maxHops = _ref$maxHops === void 0 ? 3 : _ref$maxHops;\n    if (currentPairs === void 0) {\n      currentPairs = [];\n    }\n    if (nextAmountIn === void 0) {\n      nextAmountIn = currencyAmountIn;\n    }\n    if (bestTrades === void 0) {\n      bestTrades = [];\n    }\n    !(pairs.length > 0) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'PAIRS') : 0 : void 0;\n    !(maxHops > 0) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'MAX_HOPS') : 0 : void 0;\n    !(currencyAmountIn === nextAmountIn || currentPairs.length > 0) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'INVALID_RECURSION') : 0 : void 0;\n    var amountIn = nextAmountIn.wrapped;\n    var tokenOut = currencyOut.wrapped;\n    for (var i = 0; i < pairs.length; i++) {\n      var pair = pairs[i];\n      // pair irrelevant\n      if (!pair.token0.equals(amountIn.currency) && !pair.token1.equals(amountIn.currency)) continue;\n      if (pair.reserve0.equalTo(ZERO) || pair.reserve1.equalTo(ZERO)) continue;\n      var amountOut = void 0;\n      try {\n        ;\n        var _pair$getOutputAmount2 = pair.getOutputAmount(amountIn);\n        amountOut = _pair$getOutputAmount2[0];\n      } catch (error) {\n        // input too low\n        if (error.isInsufficientInputAmountError) {\n          continue;\n        }\n        throw error;\n      }\n      // we have arrived at the output token, so this is the final trade of one of the paths\n      if (amountOut.currency.equals(tokenOut)) {\n        (0,_uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.sortedInsert)(bestTrades, new Trade(new Route([].concat(currentPairs, [pair]), currencyAmountIn.currency, currencyOut), currencyAmountIn, _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.TradeType.EXACT_INPUT), maxNumResults, tradeComparator);\n      } else if (maxHops > 1 && pairs.length > 1) {\n        var pairsExcludingThisPair = pairs.slice(0, i).concat(pairs.slice(i + 1, pairs.length));\n        // otherwise, consider all the other paths that lead from this token as long as we have not exceeded maxHops\n        Trade.bestTradeExactIn(pairsExcludingThisPair, currencyAmountIn, currencyOut, {\n          maxNumResults: maxNumResults,\n          maxHops: maxHops - 1\n        }, [].concat(currentPairs, [pair]), amountOut, bestTrades);\n      }\n    }\n    return bestTrades;\n  }\n  /**\r\n   * Return the execution price after accounting for slippage tolerance\r\n   * @param slippageTolerance the allowed tolerated slippage\r\n   */;\n  _proto.worstExecutionPrice = function worstExecutionPrice(slippageTolerance) {\n    return new _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.Price(this.inputAmount.currency, this.outputAmount.currency, this.maximumAmountIn(slippageTolerance).quotient, this.minimumAmountOut(slippageTolerance).quotient);\n  }\n  /**\r\n   * similar to the above method but instead targets a fixed output amount\r\n   * given a list of pairs, and a fixed amount out, returns the top `maxNumResults` trades that go from an input token\r\n   * to an output token amount, making at most `maxHops` hops\r\n   * note this does not consider aggregation, as routes are linear. it's possible a better route exists by splitting\r\n   * the amount in among multiple routes.\r\n   * @param pairs the pairs to consider in finding the best trade\r\n   * @param currencyIn the currency to spend\r\n   * @param nextAmountOut the exact amount of currency out\r\n   * @param maxNumResults maximum number of results to return\r\n   * @param maxHops maximum number of hops a returned trade can make, e.g. 1 hop goes through a single pair\r\n   * @param currentPairs used in recursion; the current list of pairs\r\n   * @param currencyAmountOut used in recursion; the original value of the currencyAmountOut parameter\r\n   * @param bestTrades used in recursion; the current list of best trades\r\n   */;\n  Trade.bestTradeExactOut = function bestTradeExactOut(pairs, currencyIn, currencyAmountOut, _temp2,\n  // used in recursion.\n  currentPairs, nextAmountOut, bestTrades) {\n    var _ref2 = _temp2 === void 0 ? {} : _temp2,\n      _ref2$maxNumResults = _ref2.maxNumResults,\n      maxNumResults = _ref2$maxNumResults === void 0 ? 3 : _ref2$maxNumResults,\n      _ref2$maxHops = _ref2.maxHops,\n      maxHops = _ref2$maxHops === void 0 ? 3 : _ref2$maxHops;\n    if (currentPairs === void 0) {\n      currentPairs = [];\n    }\n    if (nextAmountOut === void 0) {\n      nextAmountOut = currencyAmountOut;\n    }\n    if (bestTrades === void 0) {\n      bestTrades = [];\n    }\n    !(pairs.length > 0) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'PAIRS') : 0 : void 0;\n    !(maxHops > 0) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'MAX_HOPS') : 0 : void 0;\n    !(currencyAmountOut === nextAmountOut || currentPairs.length > 0) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'INVALID_RECURSION') : 0 : void 0;\n    var amountOut = nextAmountOut.wrapped;\n    var tokenIn = currencyIn.wrapped;\n    for (var i = 0; i < pairs.length; i++) {\n      var pair = pairs[i];\n      // pair irrelevant\n      if (!pair.token0.equals(amountOut.currency) && !pair.token1.equals(amountOut.currency)) continue;\n      if (pair.reserve0.equalTo(ZERO) || pair.reserve1.equalTo(ZERO)) continue;\n      var amountIn = void 0;\n      try {\n        ;\n        var _pair$getInputAmount2 = pair.getInputAmount(amountOut);\n        amountIn = _pair$getInputAmount2[0];\n      } catch (error) {\n        // not enough liquidity in this pair\n        if (error.isInsufficientReservesError) {\n          continue;\n        }\n        throw error;\n      }\n      // we have arrived at the input token, so this is the first trade of one of the paths\n      if (amountIn.currency.equals(tokenIn)) {\n        (0,_uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.sortedInsert)(bestTrades, new Trade(new Route([pair].concat(currentPairs), currencyIn, currencyAmountOut.currency), currencyAmountOut, _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.TradeType.EXACT_OUTPUT), maxNumResults, tradeComparator);\n      } else if (maxHops > 1 && pairs.length > 1) {\n        var pairsExcludingThisPair = pairs.slice(0, i).concat(pairs.slice(i + 1, pairs.length));\n        // otherwise, consider all the other paths that arrive at this token as long as we have not exceeded maxHops\n        Trade.bestTradeExactOut(pairsExcludingThisPair, currencyIn, currencyAmountOut, {\n          maxNumResults: maxNumResults,\n          maxHops: maxHops - 1\n        }, [pair].concat(currentPairs), amountIn, bestTrades);\n      }\n    }\n    return bestTrades;\n  };\n  return Trade;\n}();\n\nfunction toHex(currencyAmount) {\n  return \"0x\" + currencyAmount.quotient.toString(16);\n}\nvar ZERO_HEX = '0x0';\n/**\r\n * Represents the Uniswap V2 Router, and has static methods for helping execute trades.\r\n */\nvar Router = /*#__PURE__*/function () {\n  /**\r\n   * Cannot be constructed.\r\n   */\n  function Router() {}\n  /**\r\n   * Produces the on-chain method name to call and the hex encoded parameters to pass as arguments for a given trade.\r\n   * @param trade to produce call parameters for\r\n   * @param options options for the call parameters\r\n   */\n  Router.swapCallParameters = function swapCallParameters(trade, options) {\n    var etherIn = trade.inputAmount.currency.isNative;\n    var etherOut = trade.outputAmount.currency.isNative;\n    // the router does not support both ether in and out\n    !!(etherIn && etherOut) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'ETHER_IN_OUT') : 0 : void 0;\n    !(!('ttl' in options) || options.ttl > 0) ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'TTL') : 0 : void 0;\n    var to = (0,_uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.validateAndParseAddress)(options.recipient);\n    var amountIn = toHex(trade.maximumAmountIn(options.allowedSlippage));\n    var amountOut = toHex(trade.minimumAmountOut(options.allowedSlippage));\n    var path = trade.route.path.map(function (token) {\n      return token.address;\n    });\n    var deadline = 'ttl' in options ? \"0x\" + (Math.floor(new Date().getTime() / 1000) + options.ttl).toString(16) : \"0x\" + options.deadline.toString(16);\n    var useFeeOnTransfer = Boolean(options.feeOnTransfer);\n    var methodName;\n    var args;\n    var value;\n    switch (trade.tradeType) {\n      case _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.TradeType.EXACT_INPUT:\n        if (etherIn) {\n          methodName = useFeeOnTransfer ? 'swapExactETHForTokensSupportingFeeOnTransferTokens' : 'swapExactETHForTokens';\n          // (uint amountOutMin, address[] calldata path, address to, uint deadline)\n          args = [amountOut, path, to, deadline];\n          value = amountIn;\n        } else if (etherOut) {\n          methodName = useFeeOnTransfer ? 'swapExactTokensForETHSupportingFeeOnTransferTokens' : 'swapExactTokensForETH';\n          // (uint amountIn, uint amountOutMin, address[] calldata path, address to, uint deadline)\n          args = [amountIn, amountOut, path, to, deadline];\n          value = ZERO_HEX;\n        } else {\n          methodName = useFeeOnTransfer ? 'swapExactTokensForTokensSupportingFeeOnTransferTokens' : 'swapExactTokensForTokens';\n          // (uint amountIn, uint amountOutMin, address[] calldata path, address to, uint deadline)\n          args = [amountIn, amountOut, path, to, deadline];\n          value = ZERO_HEX;\n        }\n        break;\n      case _uniswap_sdk_core__WEBPACK_IMPORTED_MODULE_0__.TradeType.EXACT_OUTPUT:\n        !!useFeeOnTransfer ?  true ? (0,tiny_invariant__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false, 'EXACT_OUT_FOT') : 0 : void 0;\n        if (etherIn) {\n          methodName = 'swapETHForExactTokens';\n          // (uint amountOut, address[] calldata path, address to, uint deadline)\n          args = [amountOut, path, to, deadline];\n          value = amountIn;\n        } else if (etherOut) {\n          methodName = 'swapTokensForExactETH';\n          // (uint amountOut, uint amountInMax, address[] calldata path, address to, uint deadline)\n          args = [amountOut, amountIn, path, to, deadline];\n          value = ZERO_HEX;\n        } else {\n          methodName = 'swapTokensForExactTokens';\n          // (uint amountOut, uint amountInMax, address[] calldata path, address to, uint deadline)\n          args = [amountOut, amountIn, path, to, deadline];\n          value = ZERO_HEX;\n        }\n        break;\n    }\n    return {\n      methodName: methodName,\n      args: args,\n      value: value\n    };\n  };\n  return Router;\n}();\n\n\n//# sourceMappingURL=v2-sdk.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHVuaXN3YXAvdjItc2RrL2Rpc3QvdjItc2RrLmVzbS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBc0w7QUFDOUo7QUFDbUM7QUFDTjtBQUNLO0FBQ25COztBQUV2QztBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixtRUFBb0I7QUFDOUM7QUFDQSxxQ0FBcUMsNENBQUk7QUFDekM7QUFDQSx3QkFBd0IsNENBQUk7QUFDNUIsdUJBQXVCLDRDQUFJO0FBQzNCLHdCQUF3Qiw0Q0FBSTtBQUM1Qix3QkFBd0IsNENBQUk7QUFDNUIseUJBQXlCLDRDQUFJO0FBQzdCLGdDQUFnQyw0Q0FBSTtBQUNwQyxvQ0FBb0Msc0RBQU87QUFDM0MsMkNBQTJDLHNEQUFPOztBQUVsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5RkFBeUY7QUFDekYsSUFBSTtBQUNKO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isa0JBQWtCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFD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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLHdEQUFTO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyx3REFBUztBQUNwQiw2QkFBNkIsS0FBcUMsR0FBRywwREFBUywyQkFBMkIsQ0FBZ0I7QUFDekg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFa047QUFDbk4iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Ac2UtMi9uZXh0anMvLi9ub2RlX21vZHVsZXMvQHVuaXN3YXAvdjItc2RrL2Rpc3QvdjItc2RrLmVzbS5qcz9mNWM2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFYyX0ZBQ1RPUllfQUREUkVTU0VTLCBQZXJjZW50LCBDdXJyZW5jeUFtb3VudCwgc3FydCwgVG9rZW4sIFByaWNlLCBUcmFkZVR5cGUsIEZyYWN0aW9uLCBjb21wdXRlUHJpY2VJbXBhY3QsIHNvcnRlZEluc2VydCwgdmFsaWRhdGVBbmRQYXJzZUFkZHJlc3MgfSBmcm9tICdAdW5pc3dhcC9zZGstY29yZSc7XG5pbXBvcnQgSlNCSSBmcm9tICdqc2JpJztcbmltcG9ydCB7IGdldENyZWF0ZTJBZGRyZXNzIH0gZnJvbSAnQGV0aGVyc3Byb2plY3QvYWRkcmVzcyc7XG5pbXBvcnQgeyBCaWdOdW1iZXIgfSBmcm9tICdAZXRoZXJzcHJvamVjdC9iaWdudW1iZXInO1xuaW1wb3J0IHsga2VjY2FrMjU2LCBwYWNrIH0gZnJvbSAnQGV0aGVyc3Byb2plY3Qvc29saWRpdHknO1xuaW1wb3J0IGludmFyaWFudCBmcm9tICd0aW55LWludmFyaWFudCc7XG5cbi8qKlxyXG4gKiBAZGVwcmVjYXRlZCB1c2UgRkFDVE9SWV9BRERSRVNTX01BUCBpbnN0ZWFkXHJcbiAqL1xudmFyIEZBQ1RPUllfQUREUkVTUyA9ICcweDVDNjliRWU3MDFlZjgxNGEyQjZhM0VERDRCMTY1MkNCOWNjNWFBNmYnO1xudmFyIEZBQ1RPUllfQUREUkVTU19NQVAgPSBWMl9GQUNUT1JZX0FERFJFU1NFUztcbnZhciBJTklUX0NPREVfSEFTSCA9ICcweDk2ZThhYzQyNzcxOThmZjhiNmY3ODU0NzhhYTlhMzlmNDAzY2I3NjhkZDAyY2JlZTMyNmMzZTdkYTM0ODg0NWYnO1xudmFyIE1JTklNVU1fTElRVUlESVRZID0gLyojX19QVVJFX18qL0pTQkkuQmlnSW50KDEwMDApO1xuLy8gZXhwb3J0cyBmb3IgaW50ZXJuYWwgY29uc3VtcHRpb25cbnZhciBaRVJPID0gLyojX19QVVJFX18qL0pTQkkuQmlnSW50KDApO1xudmFyIE9ORSA9IC8qI19fUFVSRV9fKi9KU0JJLkJpZ0ludCgxKTtcbnZhciBGSVZFID0gLyojX19QVVJFX18qL0pTQkkuQmlnSW50KDUpO1xudmFyIF85OTcgPSAvKiNfX1BVUkVfXyovSlNCSS5CaWdJbnQoOTk3KTtcbnZhciBfMTAwMCA9IC8qI19fUFVSRV9fKi9KU0JJLkJpZ0ludCgxMDAwKTtcbnZhciBCQVNJU19QT0lOVFMgPSAvKiNfX1BVUkVfXyovSlNCSS5CaWdJbnQoMTAwMDApO1xudmFyIFpFUk9fUEVSQ0VOVCA9IC8qI19fUFVSRV9fKi9uZXcgUGVyY2VudChaRVJPKTtcbnZhciBPTkVfSFVORFJFRF9QRVJDRU5UID0gLyojX19QVVJFX18qL25ldyBQZXJjZW50KE9ORSk7XG5cbmZ1bmN0aW9uIF9jb25zdHJ1Y3QodCwgZSwgcikge1xuICBpZiAoX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpKSByZXR1cm4gUmVmbGVjdC5jb25zdHJ1Y3QuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgdmFyIG8gPSBbbnVsbF07XG4gIG8ucHVzaC5hcHBseShvLCBlKTtcbiAgdmFyIHAgPSBuZXcgKHQuYmluZC5hcHBseSh0LCBvKSkoKTtcbiAgcmV0dXJuIHIgJiYgX3NldFByb3RvdHlwZU9mKHAsIHIucHJvdG90eXBlKSwgcDtcbn1cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7XG4gIHRyeSB7XG4gICAgdmFyIHQgPSAhQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpO1xuICB9IGNhdGNoICh0KSB7fVxuICByZXR1cm4gKF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICEhdDtcbiAgfSkoKTtcbn1cbmZ1bmN0aW9uIF90b1ByaW1pdGl2ZSh0LCByKSB7XG4gIGlmIChcIm9iamVjdFwiICE9IHR5cGVvZiB0IHx8ICF0KSByZXR1cm4gdDtcbiAgdmFyIGUgPSB0W1N5bWJvbC50b1ByaW1pdGl2ZV07XG4gIGlmICh2b2lkIDAgIT09IGUpIHtcbiAgICB2YXIgaSA9IGUuY2FsbCh0LCByIHx8IFwiZGVmYXVsdFwiKTtcbiAgICBpZiAoXCJvYmplY3RcIiAhPSB0eXBlb2YgaSkgcmV0dXJuIGk7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpO1xuICB9XG4gIHJldHVybiAoXCJzdHJpbmdcIiA9PT0gciA/IFN0cmluZyA6IE51bWJlcikodCk7XG59XG5mdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleSh0KSB7XG4gIHZhciBpID0gX3RvUHJpbWl0aXZlKHQsIFwic3RyaW5nXCIpO1xuICByZXR1cm4gXCJzeW1ib2xcIiA9PSB0eXBlb2YgaSA/IGkgOiBTdHJpbmcoaSk7XG59XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBfdG9Qcm9wZXJ0eUtleShkZXNjcmlwdG9yLmtleSksIGRlc2NyaXB0b3IpO1xuICB9XG59XG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb25zdHJ1Y3RvciwgXCJwcm90b3R5cGVcIiwge1xuICAgIHdyaXRhYmxlOiBmYWxzZVxuICB9KTtcbiAgcmV0dXJuIENvbnN0cnVjdG9yO1xufVxuZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7XG4gIHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzO1xuICBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpO1xufVxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHtcbiAgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKSA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7XG4gICAgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTtcbiAgfTtcbiAgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTtcbn1cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7XG4gIF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCkgOiBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkge1xuICAgIG8uX19wcm90b19fID0gcDtcbiAgICByZXR1cm4gbztcbiAgfTtcbiAgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTtcbn1cbmZ1bmN0aW9uIF9pc05hdGl2ZUZ1bmN0aW9uKGZuKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIEZ1bmN0aW9uLnRvU3RyaW5nLmNhbGwoZm4pLmluZGV4T2YoXCJbbmF0aXZlIGNvZGVdXCIpICE9PSAtMTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiB0eXBlb2YgZm4gPT09IFwiZnVuY3Rpb25cIjtcbiAgfVxufVxuZnVuY3Rpb24gX3dyYXBOYXRpdmVTdXBlcihDbGFzcykge1xuICB2YXIgX2NhY2hlID0gdHlwZW9mIE1hcCA9PT0gXCJmdW5jdGlvblwiID8gbmV3IE1hcCgpIDogdW5kZWZpbmVkO1xuICBfd3JhcE5hdGl2ZVN1cGVyID0gZnVuY3Rpb24gX3dyYXBOYXRpdmVTdXBlcihDbGFzcykge1xuICAgIGlmIChDbGFzcyA9PT0gbnVsbCB8fCAhX2lzTmF0aXZlRnVuY3Rpb24oQ2xhc3MpKSByZXR1cm4gQ2xhc3M7XG4gICAgaWYgKHR5cGVvZiBDbGFzcyAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgX2NhY2hlICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICBpZiAoX2NhY2hlLmhhcyhDbGFzcykpIHJldHVybiBfY2FjaGUuZ2V0KENsYXNzKTtcbiAgICAgIF9jYWNoZS5zZXQoQ2xhc3MsIFdyYXBwZXIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBXcmFwcGVyKCkge1xuICAgICAgcmV0dXJuIF9jb25zdHJ1Y3QoQ2xhc3MsIGFyZ3VtZW50cywgX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yKTtcbiAgICB9XG4gICAgV3JhcHBlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKENsYXNzLnByb3RvdHlwZSwge1xuICAgICAgY29uc3RydWN0b3I6IHtcbiAgICAgICAgdmFsdWU6IFdyYXBwZXIsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihXcmFwcGVyLCBDbGFzcyk7XG4gIH07XG4gIHJldHVybiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKTtcbn1cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikge1xuICBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7XG4gICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO1xuICB9XG4gIHJldHVybiBzZWxmO1xufVxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikge1xuICBpZiAoIW8pIHJldHVybjtcbiAgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbiAgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpO1xuICBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lO1xuICBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTtcbiAgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xufVxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHtcbiAgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgYXJyMltpXSA9IGFycltpXTtcbiAgcmV0dXJuIGFycjI7XG59XG5mdW5jdGlvbiBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlckxvb3NlKG8sIGFsbG93QXJyYXlMaWtlKSB7XG4gIHZhciBpdCA9IHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdIHx8IG9bXCJAQGl0ZXJhdG9yXCJdO1xuICBpZiAoaXQpIHJldHVybiAoaXQgPSBpdC5jYWxsKG8pKS5uZXh0LmJpbmQoaXQpO1xuICBpZiAoQXJyYXkuaXNBcnJheShvKSB8fCAoaXQgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobykpIHx8IGFsbG93QXJyYXlMaWtlICYmIG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSB7XG4gICAgaWYgKGl0KSBvID0gaXQ7XG4gICAgdmFyIGkgPSAwO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoaSA+PSBvLmxlbmd0aCkgcmV0dXJuIHtcbiAgICAgICAgZG9uZTogdHJ1ZVxuICAgICAgfTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRvbmU6IGZhbHNlLFxuICAgICAgICB2YWx1ZTogb1tpKytdXG4gICAgICB9O1xuICAgIH07XG4gIH1cbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpO1xufVxuXG4vLyBzZWUgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzQxMTAyMzA2XG52YXIgQ0FOX1NFVF9QUk9UT1RZUEUgPSAoJ3NldFByb3RvdHlwZU9mJyBpbiBPYmplY3QpO1xuLyoqXHJcbiAqIEluZGljYXRlcyB0aGF0IHRoZSBwYWlyIGhhcyBpbnN1ZmZpY2llbnQgcmVzZXJ2ZXMgZm9yIGEgZGVzaXJlZCBvdXRwdXQgYW1vdW50LiBJLmUuIHRoZSBhbW91bnQgb2Ygb3V0cHV0IGNhbm5vdCBiZVxyXG4gKiBvYnRhaW5lZCBieSBzZW5kaW5nIGFueSBhbW91bnQgb2YgaW5wdXQuXHJcbiAqL1xudmFyIEluc3VmZmljaWVudFJlc2VydmVzRXJyb3IgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9FcnJvcikge1xuICBfaW5oZXJpdHNMb29zZShJbnN1ZmZpY2llbnRSZXNlcnZlc0Vycm9yLCBfRXJyb3IpO1xuICBmdW5jdGlvbiBJbnN1ZmZpY2llbnRSZXNlcnZlc0Vycm9yKCkge1xuICAgIHZhciBfdGhpcztcbiAgICBfdGhpcyA9IF9FcnJvci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgX3RoaXMuaXNJbnN1ZmZpY2llbnRSZXNlcnZlc0Vycm9yID0gdHJ1ZTtcbiAgICBfdGhpcy5uYW1lID0gX3RoaXMuY29uc3RydWN0b3IubmFtZTtcbiAgICBpZiAoQ0FOX1NFVF9QUk9UT1RZUEUpIE9iamVjdC5zZXRQcm90b3R5cGVPZihfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgKHRoaXMgaW5zdGFuY2VvZiBJbnN1ZmZpY2llbnRSZXNlcnZlc0Vycm9yID8gdGhpcy5jb25zdHJ1Y3RvciA6IHZvaWQgMCkucHJvdG90eXBlKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgcmV0dXJuIEluc3VmZmljaWVudFJlc2VydmVzRXJyb3I7XG59KCAvKiNfX1BVUkVfXyovX3dyYXBOYXRpdmVTdXBlcihFcnJvcikpO1xuLyoqXHJcbiAqIEluZGljYXRlcyB0aGF0IHRoZSBpbnB1dCBhbW91bnQgaXMgdG9vIHNtYWxsIHRvIHByb2R1Y2UgYW55IGFtb3VudCBvZiBvdXRwdXQuIEkuZS4gdGhlIGFtb3VudCBvZiBpbnB1dCBzZW50IGlzIGxlc3NcclxuICogdGhhbiB0aGUgcHJpY2Ugb2YgYSBzaW5nbGUgdW5pdCBvZiBvdXRwdXQgYWZ0ZXIgZmVlcy5cclxuICovXG52YXIgSW5zdWZmaWNpZW50SW5wdXRBbW91bnRFcnJvciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0Vycm9yMikge1xuICBfaW5oZXJpdHNMb29zZShJbnN1ZmZpY2llbnRJbnB1dEFtb3VudEVycm9yLCBfRXJyb3IyKTtcbiAgZnVuY3Rpb24gSW5zdWZmaWNpZW50SW5wdXRBbW91bnRFcnJvcigpIHtcbiAgICB2YXIgX3RoaXMyO1xuICAgIF90aGlzMiA9IF9FcnJvcjIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgIF90aGlzMi5pc0luc3VmZmljaWVudElucHV0QW1vdW50RXJyb3IgPSB0cnVlO1xuICAgIF90aGlzMi5uYW1lID0gX3RoaXMyLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgaWYgKENBTl9TRVRfUFJPVE9UWVBFKSBPYmplY3Quc2V0UHJvdG90eXBlT2YoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpczIpLCAodGhpcyBpbnN0YW5jZW9mIEluc3VmZmljaWVudElucHV0QW1vdW50RXJyb3IgPyB0aGlzLmNvbnN0cnVjdG9yIDogdm9pZCAwKS5wcm90b3R5cGUpO1xuICAgIHJldHVybiBfdGhpczI7XG4gIH1cbiAgcmV0dXJuIEluc3VmZmljaWVudElucHV0QW1vdW50RXJyb3I7XG59KCAvKiNfX1BVUkVfXyovX3dyYXBOYXRpdmVTdXBlcihFcnJvcikpO1xuXG52YXIgY29tcHV0ZVBhaXJBZGRyZXNzID0gZnVuY3Rpb24gY29tcHV0ZVBhaXJBZGRyZXNzKF9yZWYpIHtcbiAgdmFyIGZhY3RvcnlBZGRyZXNzID0gX3JlZi5mYWN0b3J5QWRkcmVzcyxcbiAgICB0b2tlbkEgPSBfcmVmLnRva2VuQSxcbiAgICB0b2tlbkIgPSBfcmVmLnRva2VuQjtcbiAgdmFyIF9yZWYyID0gdG9rZW5BLnNvcnRzQmVmb3JlKHRva2VuQikgPyBbdG9rZW5BLCB0b2tlbkJdIDogW3Rva2VuQiwgdG9rZW5BXSxcbiAgICB0b2tlbjAgPSBfcmVmMlswXSxcbiAgICB0b2tlbjEgPSBfcmVmMlsxXTsgLy8gZG9lcyBzYWZldHkgY2hlY2tzXG4gIHJldHVybiBnZXRDcmVhdGUyQWRkcmVzcyhmYWN0b3J5QWRkcmVzcywga2VjY2FrMjU2KFsnYnl0ZXMnXSwgW3BhY2soWydhZGRyZXNzJywgJ2FkZHJlc3MnXSwgW3Rva2VuMC5hZGRyZXNzLCB0b2tlbjEuYWRkcmVzc10pXSksIElOSVRfQ09ERV9IQVNIKTtcbn07XG52YXIgUGFpciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFBhaXIoY3VycmVuY3lBbW91bnRBLCB0b2tlbkFtb3VudEIpIHtcbiAgICB2YXIgdG9rZW5BbW91bnRzID0gY3VycmVuY3lBbW91bnRBLmN1cnJlbmN5LnNvcnRzQmVmb3JlKHRva2VuQW1vdW50Qi5jdXJyZW5jeSkgLy8gZG9lcyBzYWZldHkgY2hlY2tzXG4gICAgPyBbY3VycmVuY3lBbW91bnRBLCB0b2tlbkFtb3VudEJdIDogW3Rva2VuQW1vdW50QiwgY3VycmVuY3lBbW91bnRBXTtcbiAgICB0aGlzLmxpcXVpZGl0eVRva2VuID0gbmV3IFRva2VuKHRva2VuQW1vdW50c1swXS5jdXJyZW5jeS5jaGFpbklkLCBQYWlyLmdldEFkZHJlc3ModG9rZW5BbW91bnRzWzBdLmN1cnJlbmN5LCB0b2tlbkFtb3VudHNbMV0uY3VycmVuY3kpLCAxOCwgJ1VOSS1WMicsICdVbmlzd2FwIFYyJyk7XG4gICAgdGhpcy50b2tlbkFtb3VudHMgPSB0b2tlbkFtb3VudHM7XG4gIH1cbiAgUGFpci5nZXRBZGRyZXNzID0gZnVuY3Rpb24gZ2V0QWRkcmVzcyh0b2tlbkEsIHRva2VuQikge1xuICAgIHZhciBfRkFDVE9SWV9BRERSRVNTX01BUCQ7XG4gICAgdmFyIGZhY3RvcnlBZGRyZXNzID0gKF9GQUNUT1JZX0FERFJFU1NfTUFQJCA9IEZBQ1RPUllfQUREUkVTU19NQVBbdG9rZW5BLmNoYWluSWRdKSAhPSBudWxsID8gX0ZBQ1RPUllfQUREUkVTU19NQVAkIDogRkFDVE9SWV9BRERSRVNTO1xuICAgIHJldHVybiBjb21wdXRlUGFpckFkZHJlc3Moe1xuICAgICAgZmFjdG9yeUFkZHJlc3M6IGZhY3RvcnlBZGRyZXNzLFxuICAgICAgdG9rZW5BOiB0b2tlbkEsXG4gICAgICB0b2tlbkI6IHRva2VuQlxuICAgIH0pO1xuICB9XG4gIC8qKlxyXG4gICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgdG9rZW4gaXMgZWl0aGVyIHRva2VuMCBvciB0b2tlbjFcclxuICAgKiBAcGFyYW0gdG9rZW4gdG8gY2hlY2tcclxuICAgKi87XG4gIHZhciBfcHJvdG8gPSBQYWlyLnByb3RvdHlwZTtcbiAgX3Byb3RvLmludm9sdmVzVG9rZW4gPSBmdW5jdGlvbiBpbnZvbHZlc1Rva2VuKHRva2VuKSB7XG4gICAgcmV0dXJuIHRva2VuLmVxdWFscyh0aGlzLnRva2VuMCkgfHwgdG9rZW4uZXF1YWxzKHRoaXMudG9rZW4xKTtcbiAgfVxuICAvKipcclxuICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IG1pZCBwcmljZSBvZiB0aGUgcGFpciBpbiB0ZXJtcyBvZiB0b2tlbjAsIGkuZS4gdGhlIHJhdGlvIG9mIHJlc2VydmUxIHRvIHJlc2VydmUwXHJcbiAgICovO1xuICAvKipcclxuICAgKiBSZXR1cm4gdGhlIHByaWNlIG9mIHRoZSBnaXZlbiB0b2tlbiBpbiB0ZXJtcyBvZiB0aGUgb3RoZXIgdG9rZW4gaW4gdGhlIHBhaXIuXHJcbiAgICogQHBhcmFtIHRva2VuIHRva2VuIHRvIHJldHVybiBwcmljZSBvZlxyXG4gICAqL1xuICBfcHJvdG8ucHJpY2VPZiA9IGZ1bmN0aW9uIHByaWNlT2YodG9rZW4pIHtcbiAgICAhdGhpcy5pbnZvbHZlc1Rva2VuKHRva2VuKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ1RPS0VOJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIHJldHVybiB0b2tlbi5lcXVhbHModGhpcy50b2tlbjApID8gdGhpcy50b2tlbjBQcmljZSA6IHRoaXMudG9rZW4xUHJpY2U7XG4gIH1cbiAgLyoqXHJcbiAgICogUmV0dXJucyB0aGUgY2hhaW4gSUQgb2YgdGhlIHRva2VucyBpbiB0aGUgcGFpci5cclxuICAgKi87XG4gIF9wcm90by5yZXNlcnZlT2YgPSBmdW5jdGlvbiByZXNlcnZlT2YodG9rZW4pIHtcbiAgICAhdGhpcy5pbnZvbHZlc1Rva2VuKHRva2VuKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ1RPS0VOJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIHJldHVybiB0b2tlbi5lcXVhbHModGhpcy50b2tlbjApID8gdGhpcy5yZXNlcnZlMCA6IHRoaXMucmVzZXJ2ZTE7XG4gIH1cbiAgLyoqXHJcbiAgICogZ2V0QW1vdW50T3V0IGlzIHRoZSBsaW5lYXIgYWxnZWJyYSBvZiByZXNlcnZlIHJhdGlvIGFnYWluc3QgYW1vdW50SW46YW1vdW50T3V0LlxyXG4gICAqIGh0dHBzOi8vZXRoZXJldW0uc3RhY2tleGNoYW5nZS5jb20vcXVlc3Rpb25zLzEwMTYyOS93aGF0LWlzLW1hdGgtZm9yLXVuaXN3YXAtY2FsY3VsYXRlcy10aGUtYW1vdW50b3V0LWFuZC1hbW91bnRpbi13aHktOTk3LWFuZC0xMDAwXHJcbiAgICogaGFzIHRoZSBtYXRoIGRlZHVjdGlvbiBmb3IgdGhlIHJlc2VydmUgY2FsY3VsYXRpb24gd2l0aG91dCBmZWUtb24tdHJhbnNmZXIgZmVlcy5cclxuICAgKlxyXG4gICAqIFdpdGggZmVlLW9uLXRyYW5zZmVyIHRheCwgaW50dWl0aXZlbHkgaXQncyBqdXN0OlxyXG4gICAqIGlucHV0QW1vdW50V2l0aEZlZUFuZFRheCA9IDAuOTk3ICogKDEgLSBhbW91bnRJbi5zZWxsRmVlc0JpcHMgLyAxMDAwMCkgKiBhbW91bnRJblxyXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICA9ICgxIC0gYW1vdW50SW4uc2VsbEZlZXNCaXBzIC8gMTAwMDApICogYW1vdW50SW5XaXRoRmVlXHJcbiAgICogd2hlcmUgYW1vdW50SW5XaXRoRmVlIGlzIHRoZSBhbW91bnRJbiBhZnRlciB0YWtpbmcgb3V0IHRoZSBMUCBmZWVzXHJcbiAgICogb3V0cHV0QW1vdW50V2l0aFRheCA9IGFtb3VudE91dCAqICgxIC0gYW1vdW50T3V0LmJ1eUZlZXNCaXBzIC8gMTAwMDApXHJcbiAgICpcclxuICAgKiBCdXQgd2UgYXJlIGlsbHVzdHJhdGluZyB0aGUgbWF0aCBkZWR1Y3Rpb24gYmVsb3cgdG8gZW5zdXJlIHRoYXQncyB0aGUgY2FzZS5cclxuICAgKlxyXG4gICAqIGJlZm9yZSBzd2FwIEEgKiBCID0gSyB3aGVyZSBBID0gcmVzZXJ2ZUluIEIgPSByZXNlcnZlT3V0XHJcbiAgICpcclxuICAgKiBhZnRlciBzd2FwIEEnICogQicgPSBLIHdoZXJlIG9ubHkgayBpcyBhIGNvbnN0YW50IHZhbHVlXHJcbiAgICpcclxuICAgKiBnZXRBbW91bnRPdXRcclxuICAgKlxyXG4gICAqIEEnID0gQSArIDAuOTk3ICogKDEgLSBhbW91bnRJbi5zZWxsRmVlc0JpcHMgLyAxMDAwMCkgKiBhbW91bnRJbiAjIGhlcmUgMC4zJSBpcyBkZWR1Y3RlZFxyXG4gICAqIEInID0gQiAtIGFtb3VudE91dCAqICgxIC0gYW1vdW50T3V0LmJ1eUZlZXNCaXBzIC8gMTAwMDApXHJcbiAgICogYW1vdW50T3V0ID0gKEIgLSBCJykgLyAoMSAtIGFtb3VudE91dC5idXlGZWVzQmlwcyAvIDEwMDAwKSAjIHdoZXJlIEEnICogQicgc3RpbGwgaXMga1xyXG4gICAqICAgICAgICAgICA9IChCIC0gSy8oQSArIDAuOTk3ICogKDEgLSBhbW91bnRJbi5zZWxsRmVlc0JpcHMgLyAxMDAwMCkgKiBhbW91bnRJbikpXHJcbiAgICogICAgICAgICAgICAgL1xyXG4gICAqICAgICAgICAgICAgICgxIC0gYW1vdW50T3V0LmJ1eUZlZXNCaXBzIC8gMTAwMDApXHJcbiAgICogICAgICAgICAgID0gKEIgLSBBQi8oQSArIDAuOTk3ICogKDEgLSBhbW91bnRJbi5zZWxsRmVlc0JpcHMgLyAxMDAwMCkgKiBhbW91bnRJbikpXHJcbiAgICogICAgICAgICAgICAgL1xyXG4gICAqICAgICAgICAgICAgICgxIC0gYW1vdW50T3V0LmJ1eUZlZXNCaXBzIC8gMTAwMDApXHJcbiAgICogICAgICAgICAgID0gKChCQSArIEIgKiAwLjk5NyAqICgxIC0gYW1vdW50SW4uc2VsbEZlZXNCaXBzIC8gMTAwMDApICogYW1vdW50SW4gLSBBQikvKEEgKyAwLjk5NyAqICgxIC0gYW1vdW50SW4uc2VsbEZlZXNCaXBzIC8gMTAwMDApICogYW1vdW50SW4pKVxyXG4gICAqICAgICAgICAgICAgIC9cclxuICAgKiAgICAgICAgICAgICAoMSAtIGFtb3VudE91dC5idXlGZWVzQmlwcyAvIDEwMDAwKVxyXG4gICAqICAgICAgICAgICA9IChCICogMC45OTcgKiAoMSAtIGFtb3VudEluLnNlbGxGZWVzQmlwcyAvIDEwMDAwKSAqIGFtb3VudEluIC8gKEEgKyAwLjk5NyAqICgxIC0gYW1vdW50SW4uc2VsbEZlZXNCaXBzIC8gMTAwMDApICogYW1vdW50SW4pXHJcbiAgICogICAgICAgICAgICAgL1xyXG4gICAqICAgICAgICAgICAgICgxIC0gYW1vdW50T3V0LmJ1eUZlZXNCaXBzIC8gMTAwMDApXHJcbiAgICogYW1vdW50T3V0ICogKDEgLSBhbW91bnRPdXQuYnV5RmVlc0JpcHMgLyAxMDAwMCkgPSAoQiAqIDAuOTk3ICogKDEgLSBhbW91bnRJbi5zZWxsRmVlc0JpcHMgLyAxMDAwMCkgKiBhbW91bnRJblxyXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC9cclxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoQSArIDAuOTk3ICogKDEgLSBhbW91bnRJbi5zZWxsRmVlc0JpcHMgLyAxMDAwMCkgKiBhbW91bnRJbilcclxuICAgKlxyXG4gICAqIG91dHB1dEFtb3VudFdpdGhUYXggPSAoQiAqIDAuOTk3ICogKDEgLSBhbW91bnRJbi5zZWxsRmVlc0JpcHMgLyAxMDAwMCkgKiBhbW91bnRJblxyXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAvXHJcbiAgICogICAgICAgICAgICAgICAgICAgICAgIChBICsgMC45OTcgKiAoMSAtIGFtb3VudEluLnNlbGxGZWVzQmlwcyAvIDEwMDAwKSAqIGFtb3VudEluKVxyXG4gICAqICAgICAgICAgICAgICAgICAgICAgICA9IChCICogMC45OTcgKiAoMSAtIGFtb3VudEluLnNlbGxGZWVzQmlwcyAvIDEwMDAwKSAqIGFtb3VudEluICogMTAwMFxyXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAvXHJcbiAgICogICAgICAgICAgICAgICAgICAgICAgICgoQSArIDAuOTk3ICogKDEgLSBhbW91bnRJbi5zZWxsRmVlc0JpcHMgLyAxMDAwMCkgKiBhbW91bnRJbikgKiAxMDAwKVxyXG4gICAqICAgICAgICAgICAgICAgICAgICAgPSAoQiAqICgxIC0gYW1vdW50SW4uc2VsbEZlZXNCaXBzIC8gMTAwMDApIDk5NyAqICogYW1vdW50SW5cclxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgL1xyXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAoMTAwMCAqIEEgKyAoMSAtIGFtb3VudEluLnNlbGxGZWVzQmlwcyAvIDEwMDAwKSAqIDk5NyAqIGFtb3VudEluKVxyXG4gICAqICAgICAgICAgICAgICAgICAgICAgPSAoQiAqICgxIC0gYW1vdW50SW4uc2VsbEZlZXNCaXBzIC8gMTAwMDApICogaW5wdXRBbW91bnRXaXRoRmVlKVxyXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAvXHJcbiAgICogICAgICAgICAgICAgICAgICAgICAgICgxMDAwICogQSArICgxIC0gYW1vdW50SW4uc2VsbEZlZXNCaXBzIC8gMTAwMDApICogaW5wdXRBbW91bnRXaXRoRmVlKVxyXG4gICAqICAgICAgICAgICAgICAgICAgICAgPSAoQiAqIGlucHV0QW1vdW50V2l0aEZlZUFuZFRheClcclxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgL1xyXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAoMTAwMCAqIEEgKyBpbnB1dEFtb3VudFdpdGhGZWVBbmRUYXgpXHJcbiAgICpcclxuICAgKiBpbnB1dEFtb3VudFdpdGhGZWVBbmRUYXggPSAoMSAtIGFtb3VudEluLnNlbGxGZWVzQmlwcyAvIDEwMDAwKSAqIGlucHV0QW1vdW50V2l0aEZlZVxyXG4gICAqIG91dHB1dEFtb3VudFdpdGhUYXggPSBhbW91bnRPdXQgKiAoMSAtIGFtb3VudE91dC5idXlGZWVzQmlwcyAvIDEwMDAwKVxyXG4gICAqXHJcbiAgICogQHBhcmFtIGlucHV0QW1vdW50XHJcbiAgICogQHBhcmFtIGNhbGN1bGF0ZUZvdEZlZXNcclxuICAgKi87XG4gIF9wcm90by5nZXRPdXRwdXRBbW91bnQgPSBmdW5jdGlvbiBnZXRPdXRwdXRBbW91bnQoaW5wdXRBbW91bnQsIGNhbGN1bGF0ZUZvdEZlZXMpIHtcbiAgICBpZiAoY2FsY3VsYXRlRm90RmVlcyA9PT0gdm9pZCAwKSB7XG4gICAgICBjYWxjdWxhdGVGb3RGZWVzID0gdHJ1ZTtcbiAgICB9XG4gICAgIXRoaXMuaW52b2x2ZXNUb2tlbihpbnB1dEFtb3VudC5jdXJyZW5jeSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdUT0tFTicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICBpZiAoSlNCSS5lcXVhbCh0aGlzLnJlc2VydmUwLnF1b3RpZW50LCBaRVJPKSB8fCBKU0JJLmVxdWFsKHRoaXMucmVzZXJ2ZTEucXVvdGllbnQsIFpFUk8pKSB7XG4gICAgICB0aHJvdyBuZXcgSW5zdWZmaWNpZW50UmVzZXJ2ZXNFcnJvcigpO1xuICAgIH1cbiAgICB2YXIgaW5wdXRSZXNlcnZlID0gdGhpcy5yZXNlcnZlT2YoaW5wdXRBbW91bnQuY3VycmVuY3kpO1xuICAgIHZhciBvdXRwdXRSZXNlcnZlID0gdGhpcy5yZXNlcnZlT2YoaW5wdXRBbW91bnQuY3VycmVuY3kuZXF1YWxzKHRoaXMudG9rZW4wKSA/IHRoaXMudG9rZW4xIDogdGhpcy50b2tlbjApO1xuICAgIHZhciBwZXJjZW50QWZ0ZXJTZWxsRmVlcyA9IGNhbGN1bGF0ZUZvdEZlZXMgPyB0aGlzLmRlcml2ZVBlcmNlbnRBZnRlclNlbGxGZWVzKGlucHV0QW1vdW50KSA6IFpFUk9fUEVSQ0VOVDtcbiAgICB2YXIgaW5wdXRBbW91bnRBZnRlclRheCA9IHBlcmNlbnRBZnRlclNlbGxGZWVzLmdyZWF0ZXJUaGFuKFpFUk9fUEVSQ0VOVCkgPyBDdXJyZW5jeUFtb3VudC5mcm9tUmF3QW1vdW50KGlucHV0QW1vdW50LmN1cnJlbmN5LCBwZXJjZW50QWZ0ZXJTZWxsRmVlcy5tdWx0aXBseShpbnB1dEFtb3VudCkucXVvdGllbnQgLy8gZnJhY3Rpb24ucXVvdGllbnQgd2lsbCByb3VuZCBkb3duIGJ5IGl0c2VsZiwgd2hpY2ggaXMgZGVzaXJlZFxuICAgICkgOiBpbnB1dEFtb3VudDtcbiAgICB2YXIgaW5wdXRBbW91bnRXaXRoRmVlQW5kQWZ0ZXJUYXggPSBKU0JJLm11bHRpcGx5KGlucHV0QW1vdW50QWZ0ZXJUYXgucXVvdGllbnQsIF85OTcpO1xuICAgIHZhciBudW1lcmF0b3IgPSBKU0JJLm11bHRpcGx5KGlucHV0QW1vdW50V2l0aEZlZUFuZEFmdGVyVGF4LCBvdXRwdXRSZXNlcnZlLnF1b3RpZW50KTtcbiAgICB2YXIgZGVub21pbmF0b3IgPSBKU0JJLmFkZChKU0JJLm11bHRpcGx5KGlucHV0UmVzZXJ2ZS5xdW90aWVudCwgXzEwMDApLCBpbnB1dEFtb3VudFdpdGhGZWVBbmRBZnRlclRheCk7XG4gICAgdmFyIG91dHB1dEFtb3VudCA9IEN1cnJlbmN5QW1vdW50LmZyb21SYXdBbW91bnQoaW5wdXRBbW91bnQuY3VycmVuY3kuZXF1YWxzKHRoaXMudG9rZW4wKSA/IHRoaXMudG9rZW4xIDogdGhpcy50b2tlbjAsIEpTQkkuZGl2aWRlKG51bWVyYXRvciwgZGVub21pbmF0b3IpIC8vIEpTQkkuZGl2aWRlIHdpbGwgcm91bmQgZG93biBieSBpdHNlbGYsIHdoaWNoIGlzIGRlc2lyZWRcbiAgICApO1xuICAgIGlmIChKU0JJLmVxdWFsKG91dHB1dEFtb3VudC5xdW90aWVudCwgWkVSTykpIHtcbiAgICAgIHRocm93IG5ldyBJbnN1ZmZpY2llbnRJbnB1dEFtb3VudEVycm9yKCk7XG4gICAgfVxuICAgIHZhciBwZXJjZW50QWZ0ZXJCdXlGZWVzID0gY2FsY3VsYXRlRm90RmVlcyA/IHRoaXMuZGVyaXZlUGVyY2VudEFmdGVyQnV5RmVlcyhvdXRwdXRBbW91bnQpIDogWkVST19QRVJDRU5UO1xuICAgIHZhciBvdXRwdXRBbW91bnRBZnRlclRheCA9IHBlcmNlbnRBZnRlckJ1eUZlZXMuZ3JlYXRlclRoYW4oWkVST19QRVJDRU5UKSA/IEN1cnJlbmN5QW1vdW50LmZyb21SYXdBbW91bnQob3V0cHV0QW1vdW50LmN1cnJlbmN5LCBvdXRwdXRBbW91bnQubXVsdGlwbHkocGVyY2VudEFmdGVyQnV5RmVlcykucXVvdGllbnQgLy8gZnJhY3Rpb24ucXVvdGllbnQgd2lsbCByb3VuZCBkb3duIGJ5IGl0c2VsZiwgd2hpY2ggaXMgZGVzaXJlZFxuICAgICkgOiBvdXRwdXRBbW91bnQ7XG4gICAgaWYgKEpTQkkuZXF1YWwob3V0cHV0QW1vdW50QWZ0ZXJUYXgucXVvdGllbnQsIFpFUk8pKSB7XG4gICAgICB0aHJvdyBuZXcgSW5zdWZmaWNpZW50SW5wdXRBbW91bnRFcnJvcigpO1xuICAgIH1cbiAgICByZXR1cm4gW291dHB1dEFtb3VudEFmdGVyVGF4LCBuZXcgUGFpcihpbnB1dFJlc2VydmUuYWRkKGlucHV0QW1vdW50QWZ0ZXJUYXgpLCBvdXRwdXRSZXNlcnZlLnN1YnRyYWN0KG91dHB1dEFtb3VudEFmdGVyVGF4KSldO1xuICB9XG4gIC8qKlxyXG4gICAqIGdldEFtb3VudEluIGlzIHRoZSBsaW5lYXIgYWxnZWJyYSBvZiByZXNlcnZlIHJhdGlvIGFnYWluc3QgYW1vdW50SW46YW1vdW50T3V0LlxyXG4gICAqIGh0dHBzOi8vZXRoZXJldW0uc3RhY2tleGNoYW5nZS5jb20vcXVlc3Rpb25zLzEwMTYyOS93aGF0LWlzLW1hdGgtZm9yLXVuaXN3YXAtY2FsY3VsYXRlcy10aGUtYW1vdW50b3V0LWFuZC1hbW91bnRpbi13aHktOTk3LWFuZC0xMDAwXHJcbiAgICogaGFzIHRoZSBtYXRoIGRlZHVjdGlvbiBmb3IgdGhlIHJlc2VydmUgY2FsY3VsYXRpb24gd2l0aG91dCBmZWUtb24tdHJhbnNmZXIgZmVlcy5cclxuICAgKlxyXG4gICAqIFdpdGggZmVlLW9uLXRyYW5zZmVyIGZlZXMsIGludHVpdGl2ZWx5IGl0J3MganVzdDpcclxuICAgKiBvdXRwdXRBbW91bnRXaXRoVGF4ID0gYW1vdW50T3V0IC8gKDEgLSBhbW91bnRPdXQuYnV5RmVlc0JpcHMgLyAxMDAwMClcclxuICAgKiBpbnB1dEFtb3VudFdpdGhUYXggPSBhbW91bnRJbiAvICgxIC0gYW1vdW50SW4uc2VsbEZlZXNCaXBzIC8gMTAwMDApIC8gMC45OTdcclxuICAgKlxyXG4gICAqIEJ1dCB3ZSBhcmUgaWxsdXN0cmF0aW5nIHRoZSBtYXRoIGRlZHVjdGlvbiBiZWxvdyB0byBlbnN1cmUgdGhhdCdzIHRoZSBjYXNlLlxyXG4gICAqXHJcbiAgICogYmVmb3JlIHN3YXAgQSAqIEIgPSBLIHdoZXJlIEEgPSByZXNlcnZlSW4gQiA9IHJlc2VydmVPdXRcclxuICAgKlxyXG4gICAqIGFmdGVyIHN3YXAgQScgKiBCJyA9IEsgd2hlcmUgb25seSBrIGlzIGEgY29uc3RhbnQgdmFsdWVcclxuICAgKlxyXG4gICAqIGdldEFtb3VudEluXHJcbiAgICpcclxuICAgKiBCJyA9IEIgLSBhbW91bnRPdXQgKiAoMSAtIGFtb3VudE91dC5idXlGZWVzQmlwcyAvIDEwMDAwKVxyXG4gICAqIEEnID0gQSArIDAuOTk3ICogKDEgLSBhbW91bnRJbi5zZWxsRmVlc0JpcHMgLyAxMDAwMCkgKiBhbW91bnRJbiAjIGhlcmUgMC4zJSBpcyBkZWR1Y3RlZFxyXG4gICAqIGFtb3VudEluID0gKEEnIC0gQSkgLyAoMC45OTcgKiAoMSAtIGFtb3VudEluLnNlbGxGZWVzQmlwcyAvIDEwMDAwKSlcclxuICAgKiAgICAgICAgICA9IChLIC8gKEIgLSBhbW91bnRPdXQgLyAoMSAtIGFtb3VudE91dC5idXlGZWVzQmlwcyAvIDEwMDAwKSkgLSBBKVxyXG4gICAqICAgICAgICAgICAgL1xyXG4gICAqICAgICAgICAgICAgKDAuOTk3ICogKDEgLSBhbW91bnRJbi5zZWxsRmVlc0JpcHMgLyAxMDAwMCkpXHJcbiAgICogICAgICAgICAgPSAoQUIgLyAoQiAtIGFtb3VudE91dCAvICgxIC0gYW1vdW50T3V0LmJ1eUZlZXNCaXBzIC8gMTAwMDApKSAtIEEpXHJcbiAgICogICAgICAgICAgICAvXHJcbiAgICogICAgICAgICAgICAoMC45OTcgKiAoMSAtIGFtb3VudEluLnNlbGxGZWVzQmlwcyAvIDEwMDAwKSlcclxuICAgKiAgICAgICAgICA9ICgoQUIgLSBBQiArIEEgKiBhbW91bnRPdXQgLyAoMSAtIGFtb3VudE91dC5idXlGZWVzQmlwcyAvIDEwMDAwKSkgLyAoQiAtIGFtb3VudE91dCAvICgxIC0gYW1vdW50T3V0LmJ1eUZlZXNCaXBzIC8gMTAwMDApKSlcclxuICAgKiAgICAgICAgICAgIC9cclxuICAgKiAgICAgICAgICAgICgwLjk5NyAqICgxIC0gYW1vdW50SW4uc2VsbEZlZXNCaXBzIC8gMTAwMDApKVxyXG4gICAqICAgICAgICAgID0gKChBICogYW1vdW50T3V0IC8gKDEgLSBhbW91bnRPdXQuYnV5RmVlc0JpcHMgLyAxMDAwMCkpIC8gKEIgLSBhbW91bnRPdXQgLyAoMSAtIGFtb3VudE91dC5idXlGZWVzQmlwcyAvIDEwMDAwKSkpXHJcbiAgICogICAgICAgICAgICAvXHJcbiAgICogICAgICAgICAgICAoMC45OTcgKiAoMSAtIGFtb3VudEluLnNlbGxGZWVzQmlwcyAvIDEwMDAwKSlcclxuICAgKiAgICAgICAgICA9ICgoQSAqIDEwMDAgKiBhbW91bnRPdXQgLyAoMSAtIGFtb3VudE91dC5idXlGZWVzQmlwcyAvIDEwMDAwKSkgLyAoQiAtIGFtb3VudE91dCAvICgxIC0gYW1vdW50T3V0LmJ1eUZlZXNCaXBzIC8gMTAwMDApKSlcclxuICAgKiAgICAgICAgICAgIC9cclxuICAgKiAgICAgICAgICAgICg5OTcgKiAoMSAtIGFtb3VudEluLnNlbGxGZWVzQmlwcyAvIDEwMDAwKSlcclxuICAgKlxyXG4gICAqIG91dHB1dEFtb3VudFdpdGhUYXggPSBhbW91bnRPdXQgLyAoMSAtIGFtb3VudE91dC5idXlGZWVzQmlwcyAvIDEwMDAwKVxyXG4gICAqIGlucHV0QW1vdW50V2l0aFRheCA9IGFtb3VudEluIC8gKDk5NyAqICgxIC0gYW1vdW50SW4uc2VsbEZlZXNCaXBzIC8gMTAwMDApKVxyXG4gICAqICAgICAgICAgICAgICAgICAgICA9IChBICogb3V0cHV0QW1vdW50V2l0aFRheCAqIDEwMDApIC8gKChCIC0gb3V0cHV0QW1vdW50V2l0aFRheCkgKiA5OTcpXHJcbiAgICpcclxuICAgKiBAcGFyYW0gb3V0cHV0QW1vdW50XHJcbiAgICovO1xuICBfcHJvdG8uZ2V0SW5wdXRBbW91bnQgPSBmdW5jdGlvbiBnZXRJbnB1dEFtb3VudChvdXRwdXRBbW91bnQsIGNhbGN1bGF0ZUZvdEZlZXMpIHtcbiAgICBpZiAoY2FsY3VsYXRlRm90RmVlcyA9PT0gdm9pZCAwKSB7XG4gICAgICBjYWxjdWxhdGVGb3RGZWVzID0gdHJ1ZTtcbiAgICB9XG4gICAgIXRoaXMuaW52b2x2ZXNUb2tlbihvdXRwdXRBbW91bnQuY3VycmVuY3kpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnVE9LRU4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgdmFyIHBlcmNlbnRBZnRlckJ1eUZlZXMgPSBjYWxjdWxhdGVGb3RGZWVzID8gdGhpcy5kZXJpdmVQZXJjZW50QWZ0ZXJCdXlGZWVzKG91dHB1dEFtb3VudCkgOiBaRVJPX1BFUkNFTlQ7XG4gICAgdmFyIG91dHB1dEFtb3VudEJlZm9yZVRheCA9IHBlcmNlbnRBZnRlckJ1eUZlZXMuZ3JlYXRlclRoYW4oWkVST19QRVJDRU5UKSA/IEN1cnJlbmN5QW1vdW50LmZyb21SYXdBbW91bnQob3V0cHV0QW1vdW50LmN1cnJlbmN5LCBKU0JJLmFkZChvdXRwdXRBbW91bnQuZGl2aWRlKHBlcmNlbnRBZnRlckJ1eUZlZXMpLnF1b3RpZW50LCBPTkUpIC8vIGFkZCAxIGZvciByb3VuZGluZyB1cFxuICAgICkgOiBvdXRwdXRBbW91bnQ7XG4gICAgaWYgKEpTQkkuZXF1YWwodGhpcy5yZXNlcnZlMC5xdW90aWVudCwgWkVSTykgfHwgSlNCSS5lcXVhbCh0aGlzLnJlc2VydmUxLnF1b3RpZW50LCBaRVJPKSB8fCBKU0JJLmdyZWF0ZXJUaGFuT3JFcXVhbChvdXRwdXRBbW91bnQucXVvdGllbnQsIHRoaXMucmVzZXJ2ZU9mKG91dHB1dEFtb3VudC5jdXJyZW5jeSkucXVvdGllbnQpIHx8IEpTQkkuZ3JlYXRlclRoYW5PckVxdWFsKG91dHB1dEFtb3VudEJlZm9yZVRheC5xdW90aWVudCwgdGhpcy5yZXNlcnZlT2Yob3V0cHV0QW1vdW50LmN1cnJlbmN5KS5xdW90aWVudCkpIHtcbiAgICAgIHRocm93IG5ldyBJbnN1ZmZpY2llbnRSZXNlcnZlc0Vycm9yKCk7XG4gICAgfVxuICAgIHZhciBvdXRwdXRSZXNlcnZlID0gdGhpcy5yZXNlcnZlT2Yob3V0cHV0QW1vdW50LmN1cnJlbmN5KTtcbiAgICB2YXIgaW5wdXRSZXNlcnZlID0gdGhpcy5yZXNlcnZlT2Yob3V0cHV0QW1vdW50LmN1cnJlbmN5LmVxdWFscyh0aGlzLnRva2VuMCkgPyB0aGlzLnRva2VuMSA6IHRoaXMudG9rZW4wKTtcbiAgICB2YXIgbnVtZXJhdG9yID0gSlNCSS5tdWx0aXBseShKU0JJLm11bHRpcGx5KGlucHV0UmVzZXJ2ZS5xdW90aWVudCwgb3V0cHV0QW1vdW50QmVmb3JlVGF4LnF1b3RpZW50KSwgXzEwMDApO1xuICAgIHZhciBkZW5vbWluYXRvciA9IEpTQkkubXVsdGlwbHkoSlNCSS5zdWJ0cmFjdChvdXRwdXRSZXNlcnZlLnF1b3RpZW50LCBvdXRwdXRBbW91bnRCZWZvcmVUYXgucXVvdGllbnQpLCBfOTk3KTtcbiAgICB2YXIgaW5wdXRBbW91bnQgPSBDdXJyZW5jeUFtb3VudC5mcm9tUmF3QW1vdW50KG91dHB1dEFtb3VudC5jdXJyZW5jeS5lcXVhbHModGhpcy50b2tlbjApID8gdGhpcy50b2tlbjEgOiB0aGlzLnRva2VuMCwgSlNCSS5hZGQoSlNCSS5kaXZpZGUobnVtZXJhdG9yLCBkZW5vbWluYXRvciksIE9ORSkgLy8gYWRkIDEgaGVyZSBpcyBwYXJ0IG9mIHRoZSBmb3JtdWxhLCBubyByb3VuZGluZyBuZWVkZWQgaGVyZSwgc2luY2UgdGhlcmUgd2lsbCBub3QgYmUgZGVjaW1hbCBhdCB0aGlzIHBvaW50XG4gICAgKTtcbiAgICB2YXIgcGVyY2VudEFmdGVyU2VsbEZlZXMgPSBjYWxjdWxhdGVGb3RGZWVzID8gdGhpcy5kZXJpdmVQZXJjZW50QWZ0ZXJTZWxsRmVlcyhpbnB1dEFtb3VudCkgOiBaRVJPX1BFUkNFTlQ7XG4gICAgdmFyIGlucHV0QW1vdW50QmVmb3JlVGF4ID0gcGVyY2VudEFmdGVyU2VsbEZlZXMuZ3JlYXRlclRoYW4oWkVST19QRVJDRU5UKSA/IEN1cnJlbmN5QW1vdW50LmZyb21SYXdBbW91bnQoaW5wdXRBbW91bnQuY3VycmVuY3ksIEpTQkkuYWRkKGlucHV0QW1vdW50LmRpdmlkZShwZXJjZW50QWZ0ZXJTZWxsRmVlcykucXVvdGllbnQsIE9ORSkgLy8gYWRkIDEgZm9yIHJvdW5kaW5nIHVwXG4gICAgKSA6IGlucHV0QW1vdW50O1xuICAgIHJldHVybiBbaW5wdXRBbW91bnRCZWZvcmVUYXgsIG5ldyBQYWlyKGlucHV0UmVzZXJ2ZS5hZGQoaW5wdXRBbW91bnQpLCBvdXRwdXRSZXNlcnZlLnN1YnRyYWN0KG91dHB1dEFtb3VudCkpXTtcbiAgfTtcbiAgX3Byb3RvLmdldExpcXVpZGl0eU1pbnRlZCA9IGZ1bmN0aW9uIGdldExpcXVpZGl0eU1pbnRlZCh0b3RhbFN1cHBseSwgdG9rZW5BbW91bnRBLCB0b2tlbkFtb3VudEIpIHtcbiAgICAhdG90YWxTdXBwbHkuY3VycmVuY3kuZXF1YWxzKHRoaXMubGlxdWlkaXR5VG9rZW4pID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnTElRVUlESVRZJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIHZhciB0b2tlbkFtb3VudHMgPSB0b2tlbkFtb3VudEEuY3VycmVuY3kuc29ydHNCZWZvcmUodG9rZW5BbW91bnRCLmN1cnJlbmN5KSAvLyBkb2VzIHNhZmV0eSBjaGVja3NcbiAgICA/IFt0b2tlbkFtb3VudEEsIHRva2VuQW1vdW50Ql0gOiBbdG9rZW5BbW91bnRCLCB0b2tlbkFtb3VudEFdO1xuICAgICEodG9rZW5BbW91bnRzWzBdLmN1cnJlbmN5LmVxdWFscyh0aGlzLnRva2VuMCkgJiYgdG9rZW5BbW91bnRzWzFdLmN1cnJlbmN5LmVxdWFscyh0aGlzLnRva2VuMSkpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnVE9LRU4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgdmFyIGxpcXVpZGl0eTtcbiAgICBpZiAoSlNCSS5lcXVhbCh0b3RhbFN1cHBseS5xdW90aWVudCwgWkVSTykpIHtcbiAgICAgIGxpcXVpZGl0eSA9IEpTQkkuc3VidHJhY3Qoc3FydChKU0JJLm11bHRpcGx5KHRva2VuQW1vdW50c1swXS5xdW90aWVudCwgdG9rZW5BbW91bnRzWzFdLnF1b3RpZW50KSksIE1JTklNVU1fTElRVUlESVRZKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGFtb3VudDAgPSBKU0JJLmRpdmlkZShKU0JJLm11bHRpcGx5KHRva2VuQW1vdW50c1swXS5xdW90aWVudCwgdG90YWxTdXBwbHkucXVvdGllbnQpLCB0aGlzLnJlc2VydmUwLnF1b3RpZW50KTtcbiAgICAgIHZhciBhbW91bnQxID0gSlNCSS5kaXZpZGUoSlNCSS5tdWx0aXBseSh0b2tlbkFtb3VudHNbMV0ucXVvdGllbnQsIHRvdGFsU3VwcGx5LnF1b3RpZW50KSwgdGhpcy5yZXNlcnZlMS5xdW90aWVudCk7XG4gICAgICBsaXF1aWRpdHkgPSBKU0JJLmxlc3NUaGFuT3JFcXVhbChhbW91bnQwLCBhbW91bnQxKSA/IGFtb3VudDAgOiBhbW91bnQxO1xuICAgIH1cbiAgICBpZiAoIUpTQkkuZ3JlYXRlclRoYW4obGlxdWlkaXR5LCBaRVJPKSkge1xuICAgICAgdGhyb3cgbmV3IEluc3VmZmljaWVudElucHV0QW1vdW50RXJyb3IoKTtcbiAgICB9XG4gICAgcmV0dXJuIEN1cnJlbmN5QW1vdW50LmZyb21SYXdBbW91bnQodGhpcy5saXF1aWRpdHlUb2tlbiwgbGlxdWlkaXR5KTtcbiAgfTtcbiAgX3Byb3RvLmdldExpcXVpZGl0eVZhbHVlID0gZnVuY3Rpb24gZ2V0TGlxdWlkaXR5VmFsdWUodG9rZW4sIHRvdGFsU3VwcGx5LCBsaXF1aWRpdHksIGZlZU9uLCBrTGFzdCkge1xuICAgIGlmIChmZWVPbiA9PT0gdm9pZCAwKSB7XG4gICAgICBmZWVPbiA9IGZhbHNlO1xuICAgIH1cbiAgICAhdGhpcy5pbnZvbHZlc1Rva2VuKHRva2VuKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ1RPS0VOJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICF0b3RhbFN1cHBseS5jdXJyZW5jeS5lcXVhbHModGhpcy5saXF1aWRpdHlUb2tlbikgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdUT1RBTF9TVVBQTFknKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgIWxpcXVpZGl0eS5jdXJyZW5jeS5lcXVhbHModGhpcy5saXF1aWRpdHlUb2tlbikgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdMSVFVSURJVFknKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgIUpTQkkubGVzc1RoYW5PckVxdWFsKGxpcXVpZGl0eS5xdW90aWVudCwgdG90YWxTdXBwbHkucXVvdGllbnQpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnTElRVUlESVRZJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIHZhciB0b3RhbFN1cHBseUFkanVzdGVkO1xuICAgIGlmICghZmVlT24pIHtcbiAgICAgIHRvdGFsU3VwcGx5QWRqdXN0ZWQgPSB0b3RhbFN1cHBseTtcbiAgICB9IGVsc2Uge1xuICAgICAgISEha0xhc3QgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdLX0xBU1QnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICB2YXIga0xhc3RQYXJzZWQgPSBKU0JJLkJpZ0ludChrTGFzdCk7XG4gICAgICBpZiAoIUpTQkkuZXF1YWwoa0xhc3RQYXJzZWQsIFpFUk8pKSB7XG4gICAgICAgIHZhciByb290SyA9IHNxcnQoSlNCSS5tdWx0aXBseSh0aGlzLnJlc2VydmUwLnF1b3RpZW50LCB0aGlzLnJlc2VydmUxLnF1b3RpZW50KSk7XG4gICAgICAgIHZhciByb290S0xhc3QgPSBzcXJ0KGtMYXN0UGFyc2VkKTtcbiAgICAgICAgaWYgKEpTQkkuZ3JlYXRlclRoYW4ocm9vdEssIHJvb3RLTGFzdCkpIHtcbiAgICAgICAgICB2YXIgbnVtZXJhdG9yID0gSlNCSS5tdWx0aXBseSh0b3RhbFN1cHBseS5xdW90aWVudCwgSlNCSS5zdWJ0cmFjdChyb290Sywgcm9vdEtMYXN0KSk7XG4gICAgICAgICAgdmFyIGRlbm9taW5hdG9yID0gSlNCSS5hZGQoSlNCSS5tdWx0aXBseShyb290SywgRklWRSksIHJvb3RLTGFzdCk7XG4gICAgICAgICAgdmFyIGZlZUxpcXVpZGl0eSA9IEpTQkkuZGl2aWRlKG51bWVyYXRvciwgZGVub21pbmF0b3IpO1xuICAgICAgICAgIHRvdGFsU3VwcGx5QWRqdXN0ZWQgPSB0b3RhbFN1cHBseS5hZGQoQ3VycmVuY3lBbW91bnQuZnJvbVJhd0Ftb3VudCh0aGlzLmxpcXVpZGl0eVRva2VuLCBmZWVMaXF1aWRpdHkpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0b3RhbFN1cHBseUFkanVzdGVkID0gdG90YWxTdXBwbHk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRvdGFsU3VwcGx5QWRqdXN0ZWQgPSB0b3RhbFN1cHBseTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIEN1cnJlbmN5QW1vdW50LmZyb21SYXdBbW91bnQodG9rZW4sIEpTQkkuZGl2aWRlKEpTQkkubXVsdGlwbHkobGlxdWlkaXR5LnF1b3RpZW50LCB0aGlzLnJlc2VydmVPZih0b2tlbikucXVvdGllbnQpLCB0b3RhbFN1cHBseUFkanVzdGVkLnF1b3RpZW50KSk7XG4gIH07XG4gIF9wcm90by5kZXJpdmVQZXJjZW50QWZ0ZXJTZWxsRmVlcyA9IGZ1bmN0aW9uIGRlcml2ZVBlcmNlbnRBZnRlclNlbGxGZWVzKGlucHV0QW1vdW50KSB7XG4gICAgdmFyIHNlbGxGZWVCaXBzID0gdGhpcy50b2tlbjAud3JhcHBlZC5lcXVhbHMoaW5wdXRBbW91bnQud3JhcHBlZC5jdXJyZW5jeSkgPyB0aGlzLnRva2VuMC53cmFwcGVkLnNlbGxGZWVCcHMgOiB0aGlzLnRva2VuMS53cmFwcGVkLnNlbGxGZWVCcHM7XG4gICAgaWYgKHNlbGxGZWVCaXBzICE9IG51bGwgJiYgc2VsbEZlZUJpcHMuZ3QoQmlnTnVtYmVyLmZyb20oMCkpKSB7XG4gICAgICByZXR1cm4gT05FX0hVTkRSRURfUEVSQ0VOVC5zdWJ0cmFjdChuZXcgUGVyY2VudChKU0JJLkJpZ0ludChzZWxsRmVlQmlwcykpLmRpdmlkZShCQVNJU19QT0lOVFMpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFpFUk9fUEVSQ0VOVDtcbiAgICB9XG4gIH07XG4gIF9wcm90by5kZXJpdmVQZXJjZW50QWZ0ZXJCdXlGZWVzID0gZnVuY3Rpb24gZGVyaXZlUGVyY2VudEFmdGVyQnV5RmVlcyhvdXRwdXRBbW91bnQpIHtcbiAgICB2YXIgYnV5RmVlQnBzID0gdGhpcy50b2tlbjAud3JhcHBlZC5lcXVhbHMob3V0cHV0QW1vdW50LndyYXBwZWQuY3VycmVuY3kpID8gdGhpcy50b2tlbjAud3JhcHBlZC5idXlGZWVCcHMgOiB0aGlzLnRva2VuMS53cmFwcGVkLmJ1eUZlZUJwcztcbiAgICBpZiAoYnV5RmVlQnBzICE9IG51bGwgJiYgYnV5RmVlQnBzLmd0KEJpZ051bWJlci5mcm9tKDApKSkge1xuICAgICAgcmV0dXJuIE9ORV9IVU5EUkVEX1BFUkNFTlQuc3VidHJhY3QobmV3IFBlcmNlbnQoSlNCSS5CaWdJbnQoYnV5RmVlQnBzKSkuZGl2aWRlKEJBU0lTX1BPSU5UUykpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gWkVST19QRVJDRU5UO1xuICAgIH1cbiAgfTtcbiAgX2NyZWF0ZUNsYXNzKFBhaXIsIFt7XG4gICAga2V5OiBcInRva2VuMFByaWNlXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gdGhpcy50b2tlbkFtb3VudHNbMV0uZGl2aWRlKHRoaXMudG9rZW5BbW91bnRzWzBdKTtcbiAgICAgIHJldHVybiBuZXcgUHJpY2UodGhpcy50b2tlbjAsIHRoaXMudG9rZW4xLCByZXN1bHQuZGVub21pbmF0b3IsIHJlc3VsdC5udW1lcmF0b3IpO1xuICAgIH1cbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIGN1cnJlbnQgbWlkIHByaWNlIG9mIHRoZSBwYWlyIGluIHRlcm1zIG9mIHRva2VuMSwgaS5lLiB0aGUgcmF0aW8gb2YgcmVzZXJ2ZTAgdG8gcmVzZXJ2ZTFcclxuICAgICAqL1xuICB9LCB7XG4gICAga2V5OiBcInRva2VuMVByaWNlXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gdGhpcy50b2tlbkFtb3VudHNbMF0uZGl2aWRlKHRoaXMudG9rZW5BbW91bnRzWzFdKTtcbiAgICAgIHJldHVybiBuZXcgUHJpY2UodGhpcy50b2tlbjEsIHRoaXMudG9rZW4wLCByZXN1bHQuZGVub21pbmF0b3IsIHJlc3VsdC5udW1lcmF0b3IpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjaGFpbklkXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy50b2tlbjAuY2hhaW5JZDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidG9rZW4wXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy50b2tlbkFtb3VudHNbMF0uY3VycmVuY3k7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInRva2VuMVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMudG9rZW5BbW91bnRzWzFdLmN1cnJlbmN5O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZXNlcnZlMFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMudG9rZW5BbW91bnRzWzBdO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZXNlcnZlMVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMudG9rZW5BbW91bnRzWzFdO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gUGFpcjtcbn0oKTtcblxudmFyIFJvdXRlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gUm91dGUocGFpcnMsIGlucHV0LCBvdXRwdXQpIHtcbiAgICB0aGlzLl9taWRQcmljZSA9IG51bGw7XG4gICAgIShwYWlycy5sZW5ndGggPiAwKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ1BBSVJTJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIHZhciBjaGFpbklkID0gcGFpcnNbMF0uY2hhaW5JZDtcbiAgICAhcGFpcnMuZXZlcnkoZnVuY3Rpb24gKHBhaXIpIHtcbiAgICAgIHJldHVybiBwYWlyLmNoYWluSWQgPT09IGNoYWluSWQ7XG4gICAgfSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdDSEFJTl9JRFMnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgdmFyIHdyYXBwZWRJbnB1dCA9IGlucHV0LndyYXBwZWQ7XG4gICAgIXBhaXJzWzBdLmludm9sdmVzVG9rZW4od3JhcHBlZElucHV0KSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0lOUFVUJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICEodHlwZW9mIG91dHB1dCA9PT0gJ3VuZGVmaW5lZCcgfHwgcGFpcnNbcGFpcnMubGVuZ3RoIC0gMV0uaW52b2x2ZXNUb2tlbihvdXRwdXQud3JhcHBlZCkpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnT1VUUFVUJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIHZhciBwYXRoID0gW3dyYXBwZWRJbnB1dF07XG4gICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXJMb29zZShwYWlycy5lbnRyaWVzKCkpLCBfc3RlcDsgIShfc3RlcCA9IF9pdGVyYXRvcigpKS5kb25lOykge1xuICAgICAgdmFyIF9zdGVwJHZhbHVlID0gX3N0ZXAudmFsdWUsXG4gICAgICAgIGkgPSBfc3RlcCR2YWx1ZVswXSxcbiAgICAgICAgcGFpciA9IF9zdGVwJHZhbHVlWzFdO1xuICAgICAgdmFyIGN1cnJlbnRJbnB1dCA9IHBhdGhbaV07XG4gICAgICAhKGN1cnJlbnRJbnB1dC5lcXVhbHMocGFpci50b2tlbjApIHx8IGN1cnJlbnRJbnB1dC5lcXVhbHMocGFpci50b2tlbjEpKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ1BBVEgnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICB2YXIgX291dHB1dCA9IGN1cnJlbnRJbnB1dC5lcXVhbHMocGFpci50b2tlbjApID8gcGFpci50b2tlbjEgOiBwYWlyLnRva2VuMDtcbiAgICAgIHBhdGgucHVzaChfb3V0cHV0KTtcbiAgICB9XG4gICAgdGhpcy5wYWlycyA9IHBhaXJzO1xuICAgIHRoaXMucGF0aCA9IHBhdGg7XG4gICAgdGhpcy5pbnB1dCA9IGlucHV0O1xuICAgIHRoaXMub3V0cHV0ID0gb3V0cHV0O1xuICB9XG4gIF9jcmVhdGVDbGFzcyhSb3V0ZSwgW3tcbiAgICBrZXk6IFwibWlkUHJpY2VcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIGlmICh0aGlzLl9taWRQcmljZSAhPT0gbnVsbCkgcmV0dXJuIHRoaXMuX21pZFByaWNlO1xuICAgICAgdmFyIHByaWNlcyA9IFtdO1xuICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyTG9vc2UodGhpcy5wYWlycy5lbnRyaWVzKCkpLCBfc3RlcDI7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMigpKS5kb25lOykge1xuICAgICAgICB2YXIgX3N0ZXAyJHZhbHVlID0gX3N0ZXAyLnZhbHVlLFxuICAgICAgICAgIGkgPSBfc3RlcDIkdmFsdWVbMF0sXG4gICAgICAgICAgcGFpciA9IF9zdGVwMiR2YWx1ZVsxXTtcbiAgICAgICAgcHJpY2VzLnB1c2godGhpcy5wYXRoW2ldLmVxdWFscyhwYWlyLnRva2VuMCkgPyBuZXcgUHJpY2UocGFpci5yZXNlcnZlMC5jdXJyZW5jeSwgcGFpci5yZXNlcnZlMS5jdXJyZW5jeSwgcGFpci5yZXNlcnZlMC5xdW90aWVudCwgcGFpci5yZXNlcnZlMS5xdW90aWVudCkgOiBuZXcgUHJpY2UocGFpci5yZXNlcnZlMS5jdXJyZW5jeSwgcGFpci5yZXNlcnZlMC5jdXJyZW5jeSwgcGFpci5yZXNlcnZlMS5xdW90aWVudCwgcGFpci5yZXNlcnZlMC5xdW90aWVudCkpO1xuICAgICAgfVxuICAgICAgdmFyIHJlZHVjZWQgPSBwcmljZXMuc2xpY2UoMSkucmVkdWNlKGZ1bmN0aW9uIChhY2N1bXVsYXRvciwgY3VycmVudFZhbHVlKSB7XG4gICAgICAgIHJldHVybiBhY2N1bXVsYXRvci5tdWx0aXBseShjdXJyZW50VmFsdWUpO1xuICAgICAgfSwgcHJpY2VzWzBdKTtcbiAgICAgIHJldHVybiB0aGlzLl9taWRQcmljZSA9IG5ldyBQcmljZSh0aGlzLmlucHV0LCB0aGlzLm91dHB1dCwgcmVkdWNlZC5kZW5vbWluYXRvciwgcmVkdWNlZC5udW1lcmF0b3IpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjaGFpbklkXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5wYWlyc1swXS5jaGFpbklkO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gUm91dGU7XG59KCk7XG5cbi8vIGNvbXBhcmF0b3IgZnVuY3Rpb24gdGhhdCBhbGxvd3Mgc29ydGluZyB0cmFkZXMgYnkgdGhlaXIgb3V0cHV0IGFtb3VudHMsIGluIGRlY3JlYXNpbmcgb3JkZXIsIGFuZCB0aGVuIGlucHV0IGFtb3VudHNcbi8vIGluIGluY3JlYXNpbmcgb3JkZXIuIGkuZS4gdGhlIGJlc3QgdHJhZGVzIGhhdmUgdGhlIG1vc3Qgb3V0cHV0cyBmb3IgdGhlIGxlYXN0IGlucHV0cyBhbmQgYXJlIHNvcnRlZCBmaXJzdFxuZnVuY3Rpb24gaW5wdXRPdXRwdXRDb21wYXJhdG9yKGEsIGIpIHtcbiAgLy8gbXVzdCBoYXZlIHNhbWUgaW5wdXQgYW5kIG91dHB1dCB0b2tlbiBmb3IgY29tcGFyaXNvblxuICAhYS5pbnB1dEFtb3VudC5jdXJyZW5jeS5lcXVhbHMoYi5pbnB1dEFtb3VudC5jdXJyZW5jeSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdJTlBVVF9DVVJSRU5DWScpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgIWEub3V0cHV0QW1vdW50LmN1cnJlbmN5LmVxdWFscyhiLm91dHB1dEFtb3VudC5jdXJyZW5jeSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdPVVRQVVRfQ1VSUkVOQ1knKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gIGlmIChhLm91dHB1dEFtb3VudC5lcXVhbFRvKGIub3V0cHV0QW1vdW50KSkge1xuICAgIGlmIChhLmlucHV0QW1vdW50LmVxdWFsVG8oYi5pbnB1dEFtb3VudCkpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICAvLyB0cmFkZSBBIHJlcXVpcmVzIGxlc3MgaW5wdXQgdGhhbiB0cmFkZSBCLCBzbyBBIHNob3VsZCBjb21lIGZpcnN0XG4gICAgaWYgKGEuaW5wdXRBbW91bnQubGVzc1RoYW4oYi5pbnB1dEFtb3VudCkpIHtcbiAgICAgIHJldHVybiAtMTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIHRyYWRlQSBoYXMgbGVzcyBvdXRwdXQgdGhhbiB0cmFkZSBCLCBzbyBzaG91bGQgY29tZSBzZWNvbmRcbiAgICBpZiAoYS5vdXRwdXRBbW91bnQubGVzc1RoYW4oYi5vdXRwdXRBbW91bnQpKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgfVxufVxuLy8gZXh0ZW5zaW9uIG9mIHRoZSBpbnB1dCBvdXRwdXQgY29tcGFyYXRvciB0aGF0IGFsc28gY29uc2lkZXJzIG90aGVyIGRpbWVuc2lvbnMgb2YgdGhlIHRyYWRlIGluIHJhbmtpbmcgdGhlbVxuZnVuY3Rpb24gdHJhZGVDb21wYXJhdG9yKGEsIGIpIHtcbiAgdmFyIGlvQ29tcCA9IGlucHV0T3V0cHV0Q29tcGFyYXRvcihhLCBiKTtcbiAgaWYgKGlvQ29tcCAhPT0gMCkge1xuICAgIHJldHVybiBpb0NvbXA7XG4gIH1cbiAgLy8gY29uc2lkZXIgbG93ZXN0IHNsaXBwYWdlIG5leHQsIHNpbmNlIHRoZXNlIGFyZSBsZXNzIGxpa2VseSB0byBmYWlsXG4gIGlmIChhLnByaWNlSW1wYWN0Lmxlc3NUaGFuKGIucHJpY2VJbXBhY3QpKSB7XG4gICAgcmV0dXJuIC0xO1xuICB9IGVsc2UgaWYgKGEucHJpY2VJbXBhY3QuZ3JlYXRlclRoYW4oYi5wcmljZUltcGFjdCkpIHtcbiAgICByZXR1cm4gMTtcbiAgfVxuICAvLyBmaW5hbGx5IGNvbnNpZGVyIHRoZSBudW1iZXIgb2YgaG9wcyBzaW5jZSBlYWNoIGhvcCBjb3N0cyBnYXNcbiAgcmV0dXJuIGEucm91dGUucGF0aC5sZW5ndGggLSBiLnJvdXRlLnBhdGgubGVuZ3RoO1xufVxuLyoqXHJcbiAqIFJlcHJlc2VudHMgYSB0cmFkZSBleGVjdXRlZCBhZ2FpbnN0IGEgbGlzdCBvZiBwYWlycy5cclxuICogRG9lcyBub3QgYWNjb3VudCBmb3Igc2xpcHBhZ2UsIGkuZS4gdHJhZGVzIHRoYXQgZnJvbnQgcnVuIHRoaXMgdHJhZGUgYW5kIG1vdmUgdGhlIHByaWNlLlxyXG4gKi9cbnZhciBUcmFkZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFRyYWRlKHJvdXRlLCBhbW91bnQsIHRyYWRlVHlwZSkge1xuICAgIHRoaXMucm91dGUgPSByb3V0ZTtcbiAgICB0aGlzLnRyYWRlVHlwZSA9IHRyYWRlVHlwZTtcbiAgICB2YXIgdG9rZW5BbW91bnRzID0gbmV3IEFycmF5KHJvdXRlLnBhdGgubGVuZ3RoKTtcbiAgICBpZiAodHJhZGVUeXBlID09PSBUcmFkZVR5cGUuRVhBQ1RfSU5QVVQpIHtcbiAgICAgICFhbW91bnQuY3VycmVuY3kuZXF1YWxzKHJvdXRlLmlucHV0KSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0lOUFVUJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgdG9rZW5BbW91bnRzWzBdID0gYW1vdW50LndyYXBwZWQ7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJvdXRlLnBhdGgubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgIHZhciBwYWlyID0gcm91dGUucGFpcnNbaV07XG4gICAgICAgIHZhciBfcGFpciRnZXRPdXRwdXRBbW91bnQgPSBwYWlyLmdldE91dHB1dEFtb3VudCh0b2tlbkFtb3VudHNbaV0pLFxuICAgICAgICAgIG91dHB1dEFtb3VudCA9IF9wYWlyJGdldE91dHB1dEFtb3VudFswXTtcbiAgICAgICAgdG9rZW5BbW91bnRzW2kgKyAxXSA9IG91dHB1dEFtb3VudDtcbiAgICAgIH1cbiAgICAgIHRoaXMuaW5wdXRBbW91bnQgPSBDdXJyZW5jeUFtb3VudC5mcm9tRnJhY3Rpb25hbEFtb3VudChyb3V0ZS5pbnB1dCwgYW1vdW50Lm51bWVyYXRvciwgYW1vdW50LmRlbm9taW5hdG9yKTtcbiAgICAgIHRoaXMub3V0cHV0QW1vdW50ID0gQ3VycmVuY3lBbW91bnQuZnJvbUZyYWN0aW9uYWxBbW91bnQocm91dGUub3V0cHV0LCB0b2tlbkFtb3VudHNbdG9rZW5BbW91bnRzLmxlbmd0aCAtIDFdLm51bWVyYXRvciwgdG9rZW5BbW91bnRzW3Rva2VuQW1vdW50cy5sZW5ndGggLSAxXS5kZW5vbWluYXRvcik7XG4gICAgfSBlbHNlIHtcbiAgICAgICFhbW91bnQuY3VycmVuY3kuZXF1YWxzKHJvdXRlLm91dHB1dCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdPVVRQVVQnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICB0b2tlbkFtb3VudHNbdG9rZW5BbW91bnRzLmxlbmd0aCAtIDFdID0gYW1vdW50LndyYXBwZWQ7XG4gICAgICBmb3IgKHZhciBfaSA9IHJvdXRlLnBhdGgubGVuZ3RoIC0gMTsgX2kgPiAwOyBfaS0tKSB7XG4gICAgICAgIHZhciBfcGFpciA9IHJvdXRlLnBhaXJzW19pIC0gMV07XG4gICAgICAgIHZhciBfcGFpciRnZXRJbnB1dEFtb3VudCA9IF9wYWlyLmdldElucHV0QW1vdW50KHRva2VuQW1vdW50c1tfaV0pLFxuICAgICAgICAgIGlucHV0QW1vdW50ID0gX3BhaXIkZ2V0SW5wdXRBbW91bnRbMF07XG4gICAgICAgIHRva2VuQW1vdW50c1tfaSAtIDFdID0gaW5wdXRBbW91bnQ7XG4gICAgICB9XG4gICAgICB0aGlzLmlucHV0QW1vdW50ID0gQ3VycmVuY3lBbW91bnQuZnJvbUZyYWN0aW9uYWxBbW91bnQocm91dGUuaW5wdXQsIHRva2VuQW1vdW50c1swXS5udW1lcmF0b3IsIHRva2VuQW1vdW50c1swXS5kZW5vbWluYXRvcik7XG4gICAgICB0aGlzLm91dHB1dEFtb3VudCA9IEN1cnJlbmN5QW1vdW50LmZyb21GcmFjdGlvbmFsQW1vdW50KHJvdXRlLm91dHB1dCwgYW1vdW50Lm51bWVyYXRvciwgYW1vdW50LmRlbm9taW5hdG9yKTtcbiAgICB9XG4gICAgdGhpcy5leGVjdXRpb25QcmljZSA9IG5ldyBQcmljZSh0aGlzLmlucHV0QW1vdW50LmN1cnJlbmN5LCB0aGlzLm91dHB1dEFtb3VudC5jdXJyZW5jeSwgdGhpcy5pbnB1dEFtb3VudC5xdW90aWVudCwgdGhpcy5vdXRwdXRBbW91bnQucXVvdGllbnQpO1xuICAgIHRoaXMucHJpY2VJbXBhY3QgPSBjb21wdXRlUHJpY2VJbXBhY3Qocm91dGUubWlkUHJpY2UsIHRoaXMuaW5wdXRBbW91bnQsIHRoaXMub3V0cHV0QW1vdW50KTtcbiAgfVxuICAvKipcclxuICAgKiBDb25zdHJ1Y3RzIGFuIGV4YWN0IGluIHRyYWRlIHdpdGggdGhlIGdpdmVuIGFtb3VudCBpbiBhbmQgcm91dGVcclxuICAgKiBAcGFyYW0gcm91dGUgcm91dGUgb2YgdGhlIGV4YWN0IGluIHRyYWRlXHJcbiAgICogQHBhcmFtIGFtb3VudEluIHRoZSBhbW91bnQgYmVpbmcgcGFzc2VkIGluXHJcbiAgICovXG4gIFRyYWRlLmV4YWN0SW4gPSBmdW5jdGlvbiBleGFjdEluKHJvdXRlLCBhbW91bnRJbikge1xuICAgIHJldHVybiBuZXcgVHJhZGUocm91dGUsIGFtb3VudEluLCBUcmFkZVR5cGUuRVhBQ1RfSU5QVVQpO1xuICB9XG4gIC8qKlxyXG4gICAqIENvbnN0cnVjdHMgYW4gZXhhY3Qgb3V0IHRyYWRlIHdpdGggdGhlIGdpdmVuIGFtb3VudCBvdXQgYW5kIHJvdXRlXHJcbiAgICogQHBhcmFtIHJvdXRlIHJvdXRlIG9mIHRoZSBleGFjdCBvdXQgdHJhZGVcclxuICAgKiBAcGFyYW0gYW1vdW50T3V0IHRoZSBhbW91bnQgcmV0dXJuZWQgYnkgdGhlIHRyYWRlXHJcbiAgICovO1xuICBUcmFkZS5leGFjdE91dCA9IGZ1bmN0aW9uIGV4YWN0T3V0KHJvdXRlLCBhbW91bnRPdXQpIHtcbiAgICByZXR1cm4gbmV3IFRyYWRlKHJvdXRlLCBhbW91bnRPdXQsIFRyYWRlVHlwZS5FWEFDVF9PVVRQVVQpO1xuICB9XG4gIC8qKlxyXG4gICAqIEdldCB0aGUgbWluaW11bSBhbW91bnQgdGhhdCBtdXN0IGJlIHJlY2VpdmVkIGZyb20gdGhpcyB0cmFkZSBmb3IgdGhlIGdpdmVuIHNsaXBwYWdlIHRvbGVyYW5jZVxyXG4gICAqIEBwYXJhbSBzbGlwcGFnZVRvbGVyYW5jZSB0b2xlcmFuY2Ugb2YgdW5mYXZvcmFibGUgc2xpcHBhZ2UgZnJvbSB0aGUgZXhlY3V0aW9uIHByaWNlIG9mIHRoaXMgdHJhZGVcclxuICAgKi87XG4gIHZhciBfcHJvdG8gPSBUcmFkZS5wcm90b3R5cGU7XG4gIF9wcm90by5taW5pbXVtQW1vdW50T3V0ID0gZnVuY3Rpb24gbWluaW11bUFtb3VudE91dChzbGlwcGFnZVRvbGVyYW5jZSkge1xuICAgICEhc2xpcHBhZ2VUb2xlcmFuY2UubGVzc1RoYW4oWkVSTykgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdTTElQUEFHRV9UT0xFUkFOQ0UnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgaWYgKHRoaXMudHJhZGVUeXBlID09PSBUcmFkZVR5cGUuRVhBQ1RfT1VUUFVUKSB7XG4gICAgICByZXR1cm4gdGhpcy5vdXRwdXRBbW91bnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBzbGlwcGFnZUFkanVzdGVkQW1vdW50T3V0ID0gbmV3IEZyYWN0aW9uKE9ORSkuYWRkKHNsaXBwYWdlVG9sZXJhbmNlKS5pbnZlcnQoKS5tdWx0aXBseSh0aGlzLm91dHB1dEFtb3VudC5xdW90aWVudCkucXVvdGllbnQ7XG4gICAgICByZXR1cm4gQ3VycmVuY3lBbW91bnQuZnJvbVJhd0Ftb3VudCh0aGlzLm91dHB1dEFtb3VudC5jdXJyZW5jeSwgc2xpcHBhZ2VBZGp1c3RlZEFtb3VudE91dCk7XG4gICAgfVxuICB9XG4gIC8qKlxyXG4gICAqIEdldCB0aGUgbWF4aW11bSBhbW91bnQgaW4gdGhhdCBjYW4gYmUgc3BlbnQgdmlhIHRoaXMgdHJhZGUgZm9yIHRoZSBnaXZlbiBzbGlwcGFnZSB0b2xlcmFuY2VcclxuICAgKiBAcGFyYW0gc2xpcHBhZ2VUb2xlcmFuY2UgdG9sZXJhbmNlIG9mIHVuZmF2b3JhYmxlIHNsaXBwYWdlIGZyb20gdGhlIGV4ZWN1dGlvbiBwcmljZSBvZiB0aGlzIHRyYWRlXHJcbiAgICovO1xuICBfcHJvdG8ubWF4aW11bUFtb3VudEluID0gZnVuY3Rpb24gbWF4aW11bUFtb3VudEluKHNsaXBwYWdlVG9sZXJhbmNlKSB7XG4gICAgISFzbGlwcGFnZVRvbGVyYW5jZS5sZXNzVGhhbihaRVJPKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ1NMSVBQQUdFX1RPTEVSQU5DRScpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICBpZiAodGhpcy50cmFkZVR5cGUgPT09IFRyYWRlVHlwZS5FWEFDVF9JTlBVVCkge1xuICAgICAgcmV0dXJuIHRoaXMuaW5wdXRBbW91bnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBzbGlwcGFnZUFkanVzdGVkQW1vdW50SW4gPSBuZXcgRnJhY3Rpb24oT05FKS5hZGQoc2xpcHBhZ2VUb2xlcmFuY2UpLm11bHRpcGx5KHRoaXMuaW5wdXRBbW91bnQucXVvdGllbnQpLnF1b3RpZW50O1xuICAgICAgcmV0dXJuIEN1cnJlbmN5QW1vdW50LmZyb21SYXdBbW91bnQodGhpcy5pbnB1dEFtb3VudC5jdXJyZW5jeSwgc2xpcHBhZ2VBZGp1c3RlZEFtb3VudEluKTtcbiAgICB9XG4gIH1cbiAgLyoqXHJcbiAgICogR2l2ZW4gYSBsaXN0IG9mIHBhaXJzLCBhbmQgYSBmaXhlZCBhbW91bnQgaW4sIHJldHVybnMgdGhlIHRvcCBgbWF4TnVtUmVzdWx0c2AgdHJhZGVzIHRoYXQgZ28gZnJvbSBhbiBpbnB1dCB0b2tlblxyXG4gICAqIGFtb3VudCB0byBhbiBvdXRwdXQgdG9rZW4sIG1ha2luZyBhdCBtb3N0IGBtYXhIb3BzYCBob3BzLlxyXG4gICAqIE5vdGUgdGhpcyBkb2VzIG5vdCBjb25zaWRlciBhZ2dyZWdhdGlvbiwgYXMgcm91dGVzIGFyZSBsaW5lYXIuIEl0J3MgcG9zc2libGUgYSBiZXR0ZXIgcm91dGUgZXhpc3RzIGJ5IHNwbGl0dGluZ1xyXG4gICAqIHRoZSBhbW91bnQgaW4gYW1vbmcgbXVsdGlwbGUgcm91dGVzLlxyXG4gICAqIEBwYXJhbSBwYWlycyB0aGUgcGFpcnMgdG8gY29uc2lkZXIgaW4gZmluZGluZyB0aGUgYmVzdCB0cmFkZVxyXG4gICAqIEBwYXJhbSBuZXh0QW1vdW50SW4gZXhhY3QgYW1vdW50IG9mIGlucHV0IGN1cnJlbmN5IHRvIHNwZW5kXHJcbiAgICogQHBhcmFtIGN1cnJlbmN5T3V0IHRoZSBkZXNpcmVkIGN1cnJlbmN5IG91dFxyXG4gICAqIEBwYXJhbSBtYXhOdW1SZXN1bHRzIG1heGltdW0gbnVtYmVyIG9mIHJlc3VsdHMgdG8gcmV0dXJuXHJcbiAgICogQHBhcmFtIG1heEhvcHMgbWF4aW11bSBudW1iZXIgb2YgaG9wcyBhIHJldHVybmVkIHRyYWRlIGNhbiBtYWtlLCBlLmcuIDEgaG9wIGdvZXMgdGhyb3VnaCBhIHNpbmdsZSBwYWlyXHJcbiAgICogQHBhcmFtIGN1cnJlbnRQYWlycyB1c2VkIGluIHJlY3Vyc2lvbjsgdGhlIGN1cnJlbnQgbGlzdCBvZiBwYWlyc1xyXG4gICAqIEBwYXJhbSBjdXJyZW5jeUFtb3VudEluIHVzZWQgaW4gcmVjdXJzaW9uOyB0aGUgb3JpZ2luYWwgdmFsdWUgb2YgdGhlIGN1cnJlbmN5QW1vdW50SW4gcGFyYW1ldGVyXHJcbiAgICogQHBhcmFtIGJlc3RUcmFkZXMgdXNlZCBpbiByZWN1cnNpb247IHRoZSBjdXJyZW50IGxpc3Qgb2YgYmVzdCB0cmFkZXNcclxuICAgKi87XG4gIFRyYWRlLmJlc3RUcmFkZUV4YWN0SW4gPSBmdW5jdGlvbiBiZXN0VHJhZGVFeGFjdEluKHBhaXJzLCBjdXJyZW5jeUFtb3VudEluLCBjdXJyZW5jeU91dCwgX3RlbXAsXG4gIC8vIHVzZWQgaW4gcmVjdXJzaW9uLlxuICBjdXJyZW50UGFpcnMsIG5leHRBbW91bnRJbiwgYmVzdFRyYWRlcykge1xuICAgIHZhciBfcmVmID0gX3RlbXAgPT09IHZvaWQgMCA/IHt9IDogX3RlbXAsXG4gICAgICBfcmVmJG1heE51bVJlc3VsdHMgPSBfcmVmLm1heE51bVJlc3VsdHMsXG4gICAgICBtYXhOdW1SZXN1bHRzID0gX3JlZiRtYXhOdW1SZXN1bHRzID09PSB2b2lkIDAgPyAzIDogX3JlZiRtYXhOdW1SZXN1bHRzLFxuICAgICAgX3JlZiRtYXhIb3BzID0gX3JlZi5tYXhIb3BzLFxuICAgICAgbWF4SG9wcyA9IF9yZWYkbWF4SG9wcyA9PT0gdm9pZCAwID8gMyA6IF9yZWYkbWF4SG9wcztcbiAgICBpZiAoY3VycmVudFBhaXJzID09PSB2b2lkIDApIHtcbiAgICAgIGN1cnJlbnRQYWlycyA9IFtdO1xuICAgIH1cbiAgICBpZiAobmV4dEFtb3VudEluID09PSB2b2lkIDApIHtcbiAgICAgIG5leHRBbW91bnRJbiA9IGN1cnJlbmN5QW1vdW50SW47XG4gICAgfVxuICAgIGlmIChiZXN0VHJhZGVzID09PSB2b2lkIDApIHtcbiAgICAgIGJlc3RUcmFkZXMgPSBbXTtcbiAgICB9XG4gICAgIShwYWlycy5sZW5ndGggPiAwKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ1BBSVJTJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICEobWF4SG9wcyA+IDApID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnTUFYX0hPUFMnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgIShjdXJyZW5jeUFtb3VudEluID09PSBuZXh0QW1vdW50SW4gfHwgY3VycmVudFBhaXJzLmxlbmd0aCA+IDApID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnSU5WQUxJRF9SRUNVUlNJT04nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgdmFyIGFtb3VudEluID0gbmV4dEFtb3VudEluLndyYXBwZWQ7XG4gICAgdmFyIHRva2VuT3V0ID0gY3VycmVuY3lPdXQud3JhcHBlZDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhaXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgcGFpciA9IHBhaXJzW2ldO1xuICAgICAgLy8gcGFpciBpcnJlbGV2YW50XG4gICAgICBpZiAoIXBhaXIudG9rZW4wLmVxdWFscyhhbW91bnRJbi5jdXJyZW5jeSkgJiYgIXBhaXIudG9rZW4xLmVxdWFscyhhbW91bnRJbi5jdXJyZW5jeSkpIGNvbnRpbnVlO1xuICAgICAgaWYgKHBhaXIucmVzZXJ2ZTAuZXF1YWxUbyhaRVJPKSB8fCBwYWlyLnJlc2VydmUxLmVxdWFsVG8oWkVSTykpIGNvbnRpbnVlO1xuICAgICAgdmFyIGFtb3VudE91dCA9IHZvaWQgMDtcbiAgICAgIHRyeSB7XG4gICAgICAgIDtcbiAgICAgICAgdmFyIF9wYWlyJGdldE91dHB1dEFtb3VudDIgPSBwYWlyLmdldE91dHB1dEFtb3VudChhbW91bnRJbik7XG4gICAgICAgIGFtb3VudE91dCA9IF9wYWlyJGdldE91dHB1dEFtb3VudDJbMF07XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyBpbnB1dCB0b28gbG93XG4gICAgICAgIGlmIChlcnJvci5pc0luc3VmZmljaWVudElucHV0QW1vdW50RXJyb3IpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cbiAgICAgIC8vIHdlIGhhdmUgYXJyaXZlZCBhdCB0aGUgb3V0cHV0IHRva2VuLCBzbyB0aGlzIGlzIHRoZSBmaW5hbCB0cmFkZSBvZiBvbmUgb2YgdGhlIHBhdGhzXG4gICAgICBpZiAoYW1vdW50T3V0LmN1cnJlbmN5LmVxdWFscyh0b2tlbk91dCkpIHtcbiAgICAgICAgc29ydGVkSW5zZXJ0KGJlc3RUcmFkZXMsIG5ldyBUcmFkZShuZXcgUm91dGUoW10uY29uY2F0KGN1cnJlbnRQYWlycywgW3BhaXJdKSwgY3VycmVuY3lBbW91bnRJbi5jdXJyZW5jeSwgY3VycmVuY3lPdXQpLCBjdXJyZW5jeUFtb3VudEluLCBUcmFkZVR5cGUuRVhBQ1RfSU5QVVQpLCBtYXhOdW1SZXN1bHRzLCB0cmFkZUNvbXBhcmF0b3IpO1xuICAgICAgfSBlbHNlIGlmIChtYXhIb3BzID4gMSAmJiBwYWlycy5sZW5ndGggPiAxKSB7XG4gICAgICAgIHZhciBwYWlyc0V4Y2x1ZGluZ1RoaXNQYWlyID0gcGFpcnMuc2xpY2UoMCwgaSkuY29uY2F0KHBhaXJzLnNsaWNlKGkgKyAxLCBwYWlycy5sZW5ndGgpKTtcbiAgICAgICAgLy8gb3RoZXJ3aXNlLCBjb25zaWRlciBhbGwgdGhlIG90aGVyIHBhdGhzIHRoYXQgbGVhZCBmcm9tIHRoaXMgdG9rZW4gYXMgbG9uZyBhcyB3ZSBoYXZlIG5vdCBleGNlZWRlZCBtYXhIb3BzXG4gICAgICAgIFRyYWRlLmJlc3RUcmFkZUV4YWN0SW4ocGFpcnNFeGNsdWRpbmdUaGlzUGFpciwgY3VycmVuY3lBbW91bnRJbiwgY3VycmVuY3lPdXQsIHtcbiAgICAgICAgICBtYXhOdW1SZXN1bHRzOiBtYXhOdW1SZXN1bHRzLFxuICAgICAgICAgIG1heEhvcHM6IG1heEhvcHMgLSAxXG4gICAgICAgIH0sIFtdLmNvbmNhdChjdXJyZW50UGFpcnMsIFtwYWlyXSksIGFtb3VudE91dCwgYmVzdFRyYWRlcyk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBiZXN0VHJhZGVzO1xuICB9XG4gIC8qKlxyXG4gICAqIFJldHVybiB0aGUgZXhlY3V0aW9uIHByaWNlIGFmdGVyIGFjY291bnRpbmcgZm9yIHNsaXBwYWdlIHRvbGVyYW5jZVxyXG4gICAqIEBwYXJhbSBzbGlwcGFnZVRvbGVyYW5jZSB0aGUgYWxsb3dlZCB0b2xlcmF0ZWQgc2xpcHBhZ2VcclxuICAgKi87XG4gIF9wcm90by53b3JzdEV4ZWN1dGlvblByaWNlID0gZnVuY3Rpb24gd29yc3RFeGVjdXRpb25QcmljZShzbGlwcGFnZVRvbGVyYW5jZSkge1xuICAgIHJldHVybiBuZXcgUHJpY2UodGhpcy5pbnB1dEFtb3VudC5jdXJyZW5jeSwgdGhpcy5vdXRwdXRBbW91bnQuY3VycmVuY3ksIHRoaXMubWF4aW11bUFtb3VudEluKHNsaXBwYWdlVG9sZXJhbmNlKS5xdW90aWVudCwgdGhpcy5taW5pbXVtQW1vdW50T3V0KHNsaXBwYWdlVG9sZXJhbmNlKS5xdW90aWVudCk7XG4gIH1cbiAgLyoqXHJcbiAgICogc2ltaWxhciB0byB0aGUgYWJvdmUgbWV0aG9kIGJ1dCBpbnN0ZWFkIHRhcmdldHMgYSBmaXhlZCBvdXRwdXQgYW1vdW50XHJcbiAgICogZ2l2ZW4gYSBsaXN0IG9mIHBhaXJzLCBhbmQgYSBmaXhlZCBhbW91bnQgb3V0LCByZXR1cm5zIHRoZSB0b3AgYG1heE51bVJlc3VsdHNgIHRyYWRlcyB0aGF0IGdvIGZyb20gYW4gaW5wdXQgdG9rZW5cclxuICAgKiB0byBhbiBvdXRwdXQgdG9rZW4gYW1vdW50LCBtYWtpbmcgYXQgbW9zdCBgbWF4SG9wc2AgaG9wc1xyXG4gICAqIG5vdGUgdGhpcyBkb2VzIG5vdCBjb25zaWRlciBhZ2dyZWdhdGlvbiwgYXMgcm91dGVzIGFyZSBsaW5lYXIuIGl0J3MgcG9zc2libGUgYSBiZXR0ZXIgcm91dGUgZXhpc3RzIGJ5IHNwbGl0dGluZ1xyXG4gICAqIHRoZSBhbW91bnQgaW4gYW1vbmcgbXVsdGlwbGUgcm91dGVzLlxyXG4gICAqIEBwYXJhbSBwYWlycyB0aGUgcGFpcnMgdG8gY29uc2lkZXIgaW4gZmluZGluZyB0aGUgYmVzdCB0cmFkZVxyXG4gICAqIEBwYXJhbSBjdXJyZW5jeUluIHRoZSBjdXJyZW5jeSB0byBzcGVuZFxyXG4gICAqIEBwYXJhbSBuZXh0QW1vdW50T3V0IHRoZSBleGFjdCBhbW91bnQgb2YgY3VycmVuY3kgb3V0XHJcbiAgICogQHBhcmFtIG1heE51bVJlc3VsdHMgbWF4aW11bSBudW1iZXIgb2YgcmVzdWx0cyB0byByZXR1cm5cclxuICAgKiBAcGFyYW0gbWF4SG9wcyBtYXhpbXVtIG51bWJlciBvZiBob3BzIGEgcmV0dXJuZWQgdHJhZGUgY2FuIG1ha2UsIGUuZy4gMSBob3AgZ29lcyB0aHJvdWdoIGEgc2luZ2xlIHBhaXJcclxuICAgKiBAcGFyYW0gY3VycmVudFBhaXJzIHVzZWQgaW4gcmVjdXJzaW9uOyB0aGUgY3VycmVudCBsaXN0IG9mIHBhaXJzXHJcbiAgICogQHBhcmFtIGN1cnJlbmN5QW1vdW50T3V0IHVzZWQgaW4gcmVjdXJzaW9uOyB0aGUgb3JpZ2luYWwgdmFsdWUgb2YgdGhlIGN1cnJlbmN5QW1vdW50T3V0IHBhcmFtZXRlclxyXG4gICAqIEBwYXJhbSBiZXN0VHJhZGVzIHVzZWQgaW4gcmVjdXJzaW9uOyB0aGUgY3VycmVudCBsaXN0IG9mIGJlc3QgdHJhZGVzXHJcbiAgICovO1xuICBUcmFkZS5iZXN0VHJhZGVFeGFjdE91dCA9IGZ1bmN0aW9uIGJlc3RUcmFkZUV4YWN0T3V0KHBhaXJzLCBjdXJyZW5jeUluLCBjdXJyZW5jeUFtb3VudE91dCwgX3RlbXAyLFxuICAvLyB1c2VkIGluIHJlY3Vyc2lvbi5cbiAgY3VycmVudFBhaXJzLCBuZXh0QW1vdW50T3V0LCBiZXN0VHJhZGVzKSB7XG4gICAgdmFyIF9yZWYyID0gX3RlbXAyID09PSB2b2lkIDAgPyB7fSA6IF90ZW1wMixcbiAgICAgIF9yZWYyJG1heE51bVJlc3VsdHMgPSBfcmVmMi5tYXhOdW1SZXN1bHRzLFxuICAgICAgbWF4TnVtUmVzdWx0cyA9IF9yZWYyJG1heE51bVJlc3VsdHMgPT09IHZvaWQgMCA/IDMgOiBfcmVmMiRtYXhOdW1SZXN1bHRzLFxuICAgICAgX3JlZjIkbWF4SG9wcyA9IF9yZWYyLm1heEhvcHMsXG4gICAgICBtYXhIb3BzID0gX3JlZjIkbWF4SG9wcyA9PT0gdm9pZCAwID8gMyA6IF9yZWYyJG1heEhvcHM7XG4gICAgaWYgKGN1cnJlbnRQYWlycyA9PT0gdm9pZCAwKSB7XG4gICAgICBjdXJyZW50UGFpcnMgPSBbXTtcbiAgICB9XG4gICAgaWYgKG5leHRBbW91bnRPdXQgPT09IHZvaWQgMCkge1xuICAgICAgbmV4dEFtb3VudE91dCA9IGN1cnJlbmN5QW1vdW50T3V0O1xuICAgIH1cbiAgICBpZiAoYmVzdFRyYWRlcyA9PT0gdm9pZCAwKSB7XG4gICAgICBiZXN0VHJhZGVzID0gW107XG4gICAgfVxuICAgICEocGFpcnMubGVuZ3RoID4gMCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdQQUlSUycpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAhKG1heEhvcHMgPiAwKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ01BWF9IT1BTJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICEoY3VycmVuY3lBbW91bnRPdXQgPT09IG5leHRBbW91bnRPdXQgfHwgY3VycmVudFBhaXJzLmxlbmd0aCA+IDApID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnSU5WQUxJRF9SRUNVUlNJT04nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgdmFyIGFtb3VudE91dCA9IG5leHRBbW91bnRPdXQud3JhcHBlZDtcbiAgICB2YXIgdG9rZW5JbiA9IGN1cnJlbmN5SW4ud3JhcHBlZDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhaXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgcGFpciA9IHBhaXJzW2ldO1xuICAgICAgLy8gcGFpciBpcnJlbGV2YW50XG4gICAgICBpZiAoIXBhaXIudG9rZW4wLmVxdWFscyhhbW91bnRPdXQuY3VycmVuY3kpICYmICFwYWlyLnRva2VuMS5lcXVhbHMoYW1vdW50T3V0LmN1cnJlbmN5KSkgY29udGludWU7XG4gICAgICBpZiAocGFpci5yZXNlcnZlMC5lcXVhbFRvKFpFUk8pIHx8IHBhaXIucmVzZXJ2ZTEuZXF1YWxUbyhaRVJPKSkgY29udGludWU7XG4gICAgICB2YXIgYW1vdW50SW4gPSB2b2lkIDA7XG4gICAgICB0cnkge1xuICAgICAgICA7XG4gICAgICAgIHZhciBfcGFpciRnZXRJbnB1dEFtb3VudDIgPSBwYWlyLmdldElucHV0QW1vdW50KGFtb3VudE91dCk7XG4gICAgICAgIGFtb3VudEluID0gX3BhaXIkZ2V0SW5wdXRBbW91bnQyWzBdO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgLy8gbm90IGVub3VnaCBsaXF1aWRpdHkgaW4gdGhpcyBwYWlyXG4gICAgICAgIGlmIChlcnJvci5pc0luc3VmZmljaWVudFJlc2VydmVzRXJyb3IpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cbiAgICAgIC8vIHdlIGhhdmUgYXJyaXZlZCBhdCB0aGUgaW5wdXQgdG9rZW4sIHNvIHRoaXMgaXMgdGhlIGZpcnN0IHRyYWRlIG9mIG9uZSBvZiB0aGUgcGF0aHNcbiAgICAgIGlmIChhbW91bnRJbi5jdXJyZW5jeS5lcXVhbHModG9rZW5JbikpIHtcbiAgICAgICAgc29ydGVkSW5zZXJ0KGJlc3RUcmFkZXMsIG5ldyBUcmFkZShuZXcgUm91dGUoW3BhaXJdLmNvbmNhdChjdXJyZW50UGFpcnMpLCBjdXJyZW5jeUluLCBjdXJyZW5jeUFtb3VudE91dC5jdXJyZW5jeSksIGN1cnJlbmN5QW1vdW50T3V0LCBUcmFkZVR5cGUuRVhBQ1RfT1VUUFVUKSwgbWF4TnVtUmVzdWx0cywgdHJhZGVDb21wYXJhdG9yKTtcbiAgICAgIH0gZWxzZSBpZiAobWF4SG9wcyA+IDEgJiYgcGFpcnMubGVuZ3RoID4gMSkge1xuICAgICAgICB2YXIgcGFpcnNFeGNsdWRpbmdUaGlzUGFpciA9IHBhaXJzLnNsaWNlKDAsIGkpLmNvbmNhdChwYWlycy5zbGljZShpICsgMSwgcGFpcnMubGVuZ3RoKSk7XG4gICAgICAgIC8vIG90aGVyd2lzZSwgY29uc2lkZXIgYWxsIHRoZSBvdGhlciBwYXRocyB0aGF0IGFycml2ZSBhdCB0aGlzIHRva2VuIGFzIGxvbmcgYXMgd2UgaGF2ZSBub3QgZXhjZWVkZWQgbWF4SG9wc1xuICAgICAgICBUcmFkZS5iZXN0VHJhZGVFeGFjdE91dChwYWlyc0V4Y2x1ZGluZ1RoaXNQYWlyLCBjdXJyZW5jeUluLCBjdXJyZW5jeUFtb3VudE91dCwge1xuICAgICAgICAgIG1heE51bVJlc3VsdHM6IG1heE51bVJlc3VsdHMsXG4gICAgICAgICAgbWF4SG9wczogbWF4SG9wcyAtIDFcbiAgICAgICAgfSwgW3BhaXJdLmNvbmNhdChjdXJyZW50UGFpcnMpLCBhbW91bnRJbiwgYmVzdFRyYWRlcyk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBiZXN0VHJhZGVzO1xuICB9O1xuICByZXR1cm4gVHJhZGU7XG59KCk7XG5cbmZ1bmN0aW9uIHRvSGV4KGN1cnJlbmN5QW1vdW50KSB7XG4gIHJldHVybiBcIjB4XCIgKyBjdXJyZW5jeUFtb3VudC5xdW90aWVudC50b1N0cmluZygxNik7XG59XG52YXIgWkVST19IRVggPSAnMHgwJztcbi8qKlxyXG4gKiBSZXByZXNlbnRzIHRoZSBVbmlzd2FwIFYyIFJvdXRlciwgYW5kIGhhcyBzdGF0aWMgbWV0aG9kcyBmb3IgaGVscGluZyBleGVjdXRlIHRyYWRlcy5cclxuICovXG52YXIgUm91dGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgLyoqXHJcbiAgICogQ2Fubm90IGJlIGNvbnN0cnVjdGVkLlxyXG4gICAqL1xuICBmdW5jdGlvbiBSb3V0ZXIoKSB7fVxuICAvKipcclxuICAgKiBQcm9kdWNlcyB0aGUgb24tY2hhaW4gbWV0aG9kIG5hbWUgdG8gY2FsbCBhbmQgdGhlIGhleCBlbmNvZGVkIHBhcmFtZXRlcnMgdG8gcGFzcyBhcyBhcmd1bWVudHMgZm9yIGEgZ2l2ZW4gdHJhZGUuXHJcbiAgICogQHBhcmFtIHRyYWRlIHRvIHByb2R1Y2UgY2FsbCBwYXJhbWV0ZXJzIGZvclxyXG4gICAqIEBwYXJhbSBvcHRpb25zIG9wdGlvbnMgZm9yIHRoZSBjYWxsIHBhcmFtZXRlcnNcclxuICAgKi9cbiAgUm91dGVyLnN3YXBDYWxsUGFyYW1ldGVycyA9IGZ1bmN0aW9uIHN3YXBDYWxsUGFyYW1ldGVycyh0cmFkZSwgb3B0aW9ucykge1xuICAgIHZhciBldGhlckluID0gdHJhZGUuaW5wdXRBbW91bnQuY3VycmVuY3kuaXNOYXRpdmU7XG4gICAgdmFyIGV0aGVyT3V0ID0gdHJhZGUub3V0cHV0QW1vdW50LmN1cnJlbmN5LmlzTmF0aXZlO1xuICAgIC8vIHRoZSByb3V0ZXIgZG9lcyBub3Qgc3VwcG9ydCBib3RoIGV0aGVyIGluIGFuZCBvdXRcbiAgICAhIShldGhlckluICYmIGV0aGVyT3V0KSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0VUSEVSX0lOX09VVCcpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAhKCEoJ3R0bCcgaW4gb3B0aW9ucykgfHwgb3B0aW9ucy50dGwgPiAwKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ1RUTCcpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICB2YXIgdG8gPSB2YWxpZGF0ZUFuZFBhcnNlQWRkcmVzcyhvcHRpb25zLnJlY2lwaWVudCk7XG4gICAgdmFyIGFtb3VudEluID0gdG9IZXgodHJhZGUubWF4aW11bUFtb3VudEluKG9wdGlvbnMuYWxsb3dlZFNsaXBwYWdlKSk7XG4gICAgdmFyIGFtb3VudE91dCA9IHRvSGV4KHRyYWRlLm1pbmltdW1BbW91bnRPdXQob3B0aW9ucy5hbGxvd2VkU2xpcHBhZ2UpKTtcbiAgICB2YXIgcGF0aCA9IHRyYWRlLnJvdXRlLnBhdGgubWFwKGZ1bmN0aW9uICh0b2tlbikge1xuICAgICAgcmV0dXJuIHRva2VuLmFkZHJlc3M7XG4gICAgfSk7XG4gICAgdmFyIGRlYWRsaW5lID0gJ3R0bCcgaW4gb3B0aW9ucyA/IFwiMHhcIiArIChNYXRoLmZsb29yKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gMTAwMCkgKyBvcHRpb25zLnR0bCkudG9TdHJpbmcoMTYpIDogXCIweFwiICsgb3B0aW9ucy5kZWFkbGluZS50b1N0cmluZygxNik7XG4gICAgdmFyIHVzZUZlZU9uVHJhbnNmZXIgPSBCb29sZWFuKG9wdGlvbnMuZmVlT25UcmFuc2Zlcik7XG4gICAgdmFyIG1ldGhvZE5hbWU7XG4gICAgdmFyIGFyZ3M7XG4gICAgdmFyIHZhbHVlO1xuICAgIHN3aXRjaCAodHJhZGUudHJhZGVUeXBlKSB7XG4gICAgICBjYXNlIFRyYWRlVHlwZS5FWEFDVF9JTlBVVDpcbiAgICAgICAgaWYgKGV0aGVySW4pIHtcbiAgICAgICAgICBtZXRob2ROYW1lID0gdXNlRmVlT25UcmFuc2ZlciA/ICdzd2FwRXhhY3RFVEhGb3JUb2tlbnNTdXBwb3J0aW5nRmVlT25UcmFuc2ZlclRva2VucycgOiAnc3dhcEV4YWN0RVRIRm9yVG9rZW5zJztcbiAgICAgICAgICAvLyAodWludCBhbW91bnRPdXRNaW4sIGFkZHJlc3NbXSBjYWxsZGF0YSBwYXRoLCBhZGRyZXNzIHRvLCB1aW50IGRlYWRsaW5lKVxuICAgICAgICAgIGFyZ3MgPSBbYW1vdW50T3V0LCBwYXRoLCB0bywgZGVhZGxpbmVdO1xuICAgICAgICAgIHZhbHVlID0gYW1vdW50SW47XG4gICAgICAgIH0gZWxzZSBpZiAoZXRoZXJPdXQpIHtcbiAgICAgICAgICBtZXRob2ROYW1lID0gdXNlRmVlT25UcmFuc2ZlciA/ICdzd2FwRXhhY3RUb2tlbnNGb3JFVEhTdXBwb3J0aW5nRmVlT25UcmFuc2ZlclRva2VucycgOiAnc3dhcEV4YWN0VG9rZW5zRm9yRVRIJztcbiAgICAgICAgICAvLyAodWludCBhbW91bnRJbiwgdWludCBhbW91bnRPdXRNaW4sIGFkZHJlc3NbXSBjYWxsZGF0YSBwYXRoLCBhZGRyZXNzIHRvLCB1aW50IGRlYWRsaW5lKVxuICAgICAgICAgIGFyZ3MgPSBbYW1vdW50SW4sIGFtb3VudE91dCwgcGF0aCwgdG8sIGRlYWRsaW5lXTtcbiAgICAgICAgICB2YWx1ZSA9IFpFUk9fSEVYO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1ldGhvZE5hbWUgPSB1c2VGZWVPblRyYW5zZmVyID8gJ3N3YXBFeGFjdFRva2Vuc0ZvclRva2Vuc1N1cHBvcnRpbmdGZWVPblRyYW5zZmVyVG9rZW5zJyA6ICdzd2FwRXhhY3RUb2tlbnNGb3JUb2tlbnMnO1xuICAgICAgICAgIC8vICh1aW50IGFtb3VudEluLCB1aW50IGFtb3VudE91dE1pbiwgYWRkcmVzc1tdIGNhbGxkYXRhIHBhdGgsIGFkZHJlc3MgdG8sIHVpbnQgZGVhZGxpbmUpXG4gICAgICAgICAgYXJncyA9IFthbW91bnRJbiwgYW1vdW50T3V0LCBwYXRoLCB0bywgZGVhZGxpbmVdO1xuICAgICAgICAgIHZhbHVlID0gWkVST19IRVg7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFRyYWRlVHlwZS5FWEFDVF9PVVRQVVQ6XG4gICAgICAgICEhdXNlRmVlT25UcmFuc2ZlciA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0VYQUNUX09VVF9GT1QnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgIGlmIChldGhlckluKSB7XG4gICAgICAgICAgbWV0aG9kTmFtZSA9ICdzd2FwRVRIRm9yRXhhY3RUb2tlbnMnO1xuICAgICAgICAgIC8vICh1aW50IGFtb3VudE91dCwgYWRkcmVzc1tdIGNhbGxkYXRhIHBhdGgsIGFkZHJlc3MgdG8sIHVpbnQgZGVhZGxpbmUpXG4gICAgICAgICAgYXJncyA9IFthbW91bnRPdXQsIHBhdGgsIHRvLCBkZWFkbGluZV07XG4gICAgICAgICAgdmFsdWUgPSBhbW91bnRJbjtcbiAgICAgICAgfSBlbHNlIGlmIChldGhlck91dCkge1xuICAgICAgICAgIG1ldGhvZE5hbWUgPSAnc3dhcFRva2Vuc0ZvckV4YWN0RVRIJztcbiAgICAgICAgICAvLyAodWludCBhbW91bnRPdXQsIHVpbnQgYW1vdW50SW5NYXgsIGFkZHJlc3NbXSBjYWxsZGF0YSBwYXRoLCBhZGRyZXNzIHRvLCB1aW50IGRlYWRsaW5lKVxuICAgICAgICAgIGFyZ3MgPSBbYW1vdW50T3V0LCBhbW91bnRJbiwgcGF0aCwgdG8sIGRlYWRsaW5lXTtcbiAgICAgICAgICB2YWx1ZSA9IFpFUk9fSEVYO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1ldGhvZE5hbWUgPSAnc3dhcFRva2Vuc0ZvckV4YWN0VG9rZW5zJztcbiAgICAgICAgICAvLyAodWludCBhbW91bnRPdXQsIHVpbnQgYW1vdW50SW5NYXgsIGFkZHJlc3NbXSBjYWxsZGF0YSBwYXRoLCBhZGRyZXNzIHRvLCB1aW50IGRlYWRsaW5lKVxuICAgICAgICAgIGFyZ3MgPSBbYW1vdW50T3V0LCBhbW91bnRJbiwgcGF0aCwgdG8sIGRlYWRsaW5lXTtcbiAgICAgICAgICB2YWx1ZSA9IFpFUk9fSEVYO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgbWV0aG9kTmFtZTogbWV0aG9kTmFtZSxcbiAgICAgIGFyZ3M6IGFyZ3MsXG4gICAgICB2YWx1ZTogdmFsdWVcbiAgICB9O1xuICB9O1xuICByZXR1cm4gUm91dGVyO1xufSgpO1xuXG5leHBvcnQgeyBGQUNUT1JZX0FERFJFU1NfTUFQLCBJTklUX0NPREVfSEFTSCwgSW5zdWZmaWNpZW50SW5wdXRBbW91bnRFcnJvciwgSW5zdWZmaWNpZW50UmVzZXJ2ZXNFcnJvciwgTUlOSU1VTV9MSVFVSURJVFksIFBhaXIsIFJvdXRlLCBSb3V0ZXIsIFRyYWRlLCBjb21wdXRlUGFpckFkZHJlc3MsIGlucHV0T3V0cHV0Q29tcGFyYXRvciwgdHJhZGVDb21wYXJhdG9yIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD12Mi1zZGsuZXNtLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@uniswap/v2-sdk/dist/v2-sdk.esm.js\n");

/***/ })

};
;